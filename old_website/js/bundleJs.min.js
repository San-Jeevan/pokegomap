function MarkerClusterer(n,t,i){var r,u;this.extend(MarkerClusterer,google.maps.OverlayView);this.map_=n;this.markers_=[];this.clusters_=[];this.sizes=[53,56,66,78,90];this.styles_=[];this.ready_=!1;r=i||{};this.gridSize_=r.gridSize||60;this.minClusterSize_=r.minimumClusterSize||2;this.maxZoom_=r.maxZoom||null;this.styles_=r.styles||[];this.imagePath_=r.imagePath||this.MARKER_CLUSTER_IMAGE_PATH_;this.imageExtension_=r.imageExtension||this.MARKER_CLUSTER_IMAGE_EXTENSION_;this.zoomOnClick_=!0;r.zoomOnClick!=undefined&&(this.zoomOnClick_=r.zoomOnClick);this.averageCenter_=!1;r.averageCenter!=undefined&&(this.averageCenter_=r.averageCenter);this.setupStyles_();this.setMap(n);this.prevZoom_=this.map_.getZoom();u=this;google.maps.event.addListener(this.map_,"zoom_changed",function(){var n=u.map_.getZoom();u.prevZoom_!=n&&(u.prevZoom_=n,u.resetViewport())});google.maps.event.addListener(this.map_,"idle",function(){u.redraw()});t&&t.length&&this.addMarkers(t,!1)}function Cluster(n){this.markerClusterer_=n;this.map_=n.getMap();this.gridSize_=n.getGridSize();this.minClusterSize_=n.getMinClusterSize();this.averageCenter_=n.isAverageCenter();this.center_=null;this.markers_=[];this.bounds_=null;this.clusterIcon_=new ClusterIcon(this,n.getStyles(),n.getGridSize())}function ClusterIcon(n,t,i){n.getMarkerClusterer().extend(ClusterIcon,google.maps.OverlayView);this.styles_=t;this.padding_=i||0;this.cluster_=n;this.center_=null;this.map_=n.getMap();this.div_=null;this.sums_=null;this.visible_=!1;this.setMap(this.map_)}!function(n,t){"use strict";"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],function(n){return t(n)}):t(n.jQuery)}(this,function(n){"use strict";var t=function(t,i){this.$element=n(t);this.options=n.extend({},n.fn.typeahead.defaults,i);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.select=this.options.select||this.select;this.autoSelect="boolean"==typeof this.options.autoSelect?this.options.autoSelect:!0;this.highlighter=this.options.highlighter||this.highlighter;this.render=this.options.render||this.render;this.updater=this.options.updater||this.updater;this.displayText=this.options.displayText||this.displayText;this.source=this.options.source;this.delay=this.options.delay;this.$menu=n(this.options.menu);this.$appendTo=this.options.appendTo?n(this.options.appendTo):null;this.shown=!1;this.listen();this.showHintOnFocus="boolean"==typeof this.options.showHintOnFocus?this.options.showHintOnFocus:!1;this.afterSelect=this.options.afterSelect;this.addItem=!1},i;t.prototype={constructor:t,select:function(){var t=this.$menu.find(".active").data("value"),n;return(this.$element.data("active",t),this.autoSelect||t)&&(n=this.updater(t),n||(n=""),this.$element.val(this.displayText(n)||n).text(this.displayText(n)||n).change(),this.afterSelect(n)),this.hide()},updater:function(n){return n},setSource:function(n){this.source=n},show:function(){var t,i=n.extend({},this.$element.position(),{height:this.$element[0].offsetHeight}),r="function"==typeof this.options.scrollHeight?this.options.scrollHeight.call():this.options.scrollHeight;t=this.shown?this.$menu:this.$appendTo?this.$menu.appendTo(this.$appendTo):this.$menu.insertAfter(this.$element);var u=n(t).parent().hasClass("dropup"),f=u?"auto":i.top+i.height+r,e=n(t).hasClass("dropdown-menu-right"),o=e?"auto":i.left;return t.css({top:f,left:o}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){if(this.query="undefined"!=typeof t&&null!==t?t:this.$element.val()||this.$element.text()||"",this.query.length<this.options.minLength&&!this.options.showHintOnFocus)return this.shown?this.hide():this;var i=n.proxy(function(){n.isFunction(this.source)?this.source(this.query,n.proxy(this.process,this)):this.source&&this.process(this.source)},this);clearTimeout(this.lookupWorker);this.lookupWorker=setTimeout(i,this.delay)},process:function(t){var i=this;return t=n.grep(t,function(n){return i.matcher(n)}),t=this.sorter(t),t.length||this.options.addItem?(t.length>0?this.$element.data("active",t[0]):this.$element.data("active",null),this.options.addItem&&t.push(this.options.addItem),"all"==this.options.items?this.render(t).show():this.render(t.slice(0,this.options.items)).show()):this.shown?this.hide():this},matcher:function(n){var t=this.displayText(n);return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(n){for(var i,t,r=[],u=[],f=[];t=n.shift();)i=this.displayText(t),i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?u.push(t):f.push(t):r.push(t);return r.concat(u,f)},highlighter:function(t){var e,o,s,h,r=n("<div><\/div>"),u=this.query,i=t.toLowerCase().indexOf(u.toLowerCase()),f=u.length;if(0===f)return r.text(t).html();for(;i>-1;)e=t.substr(0,i),o=t.substr(i,f),s=t.substr(i+f),h=n("<strong><\/strong>").text(o),r.append(document.createTextNode(e)).append(h),t=s,i=t.toLowerCase().indexOf(u.toLowerCase());return r.append(document.createTextNode(t)).html()},render:function(t){var r=this,f=this,e=!1,u=[],i=r.options.separator;return n.each(t,function(n,r){n>0&&r[i]!==t[n-1][i]&&u.push({__type:"divider"});!r[i]||0!==n&&r[i]===t[n-1][i]||u.push({__type:"category",name:r[i]});u.push(r)}),t=n(u).map(function(t,i){if("category"==(i.__type||!1))return n(r.options.headerHtml).text(i.name)[0];if("divider"==(i.__type||!1))return n(r.options.headerDivider)[0];var u=f.displayText(i);return t=n(r.options.item).data("value",i),t.find("a").html(r.highlighter(u,i)),u==f.$element.val()&&(t.addClass("active"),f.$element.data("active",i),e=!0),t[0]}),this.autoSelect&&!e&&(t.filter(":not(.dropdown-header)").first().addClass("active"),this.$element.data("active",t.first().data("value"))),this.$menu.html(t),this},displayText:function(n){return"undefined"!=typeof n&&"undefined"!=typeof n.name&&n.name||n},next:function(){var i=this.$menu.find(".active").removeClass("active"),t=i.next();t.length||(t=n(this.$menu.find("li")[0]));t.addClass("active")},prev:function(){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last());n.addClass("active")},listen:function(){this.$element.on("focus",n.proxy(this.focus,this)).on("blur",n.proxy(this.blur,this)).on("keypress",n.proxy(this.keypress,this)).on("input",n.proxy(this.input,this)).on("keyup",n.proxy(this.keyup,this));this.eventSupported("keydown")&&this.$element.on("keydown",n.proxy(this.keydown,this));this.$menu.on("click",n.proxy(this.click,this)).on("mouseenter","li",n.proxy(this.mouseenter,this)).on("mouseleave","li",n.proxy(this.mouseleave,this)).on("mousedown",n.proxy(this.mousedown,this))},mousedown:function(n){this.mouseddown=!0;n.stopPropagation();n.preventDefault()},destroy:function(){this.$element.data("typeahead",null);this.$element.data("active",null);this.$element.off("focus").off("blur").off("keypress").off("input").off("keyup");this.eventSupported("keydown")&&this.$element.off("keydown");this.$menu.remove();this.destroyed=!0},eventSupported:function(n){var t=n in this.$element;return t||(this.$element.setAttribute(n,"return;"),t="function"==typeof this.$element[n]),t},move:function(n){if(this.shown)switch(n.keyCode){case 9:case 13:case 27:n.preventDefault();break;case 38:if(n.shiftKey)return;n.preventDefault();this.prev();break;case 40:if(n.shiftKey)return;n.preventDefault();this.next()}},keydown:function(t){this.suppressKeyPressRepeat=~n.inArray(t.keyCode,[40,38,9,13,27]);this.shown||40!=t.keyCode?this.move(t):this.lookup()},keypress:function(n){this.suppressKeyPressRepeat||this.move(n)},input:function(n){this.lookup();n.preventDefault()},keyup:function(n){if(!this.destroyed){switch(n.keyCode){case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide()}n.preventDefault()}},focus:function(){this.focused||(this.focused=!0,this.options.showHintOnFocus&&this.lookup())},blur:function(n){this.focused=!1;!this.mousedover&&this.shown&&(this.mouseddown&&n.originalEvent?this.mouseddown=!1:this.hide())},click:function(n){n.preventDefault();this.select();this.$element.focus();this.hide()},mouseenter:function(t){this.mousedover=!0;this.$menu.find(".active").removeClass("active");n(t.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1}};i=n.fn.typeahead;n.fn.typeahead=function(i){var r=arguments;return"string"==typeof i&&"getActive"==i?this.data("active"):this.each(function(){var f=n(this),u=f.data("typeahead"),e="object"==typeof i&&i;u||f.data("typeahead",u=new t(this,e));"string"==typeof i&&u[i]&&(r.length>1?u[i].apply(u,Array.prototype.slice.call(r,1)):u[i]())})};n.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu" role="listbox"><\/ul>',item:'<li><a class="dropdown-item" href="#" role="option"><\/a><\/li>',minLength:1,scrollHeight:0,autoSelect:!0,afterSelect:n.noop,addItem:!1,delay:0,separator:"category",headerHtml:'<li class="dropdown-header"><\/li>',headerDivider:'<li class="divider" role="separator"><\/li>'};n.fn.typeahead.Constructor=t;n.fn.typeahead.noConflict=function(){return n.fn.typeahead=i,this};n(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var t=n(this);t.data("typeahead")||t.typeahead(t.data())})});
//! moment.js
//! version : 2.14.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.moment=t()}(this,function(){"use strict";function t(){return ve.apply(null,arguments)}function vo(n){ve=n}function ct(n){return n instanceof Array||"[object Array]"===Object.prototype.toString.call(n)}function vi(n){return"[object Object]"===Object.prototype.toString.call(n)}function yo(n){for(var t in n)return!1;return!0}function yi(n){return n instanceof Date||"[object Date]"===Object.prototype.toString.call(n)}function gu(n,t){for(var r=[],i=0;i<n.length;++i)r.push(t(n[i],i));return r}function l(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function lt(n,t){for(var i in t)l(t,i)&&(n[i]=t[i]);return l(t,"toString")&&(n.toString=t.toString),l(t,"valueOf")&&(n.valueOf=t.valueOf),n}function rt(n,t,i,r){return kf(n,t,i,r,!0).utc()}function po(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function u(n){return null==n._pf&&(n._pf=po()),n._pf}function cr(n){if(null==n._isValid){var t=u(n),i=ye.call(t.parsedDateParts,function(n){return null!=n});n._isValid=!isNaN(n._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);n._strict&&(n._isValid=n._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return n._isValid}function pi(n){var t=rt(NaN);return null!=n?lt(u(t),n):u(t).userInvalidated=!0,t}function b(n){return void 0===n}function lr(n,t){var f,i,r;if(b(t._isAMomentObject)||(n._isAMomentObject=t._isAMomentObject),b(t._i)||(n._i=t._i),b(t._f)||(n._f=t._f),b(t._l)||(n._l=t._l),b(t._strict)||(n._strict=t._strict),b(t._tzm)||(n._tzm=t._tzm),b(t._isUTC)||(n._isUTC=t._isUTC),b(t._offset)||(n._offset=t._offset),b(t._pf)||(n._pf=u(t)),b(t._locale)||(n._locale=t._locale),ou.length>0)for(f in ou)i=ou[f],r=t[i],b(r)||(n[i]=r);return n}function oi(n){lr(this,n);this._d=new Date(null!=n._d?n._d.getTime():NaN);su===!1&&(su=!0,t.updateOffset(this),su=!1)}function at(n){return n instanceof oi||null!=n&&null!=n._isAMomentObject}function k(n){return 0>n?Math.ceil(n)||0:Math.floor(n)}function f(n){var t=+n,i=0;return 0!==t&&isFinite(t)&&(i=k(t)),i}function nf(n,t,i){for(var e=Math.min(n.length,t.length),o=Math.abs(n.length-t.length),u=0,r=0;e>r;r++)(i&&n[r]!==t[r]||!i&&f(n[r])!==f(t[r]))&&u++;return u+o}function tf(n){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+n)}function d(n,i){var r=!0;return lt(function(){return null!=t.deprecationHandler&&t.deprecationHandler(null,n),r&&(tf(n+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),r=!1),i.apply(this,arguments)},i)}function ar(n,i){null!=t.deprecationHandler&&t.deprecationHandler(n,i);pe[n]||(tf(i),pe[n]=!0)}function ft(n){return n instanceof Function||"[object Function]"===Object.prototype.toString.call(n)}function wo(n){var t;for(var i in n)t=n[i],ft(t)?this[i]=t:this["_"+i]=t;this._config=n;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function rf(n,t){var i,r=lt({},n);for(i in t)l(t,i)&&(vi(n[i])&&vi(t[i])?(r[i]={},lt(r[i],n[i]),lt(r[i],t[i])):null!=t[i]?r[i]=t[i]:delete r[i]);for(i in n)l(n,i)&&!l(t,i)&&vi(n[i])&&(r[i]=lt({},r[i]));return r}function vr(n){null!=n&&this.set(n)}function bo(n,t,i){var r=this._calendar[n]||this._calendar.sameElse;return ft(r)?r.call(t,i):r}function ko(n){var t=this._longDateFormat[n],i=this._longDateFormat[n.toUpperCase()];return t||!i?t:(this._longDateFormat[n]=i.replace(/MMMM|MM|DD|dddd/g,function(n){return n.slice(1)}),this._longDateFormat[n])}function go(){return this._invalidDate}function ns(n){return this._ordinal.replace("%d",n)}function ts(n,t,i,r){var u=this._relativeTime[i];return ft(u)?u(n,t,i,r):u.replace(/%d/i,n)}function is(n,t){var i=this._relativeTime[n>0?"future":"past"];return ft(i)?i(t):i.replace(/%s/i,t)}function p(n,t){var i=n.toLowerCase();li[i]=li[i+"s"]=li[t]=n}function g(n){if("string"==typeof n)return li[n]||li[n.toLowerCase()]}function yr(n){var i,t,r={};for(t in n)l(n,t)&&(i=g(t),i&&(r[i]=n[t]));return r}function w(n,t){be[n]=t}function rs(n){var t=[];for(var i in n)t.push({unit:i,priority:be[i]});return t.sort(function(n,t){return n.priority-t.priority}),t}function ri(n,i){return function(r){return null!=r?(uf(this,n,r),t.updateOffset(this,i),this):wi(this,n)}}function wi(n,t){return n.isValid()?n._d["get"+(n._isUTC?"UTC":"")+t]():NaN}function uf(n,t,i){n.isValid()&&n._d["set"+(n._isUTC?"UTC":"")+t](i)}function us(n){return n=g(n),ft(this[n])?this[n]():this}function fs(n,t){if("object"==typeof n){n=yr(n);for(var r=rs(n),i=0;i<r.length;i++)this[r[i].unit](n[r[i].unit])}else if(n=g(n),ft(this[n]))return this[n](t);return this}function et(n,t,i){var r=""+Math.abs(n),u=t-r.length,f=n>=0;return(f?i?"+":"":"-")+Math.pow(10,Math.max(0,u)).toString().substr(1)+r}function r(n,t,i,r){var u=r;"string"==typeof r&&(u=function(){return this[r]()});n&&(ei[n]=u);t&&(ei[t[0]]=function(){return et(u.apply(this,arguments),t[1],t[2])});i&&(ei[i]=function(){return this.localeData().ordinal(u.apply(this,arguments),n)})}function es(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function os(n){for(var t=n.match(ke),i=0,r=t.length;r>i;i++)t[i]=ei[t[i]]?ei[t[i]]:es(t[i]);return function(i){for(var f="",u=0;r>u;u++)f+=t[u]instanceof Function?t[u].call(i,n):t[u];return f}}function pr(n,t){return n.isValid()?(t=ff(t,n.localeData()),hu[t]=hu[t]||os(t),hu[t](n)):n.localeData().invalidDate()}function ff(n,t){function r(n){return t.longDateFormat(n)||n}var i=5;for(ir.lastIndex=0;i>=0&&ir.test(n);)n=n.replace(ir,r),ir.lastIndex=0,i-=1;return n}function i(n,t,i){au[n]=ft(t)?t:function(n){return n&&i?i:t}}function ss(n,t){return l(au,n)?au[n](t._strict,t._locale):new RegExp(hs(n))}function hs(n){return dt(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(n,t,i,r,u){return t||i||r||u}))}function dt(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function s(n,t){var i,r=t;for("string"==typeof n&&(n=[n]),"number"==typeof t&&(r=function(n,i){i[t]=f(n)}),i=0;i<n.length;i++)vu[n[i]]=r}function si(n,t){s(n,function(n,i,r,u){r._w=r._w||{};t(n,r._w,r,u)})}function cs(n,t,i){null!=t&&l(vu,n)&&vu[n](t,i._a,i,n)}function wr(n,t){return new Date(Date.UTC(n,t+1,0)).getUTCDate()}function ls(n,t){return ct(this._months)?this._months[n.month()]:this._months[(this._months.isFormat||io).test(t)?"format":"standalone"][n.month()]}function as(n,t){return ct(this._monthsShort)?this._monthsShort[n.month()]:this._monthsShort[io.test(t)?"format":"standalone"][n.month()]}function vs(n,t,i){var u,r,e,f=n.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],u=0;12>u;++u)e=rt([2e3,u]),this._shortMonthsParse[u]=this.monthsShort(e,"").toLocaleLowerCase(),this._longMonthsParse[u]=this.months(e,"").toLocaleLowerCase();return i?"MMM"===t?(r=v.call(this._shortMonthsParse,f),-1!==r?r:null):(r=v.call(this._longMonthsParse,f),-1!==r?r:null):"MMM"===t?(r=v.call(this._shortMonthsParse,f),-1!==r?r:(r=v.call(this._longMonthsParse,f),-1!==r?r:null)):(r=v.call(this._longMonthsParse,f),-1!==r?r:(r=v.call(this._shortMonthsParse,f),-1!==r?r:null))}function ys(n,t,i){var r,u,f;if(this._monthsParseExact)return vs.call(this,n,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++)if((u=rt([2e3,r]),i&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(u,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(u,"").replace(".","")+"$","i")),i||this._monthsParse[r]||(f="^"+this.months(u,"")+"|^"+this.monthsShort(u,""),this._monthsParse[r]=new RegExp(f.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[r].test(n))||i&&"MMM"===t&&this._shortMonthsParse[r].test(n)||!i&&this._monthsParse[r].test(n))return r}function ef(n,t){var i;if(!n.isValid())return n;if("string"==typeof t)if(/^\d+$/.test(t))t=f(t);else if(t=n.localeData().monthsParse(t),"number"!=typeof t)return n;return i=Math.min(n.date(),wr(n.year(),t)),n._d["set"+(n._isUTC?"UTC":"")+"Month"](t,i),n}function of(n){return null!=n?(ef(this,n),t.updateOffset(this,!0),this):wi(this,"Month")}function ps(){return wr(this.year(),this.month())}function ws(n){return this._monthsParseExact?(l(this,"_monthsRegex")||sf.call(this),n?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=uy),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)}function bs(n){return this._monthsParseExact?(l(this,"_monthsRegex")||sf.call(this),n?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=fy),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)}function sf(){function f(n,t){return t.length-n.length}for(var i,r=[],u=[],t=[],n=0;12>n;n++)i=rt([2e3,n]),r.push(this.monthsShort(i,"")),u.push(this.months(i,"")),t.push(this.months(i,"")),t.push(this.monthsShort(i,""));for(r.sort(f),u.sort(f),t.sort(f),n=0;12>n;n++)r[n]=dt(r[n]),u[n]=dt(u[n]);for(n=0;24>n;n++)t[n]=dt(t[n]);this._monthsRegex=new RegExp("^("+t.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+u.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function hi(n){return hf(n)?366:365}function hf(n){return n%4==0&&n%100!=0||n%400==0}function ks(){return hf(this.year())}function ds(n,t,i,r,u,f,e){var o=new Date(n,t,i,r,u,f,e);return 100>n&&n>=0&&isFinite(o.getFullYear())&&o.setFullYear(n),o}function bi(n){var t=new Date(Date.UTC.apply(null,arguments));return 100>n&&n>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(n),t}function ki(n,t,i){var r=7+t-i,u=(7+bi(n,0,r).getUTCDay()-t)%7;return-u+r-1}function cf(n,t,i,r,u){var f,o,s=(7+i-r)%7,h=ki(n,r,u),e=1+7*(t-1)+s+h;return 0>=e?(f=n-1,o=hi(f)+e):e>hi(n)?(f=n+1,o=e-hi(n)):(f=n,o=e),{year:f,dayOfYear:o}}function ci(n,t,i){var f,r,e=ki(n.year(),t,i),u=Math.floor((n.dayOfYear()-e-1)/7)+1;return 1>u?(r=n.year()-1,f=u+gt(r,t,i)):u>gt(n.year(),t,i)?(f=u-gt(n.year(),t,i),r=n.year()+1):(r=n.year(),f=u),{week:f,year:r}}function gt(n,t,i){var r=ki(n,t,i),u=ki(n+1,t,i);return(hi(n)-r+u)/7}function gs(n){return ci(n,this._week.dow,this._week.doy).week}function nh(){return this._week.dow}function th(){return this._week.doy}function ih(n){var t=this.localeData().week(this);return null==n?t:this.add(7*(n-t),"d")}function rh(n){var t=ci(this,1,4).week;return null==n?t:this.add(7*(n-t),"d")}function uh(n,t){return"string"!=typeof n?n:isNaN(n)?(n=t.weekdaysParse(n),"number"==typeof n?n:null):parseInt(n,10)}function fh(n,t){return"string"==typeof n?t.weekdaysParse(n)%7||7:isNaN(n)?null:n}function eh(n,t){return ct(this._weekdays)?this._weekdays[n.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][n.day()]}function oh(n){return this._weekdaysShort[n.day()]}function sh(n){return this._weekdaysMin[n.day()]}function hh(n,t,i){var f,r,e,u=n.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],f=0;7>f;++f)e=rt([2e3,1]).day(f),this._minWeekdaysParse[f]=this.weekdaysMin(e,"").toLocaleLowerCase(),this._shortWeekdaysParse[f]=this.weekdaysShort(e,"").toLocaleLowerCase(),this._weekdaysParse[f]=this.weekdays(e,"").toLocaleLowerCase();return i?"dddd"===t?(r=v.call(this._weekdaysParse,u),-1!==r?r:null):"ddd"===t?(r=v.call(this._shortWeekdaysParse,u),-1!==r?r:null):(r=v.call(this._minWeekdaysParse,u),-1!==r?r:null):"dddd"===t?(r=v.call(this._weekdaysParse,u),-1!==r?r:(r=v.call(this._shortWeekdaysParse,u),-1!==r?r:(r=v.call(this._minWeekdaysParse,u),-1!==r?r:null))):"ddd"===t?(r=v.call(this._shortWeekdaysParse,u),-1!==r?r:(r=v.call(this._weekdaysParse,u),-1!==r?r:(r=v.call(this._minWeekdaysParse,u),-1!==r?r:null))):(r=v.call(this._minWeekdaysParse,u),-1!==r?r:(r=v.call(this._weekdaysParse,u),-1!==r?r:(r=v.call(this._shortWeekdaysParse,u),-1!==r?r:null)))}function ch(n,t,i){var r,u,f;if(this._weekdaysParseExact)return hh.call(this,n,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;7>r;r++)if((u=rt([2e3,1]).day(r),i&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(u,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(u,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(u,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(f="^"+this.weekdays(u,"")+"|^"+this.weekdaysShort(u,"")+"|^"+this.weekdaysMin(u,""),this._weekdaysParse[r]=new RegExp(f.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[r].test(n))||i&&"ddd"===t&&this._shortWeekdaysParse[r].test(n)||i&&"dd"===t&&this._minWeekdaysParse[r].test(n)||!i&&this._weekdaysParse[r].test(n))return r}function lh(n){if(!this.isValid())return null!=n?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=n?(n=uh(n,this.localeData()),this.add(n-t,"d")):t}function ah(n){if(!this.isValid())return null!=n?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==n?t:this.add(n-t,"d")}function vh(n){if(!this.isValid())return null!=n?this:NaN;if(null!=n){var t=fh(n,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function yh(n){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||br.call(this),n?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=hy),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)}function ph(n){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||br.call(this),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=cy),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function wh(n){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||br.call(this),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ly),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function br(){function u(n,t){return t.length-n.length}for(var f,e,o,s,h=[],i=[],r=[],t=[],n=0;7>n;n++)f=rt([2e3,1]).day(n),e=this.weekdaysMin(f,""),o=this.weekdaysShort(f,""),s=this.weekdays(f,""),h.push(e),i.push(o),r.push(s),t.push(e),t.push(o),t.push(s);for(h.sort(u),i.sort(u),r.sort(u),t.sort(u),n=0;7>n;n++)i[n]=dt(i[n]),r[n]=dt(r[n]),t[n]=dt(t[n]);this._weekdaysRegex=new RegExp("^("+t.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+h.join("|")+")","i")}function kr(){return this.hours()%12||12}function bh(){return this.hours()||24}function lf(n,t){r(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function af(n,t){return t._meridiemParse}function kh(n){return"p"===(n+"").toLowerCase().charAt(0)}function dh(n,t,i){return n>11?i?"pm":"PM":i?"am":"AM"}function vf(n){return n?n.toLowerCase().replace("_","-"):n}function gh(n){for(var i,t,f,r,u=0;u<n.length;){for(r=vf(n[u]).split("-"),i=r.length,t=vf(n[u+1]),t=t?t.split("-"):null;i>0;){if(f=yf(r.slice(0,i).join("-")))return f;if(t&&t.length>=i&&nf(r,t,!0)>=i-1)break;i--}u++}return null}function yf(n){var t=null;if(!a[n]&&"undefined"!=typeof module&&module&&module.exports)try{t=sr._abbr;require("./locale/"+n);ui(t)}catch(i){}return a[n]}function ui(n,t){var i;return n&&(i=b(t)?vt(n):pf(n,t),i&&(sr=i)),sr._abbr}function pf(n,t){if(null!==t){var i=uo;return t.abbr=n,null!=a[n]?(ar("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=a[n]._config):null!=t.parentLocale&&(null!=a[t.parentLocale]?i=a[t.parentLocale]._config:ar("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),a[n]=new vr(rf(i,t)),ui(n),a[n]}return delete a[n],null}function nc(n,t){if(null!=t){var i,r=uo;null!=a[n]&&(r=a[n]._config);t=rf(r,t);i=new vr(t);i.parentLocale=a[n];a[n]=i;ui(n)}else null!=a[n]&&(null!=a[n].parentLocale?a[n]=a[n].parentLocale:null!=a[n]&&delete a[n]);return a[n]}function vt(n){var t;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return sr;if(!ct(n)){if(t=yf(n))return t;n=[n]}return gh(n)}function tc(){return we(a)}function dr(n){var i,t=n._a;return t&&-2===u(n).overflow&&(i=t[ot]<0||t[ot]>11?ot:t[ut]<1||t[ut]>wr(t[tt],t[ot])?ut:t[y]<0||t[y]>24||24===t[y]&&(0!==t[it]||0!==t[st]||0!==t[ii])?y:t[it]<0||t[it]>59?it:t[st]<0||t[st]>59?st:t[ii]<0||t[ii]>999?ii:-1,u(n)._overflowDayOfYear&&(tt>i||i>ut)&&(i=ut),u(n)._overflowWeeks&&-1===i&&(i=ny),u(n)._overflowWeekday&&-1===i&&(i=ty),u(n).overflow=i),n}function wf(n){var t,r,o,e,f,s,h=n._i,i=vy.exec(h)||yy.exec(h);if(i){for(u(n).iso=!0,t=0,r=hr.length;r>t;t++)if(hr[t][1].exec(i[1])){e=hr[t][0];o=hr[t][2]!==!1;break}if(null==e)return void(n._isValid=!1);if(i[3]){for(t=0,r=pu.length;r>t;t++)if(pu[t][1].exec(i[3])){f=(i[2]||" ")+pu[t][0];break}if(null==f)return void(n._isValid=!1)}if(!o&&null!=f)return void(n._isValid=!1);if(i[4]){if(!py.exec(i[4]))return void(n._isValid=!1);s="Z"}n._f=e+(f||"")+(s||"");nu(n)}else n._isValid=!1}function ic(n){var i=wy.exec(n._i);return null!==i?void(n._d=new Date(+i[1])):(wf(n),void(n._isValid===!1&&(delete n._isValid,t.createFromInputFallback(n))))}function fi(n,t,i){return null!=n?n:null!=t?t:i}function rc(n){var i=new Date(t.now());return n._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function gr(n){var t,i,r,f,e=[];if(!n._d){for(r=rc(n),n._w&&null==n._a[ut]&&null==n._a[ot]&&uc(n),n._dayOfYear&&(f=fi(n._a[tt],r[tt]),n._dayOfYear>hi(f)&&(u(n)._overflowDayOfYear=!0),i=bi(f,0,n._dayOfYear),n._a[ot]=i.getUTCMonth(),n._a[ut]=i.getUTCDate()),t=0;3>t&&null==n._a[t];++t)n._a[t]=e[t]=r[t];for(;7>t;t++)n._a[t]=e[t]=null==n._a[t]?2===t?1:0:n._a[t];24===n._a[y]&&0===n._a[it]&&0===n._a[st]&&0===n._a[ii]&&(n._nextDay=!0,n._a[y]=0);n._d=(n._useUTC?bi:ds).apply(null,e);null!=n._tzm&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm);n._nextDay&&(n._a[y]=24)}}function uc(n){var t,o,f,i,r,e,c,s;t=n._w;null!=t.GG||null!=t.W||null!=t.E?(r=1,e=4,o=fi(t.GG,n._a[tt],ci(h(),1,4).year),f=fi(t.W,1),i=fi(t.E,1),(1>i||i>7)&&(s=!0)):(r=n._locale._week.dow,e=n._locale._week.doy,o=fi(t.gg,n._a[tt],ci(h(),r,e).year),f=fi(t.w,1),null!=t.d?(i=t.d,(0>i||i>6)&&(s=!0)):null!=t.e?(i=t.e+r,(t.e<0||t.e>6)&&(s=!0)):i=r);1>f||f>gt(o,r,e)?u(n)._overflowWeeks=!0:null!=s?u(n)._overflowWeekday=!0:(c=cf(o,f,i,r,e),n._a[tt]=c.year,n._dayOfYear=c.dayOfYear)}function nu(n){if(n._f===t.ISO_8601)return void wf(n);n._a=[];u(n).empty=!0;for(var i,f,s,r=""+n._i,c=r.length,h=0,o=ff(n._f,n._locale).match(ke)||[],e=0;e<o.length;e++)f=o[e],i=(r.match(ss(f,n))||[])[0],i&&(s=r.substr(0,r.indexOf(i)),s.length>0&&u(n).unusedInput.push(s),r=r.slice(r.indexOf(i)+i.length),h+=i.length),ei[f]?(i?u(n).empty=!1:u(n).unusedTokens.push(f),cs(f,i,n)):n._strict&&!i&&u(n).unusedTokens.push(f);u(n).charsLeftOver=c-h;r.length>0&&u(n).unusedInput.push(r);n._a[y]<=12&&u(n).bigHour===!0&&n._a[y]>0&&(u(n).bigHour=void 0);u(n).parsedDateParts=n._a.slice(0);u(n).meridiem=n._meridiem;n._a[y]=fc(n._locale,n._a[y],n._meridiem);gr(n);dr(n)}function fc(n,t,i){var r;return null==i?t:null!=n.meridiemHour?n.meridiemHour(t,i):null!=n.isPM?(r=n.isPM(i),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function ec(n){var t,e,f,r,i;if(0===n._f.length)return u(n).invalidFormat=!0,void(n._d=new Date(NaN));for(r=0;r<n._f.length;r++)i=0,t=lr({},n),null!=n._useUTC&&(t._useUTC=n._useUTC),t._f=n._f[r],nu(t),cr(t)&&(i+=u(t).charsLeftOver,i+=10*u(t).unusedTokens.length,u(t).score=i,(null==f||f>i)&&(f=i,e=t));lt(n,e||t)}function oc(n){if(!n._d){var t=yr(n._i);n._a=gu([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)});gr(n)}}function sc(n){var t=new oi(dr(bf(n)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function bf(n){var t=n._i,i=n._f;return n._locale=n._locale||vt(n._l),null===t||void 0===i&&""===t?pi({nullInput:!0}):("string"==typeof t&&(n._i=t=n._locale.preparse(t)),at(t)?new oi(dr(t)):(ct(i)?ec(n):yi(t)?n._d=t:i?nu(n):hc(n),cr(n)||(n._d=null),n))}function hc(n){var i=n._i;void 0===i?n._d=new Date(t.now()):yi(i)?n._d=new Date(i.valueOf()):"string"==typeof i?ic(n):ct(i)?(n._a=gu(i.slice(0),function(n){return parseInt(n,10)}),gr(n)):"object"==typeof i?oc(n):"number"==typeof i?n._d=new Date(i):t.createFromInputFallback(n)}function kf(n,t,i,r,u){var f={};return"boolean"==typeof i&&(r=i,i=void 0),(vi(n)&&yo(n)||ct(n)&&0===n.length)&&(n=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=u,f._l=i,f._i=n,f._f=t,f._strict=r,sc(f)}function h(n,t,i,r){return kf(n,t,i,r,!1)}function df(n,t){var r,i;if(1===t.length&&ct(t[0])&&(t=t[0]),!t.length)return h();for(r=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][n](r)||(r=t[i]);return r}function cc(){var n=[].slice.call(arguments,0);return df("isBefore",n)}function lc(){var n=[].slice.call(arguments,0);return df("isAfter",n)}function di(n){var t=yr(n),i=t.year||0,r=t.quarter||0,u=t.month||0,f=t.week||0,e=t.day||0,o=t.hour||0,s=t.minute||0,h=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*h+6e4*s+36e5*o;this._days=+e+7*f;this._months=+u+3*r+12*i;this._data={};this._locale=vt();this._bubble()}function tu(n){return n instanceof di}function gf(n,t){r(n,0,0,function(){var n=this.utcOffset(),i="+";return 0>n&&(n=-n,i="-"),i+et(~~(n/60),2)+t+et(~~n%60,2)})}function iu(n,t){var r=(t||"").match(n)||[],e=r[r.length-1]||[],i=(e+"").match(fo)||["-",0,0],u=+(60*i[1])+f(i[2]);return"+"===i[0]?u:-u}function ru(n,i){var r,u;return i._isUTC?(r=i.clone(),u=(at(n)||yi(n)?n.valueOf():h(n).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+u),t.updateOffset(r,!1),r):h(n).local()}function uu(n){return 15*-Math.round(n._d.getTimezoneOffset()/15)}function ac(n,i){var r,u=this._offset||0;return this.isValid()?null!=n?("string"==typeof n?n=iu(or,n):Math.abs(n)<16&&(n=60*n),!this._isUTC&&i&&(r=uu(this)),this._offset=n,this._isUTC=!0,null!=r&&this.add(r,"m"),u!==n&&(!i||this._changeInProgress?ue(this,yt(n-u,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?u:uu(this):null!=n?this:NaN}function vc(n,t){return null!=n?("string"!=typeof n&&(n=-n),this.utcOffset(n,t),this):-this.utcOffset()}function yc(n){return this.utcOffset(0,n)}function pc(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(uu(this),"m")),this}function wc(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(iu(gv,this._i)),this}function bc(n){return this.isValid()?(n=n?h(n).utcOffset():0,(this.utcOffset()-n)%60==0):!1}function kc(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function dc(){var n,t;return b(this._isDSTShifted)?(n={},(lr(n,this),n=bf(n),n._a)?(t=n._isUTC?rt(n._a):h(n._a),this._isDSTShifted=this.isValid()&&nf(n._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted):this._isDSTShifted}function gc(){return this.isValid()?!this._isUTC:!1}function nl(){return this.isValid()?this._isUTC:!1}function ne(){return this.isValid()?this._isUTC&&0===this._offset:!1}function yt(n,t){var u,e,o,i=n,r=null;return tu(n)?i={ms:n._milliseconds,d:n._days,M:n._months}:"number"==typeof n?(i={},t?i[t]=n:i.milliseconds=n):(r=eo.exec(n))?(u="-"===r[1]?-1:1,i={y:0,d:f(r[ut])*u,h:f(r[y])*u,m:f(r[it])*u,s:f(r[st])*u,ms:f(r[ii])*u}):(r=oo.exec(n))?(u="-"===r[1]?-1:1,i={y:ni(r[2],u),M:ni(r[3],u),w:ni(r[4],u),d:ni(r[5],u),h:ni(r[6],u),m:ni(r[7],u),s:ni(r[8],u)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(o=tl(h(i.from),h(i.to)),i={},i.ms=o.milliseconds,i.M=o.months),e=new di(i),tu(n)&&l(n,"_locale")&&(e._locale=n._locale),e}function ni(n,t){var i=n&&parseFloat(n.replace(",","."));return(isNaN(i)?0:i)*t}function te(n,t){var i={milliseconds:0,months:0};return i.months=t.month()-n.month()+12*(t.year()-n.year()),n.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+n.clone().add(i.months,"M"),i}function tl(n,t){var i;return n.isValid()&&t.isValid()?(t=ru(t,n),n.isBefore(t)?i=te(n,t):(i=te(t,n),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function ie(n){return 0>n?-1*Math.round(-1*n):Math.round(n)}function re(n,t){return function(i,r){var u,f;return null===r||isNaN(+r)||(ar(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),f=i,i=r,r=f),i="string"==typeof i?+i:i,u=yt(i,r),ue(this,u,n),this}}function ue(n,i,r,u){var o=i._milliseconds,f=ie(i._days),e=ie(i._months);n.isValid()&&(u=null==u?!0:u,o&&n._d.setTime(n._d.valueOf()+o*r),f&&uf(n,"Date",wi(n,"Date")+f*r),e&&ef(n,wi(n,"Month")+e*r),u&&t.updateOffset(n,f||e))}function il(n,t){var i=n.diff(t,"days",!0);return-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse"}function rl(n,i){var u=n||h(),f=ru(u,this).startOf("day"),r=t.calendarFormat(this,f)||"sameElse",e=i&&(ft(i[r])?i[r].call(this,u):i[r]);return this.format(e||this.localeData().calendar(r,this,h(u)))}function ul(){return new oi(this)}function fl(n,t){var i=at(n)?n:h(n);return this.isValid()&&i.isValid()?(t=g(b(t)?"millisecond":t),"millisecond"===t?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf()):!1}function el(n,t){var i=at(n)?n:h(n);return this.isValid()&&i.isValid()?(t=g(b(t)?"millisecond":t),"millisecond"===t?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf()):!1}function ol(n,t,i,r){return r=r||"()",("("===r[0]?this.isAfter(n,i):!this.isBefore(n,i))&&(")"===r[1]?this.isBefore(t,i):!this.isAfter(t,i))}function sl(n,t){var i,r=at(n)?n:h(n);return this.isValid()&&r.isValid()?(t=g(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(i=r.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf())):!1}function hl(n,t){return this.isSame(n,t)||this.isAfter(n,t)}function cl(n,t){return this.isSame(n,t)||this.isBefore(n,t)}function ll(n,t,i){var f,e,r,u;return this.isValid()?(f=ru(n,this),f.isValid()?(e=6e4*(f.utcOffset()-this.utcOffset()),t=g(t),"year"===t||"month"===t||"quarter"===t?(u=al(this,f),"quarter"===t?u/=3:"year"===t&&(u/=12)):(r=this-f,u="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-e)/864e5:"week"===t?(r-e)/6048e5:r),i?u:k(u)):NaN):NaN}function al(n,t){var r,f,u=12*(t.year()-n.year())+(t.month()-n.month()),i=n.clone().add(u,"months");return 0>t-i?(r=n.clone().add(u-1,"months"),f=(t-i)/(i-r)):(r=n.clone().add(u+1,"months"),f=(t-i)/(r-i)),-(u+f)||0}function vl(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function yl(){var n=this.clone().utc();return 0<n.year()&&n.year()<=9999?ft(Date.prototype.toISOString)?this.toDate().toISOString():pr(n,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):pr(n,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function pl(n){n||(n=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var i=pr(this,n);return this.localeData().postformat(i)}function wl(n,t){return this.isValid()&&(at(n)&&n.isValid()||h(n).isValid())?yt({to:this,from:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function bl(n){return this.from(h(),n)}function kl(n,t){return this.isValid()&&(at(n)&&n.isValid()||h(n).isValid())?yt({from:this,to:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function dl(n){return this.to(h(),n)}function fe(n){var t;return void 0===n?this._locale._abbr:(t=vt(n),null!=t&&(this._locale=t),this)}function ee(){return this._locale}function gl(n){switch(n=g(n)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===n&&this.weekday(0),"isoWeek"===n&&this.isoWeekday(1),"quarter"===n&&this.month(3*Math.floor(this.month()/3)),this}function na(n){return n=g(n),void 0===n||"millisecond"===n?this:("date"===n&&(n="day"),this.startOf(n).add(1,"isoWeek"===n?"week":n).subtract(1,"ms"))}function ta(){return this._d.valueOf()-6e4*(this._offset||0)}function ia(){return Math.floor(this.valueOf()/1e3)}function ra(){return new Date(this.valueOf())}function ua(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function fa(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function ea(){return this.isValid()?this.toISOString():null}function oa(){return cr(this)}function sa(){return lt({},u(this))}function ha(){return u(this).overflow}function ca(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function gi(n,t){r(0,[n,n.length],0,t)}function la(n){return oe.call(this,n,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function aa(n){return oe.call(this,n,this.isoWeek(),this.isoWeekday(),1,4)}function va(){return gt(this.year(),1,4)}function ya(){var n=this.localeData()._week;return gt(this.year(),n.dow,n.doy)}function oe(n,t,i,r,u){var f;return null==n?ci(this,r,u).year:(f=gt(n,r,u),t>f&&(t=f),pa.call(this,n,t,i,r,u))}function pa(n,t,i,r,u){var e=cf(n,t,i,r,u),f=bi(e.year,0,e.dayOfYear);return this.year(f.getUTCFullYear()),this.month(f.getUTCMonth()),this.date(f.getUTCDate()),this}function wa(n){return null==n?Math.ceil((this.month()+1)/3):this.month(3*(n-1)+this.month()%3)}function ba(n){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==n?t:this.add(n-t,"d")}function ka(n,t){t[ii]=f(1e3*("0."+n))}function da(){return this._isUTC?"UTC":""}function ga(){return this._isUTC?"Coordinated Universal Time":""}function nv(n){return h(1e3*n)}function tv(){return h.apply(null,arguments).parseZone()}function se(n){return n}function nr(n,t,i,r){var u=vt(),f=rt().set(r,t);return u[i](f,n)}function he(n,t,i){if("number"==typeof n&&(t=n,n=void 0),n=n||"",null!=t)return nr(n,t,i,"month");for(var u=[],r=0;12>r;r++)u[r]=nr(n,r,i,"month");return u}function fu(n,t,i,r){var o,f,u,e;if("boolean"==typeof n?("number"==typeof t&&(i=t,t=void 0),t=t||""):(t=n,i=t,n=!1,"number"==typeof t&&(i=t,t=void 0),t=t||""),o=vt(),f=n?o._week.dow:0,null!=i)return nr(t,(i+f)%7,r,"day");for(e=[],u=0;7>u;u++)e[u]=nr(t,(u+f)%7,r,"day");return e}function iv(n,t){return he(n,t,"months")}function rv(n,t){return he(n,t,"monthsShort")}function uv(n,t,i){return fu(n,t,i,"weekdays")}function fv(n,t,i){return fu(n,t,i,"weekdaysShort")}function ev(n,t,i){return fu(n,t,i,"weekdaysMin")}function ov(){var n=this._data;return this._milliseconds=ht(this._milliseconds),this._days=ht(this._days),this._months=ht(this._months),n.milliseconds=ht(n.milliseconds),n.seconds=ht(n.seconds),n.minutes=ht(n.minutes),n.hours=ht(n.hours),n.months=ht(n.months),n.years=ht(n.years),this}function ce(n,t,i,r){var u=yt(t,i);return n._milliseconds+=r*u._milliseconds,n._days+=r*u._days,n._months+=r*u._months,n._bubble()}function sv(n,t){return ce(this,n,t,1)}function hv(n,t){return ce(this,n,t,-1)}function le(n){return 0>n?Math.floor(n):Math.ceil(n)}function cv(){var u,f,e,s,o,r=this._milliseconds,n=this._days,t=this._months,i=this._data;return r>=0&&n>=0&&t>=0||0>=r&&0>=n&&0>=t||(r+=864e5*le(eu(t)+n),n=0,t=0),i.milliseconds=r%1e3,u=k(r/1e3),i.seconds=u%60,f=k(u/60),i.minutes=f%60,e=k(f/60),i.hours=e%24,n+=k(e/24),o=k(ae(n)),t+=o,n-=le(eu(o)),s=k(t/12),t%=12,i.days=n,i.months=t,i.years=s,this}function ae(n){return 4800*n/146097}function eu(n){return 146097*n/4800}function lv(n){var t,r,i=this._milliseconds;if(n=g(n),"month"===n||"year"===n)return t=this._days+i/864e5,r=this._months+ae(t),"month"===n?r:r/12;switch(t=this._days+Math.round(eu(this._months)),n){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+n);}}function av(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*f(this._months/12)}function pt(n){return function(){return this.as(n)}}function vv(n){return n=g(n),this[n+"s"]()}function ti(n){return function(){return this._data[n]}}function yv(){return k(this.days()/7)}function pv(n,t,i,r,u){return u.relativeTime(t||1,!!i,n,r)}function wv(n,t,i){var r=yt(n).abs(),h=bt(r.as("s")),f=bt(r.as("m")),e=bt(r.as("h")),o=bt(r.as("d")),s=bt(r.as("M")),c=bt(r.as("y")),u=h<kt.s&&["s",h]||1>=f&&["m"]||f<kt.m&&["mm",f]||1>=e&&["h"]||e<kt.h&&["hh",e]||1>=o&&["d"]||o<kt.d&&["dd",o]||1>=s&&["M"]||s<kt.M&&["MM",s]||1>=c&&["y"]||["yy",c];return u[2]=t,u[3]=+n>0,u[4]=i,pv.apply(null,u)}function bv(n){return void 0===n?bt:"function"==typeof n?(bt=n,!0):!1}function kv(n,t){return void 0===kt[n]?!1:void 0===t?kt[n]:(kt[n]=t,!0)}function dv(n){var t=this.localeData(),i=wv(this,!n,t);return n&&(i=t.pastFuture(+this,i)),t.postformat(i)}function tr(){var n,e,o,t=du(this._milliseconds)/1e3,a=du(this._days),i=du(this._months);n=k(t/60);e=k(n/60);t%=60;n%=60;o=k(i/12);i%=12;var s=o,h=i,c=a,r=e,u=n,f=t,l=this.asSeconds();return l?(0>l?"-":"")+"P"+(s?s+"Y":"")+(h?h+"M":"")+(c?c+"D":"")+(r||u||f?"T":"")+(r?r+"H":"")+(u?u+"M":"")+(f?f+"S":""):"P0D"}var ve,ye,we,yu,ro,fo,eo,oo,so,ho,wu,bu,co,lo,wt,ao,n,ku,o;ye=Array.prototype.some?Array.prototype.some:function(n){for(var i=Object(this),r=i.length>>>0,t=0;r>t;t++)if(t in i&&n.call(this,i[t],t,i))return!0;return!1};var ou=t.momentProperties=[],su=!1,pe={};t.suppressDeprecationWarnings=!1;t.deprecationHandler=null;we=Object.keys?Object.keys:function(n){var t,i=[];for(t in n)l(n,t)&&i.push(t);return i};var v,li={},be={},ke=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ir=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,hu={},ei={},de=/\d/,nt=/\d\d/,ge=/\d{3}/,cu=/\d{4}/,rr=/[+-]?\d{6}/,c=/\d\d?/,no=/\d\d\d\d?/,to=/\d\d\d\d\d\d?/,ur=/\d{1,3}/,lu=/\d{1,4}/,fr=/[+-]?\d{1,6}/,er=/[+-]?\d+/,gv=/Z|[+-]\d\d:?\d\d/gi,or=/Z|[+-]\d\d(?::?\d\d)?/gi,ai=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,au={},vu={},tt=0,ot=1,ut=2,y=3,it=4,st=5,ii=6,ny=7,ty=8;v=Array.prototype.indexOf?Array.prototype.indexOf:function(n){for(var t=0;t<this.length;++t)if(this[t]===n)return t;return-1};r("M",["MM",2],"Mo",function(){return this.month()+1});r("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});r("MMMM",0,0,function(n){return this.localeData().months(this,n)});p("month","M");w("month",8);i("M",c);i("MM",c,nt);i("MMM",function(n,t){return t.monthsShortRegex(n)});i("MMMM",function(n,t){return t.monthsRegex(n)});s(["M","MM"],function(n,t){t[ot]=f(n)-1});s(["MMM","MMMM"],function(n,t,i,r){var f=i._locale.monthsParse(n,r,i._strict);null!=f?t[ot]=f:u(i).invalidMonth=n});var io=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,iy="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ry="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),uy=ai,fy=ai;r("Y",0,0,function(){var n=this.year();return 9999>=n?""+n:"+"+n});r(0,["YY",2],0,function(){return this.year()%100});r(0,["YYYY",4],0,"year");r(0,["YYYYY",5],0,"year");r(0,["YYYYYY",6,!0],0,"year");p("year","y");w("year",1);i("Y",er);i("YY",c,nt);i("YYYY",lu,cu);i("YYYYY",fr,rr);i("YYYYYY",fr,rr);s(["YYYYY","YYYYYY"],tt);s("YYYY",function(n,i){i[tt]=2===n.length?t.parseTwoDigitYear(n):f(n)});s("YY",function(n,i){i[tt]=t.parseTwoDigitYear(n)});s("Y",function(n,t){t[tt]=parseInt(n,10)});t.parseTwoDigitYear=function(n){return f(n)+(f(n)>68?1900:2e3)};yu=ri("FullYear",!0);r("w",["ww",2],"wo","week");r("W",["WW",2],"Wo","isoWeek");p("week","w");p("isoWeek","W");w("week",5);w("isoWeek",5);i("w",c);i("ww",c,nt);i("W",c);i("WW",c,nt);si(["w","ww","W","WW"],function(n,t,i,r){t[r.substr(0,1)]=f(n)});ro={dow:0,doy:6};r("d",0,"do","day");r("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});r("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});r("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});r("e",0,0,"weekday");r("E",0,0,"isoWeekday");p("day","d");p("weekday","e");p("isoWeekday","E");w("day",11);w("weekday",11);w("isoWeekday",11);i("d",c);i("e",c);i("E",c);i("dd",function(n,t){return t.weekdaysMinRegex(n)});i("ddd",function(n,t){return t.weekdaysShortRegex(n)});i("dddd",function(n,t){return t.weekdaysRegex(n)});si(["dd","ddd","dddd"],function(n,t,i,r){var f=i._locale.weekdaysParse(n,r,i._strict);null!=f?t.d=f:u(i).invalidWeekday=n});si(["d","e","E"],function(n,t,i,r){t[r]=f(n)});var ey="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),oy="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),sy="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),hy=ai,cy=ai,ly=ai;r("H",["HH",2],0,"hour");r("h",["hh",2],0,kr);r("k",["kk",2],0,bh);r("hmm",0,0,function(){return""+kr.apply(this)+et(this.minutes(),2)});r("hmmss",0,0,function(){return""+kr.apply(this)+et(this.minutes(),2)+et(this.seconds(),2)});r("Hmm",0,0,function(){return""+this.hours()+et(this.minutes(),2)});r("Hmmss",0,0,function(){return""+this.hours()+et(this.minutes(),2)+et(this.seconds(),2)});lf("a",!0);lf("A",!1);p("hour","h");w("hour",13);i("a",af);i("A",af);i("H",c);i("h",c);i("HH",c,nt);i("hh",c,nt);i("hmm",no);i("hmmss",to);i("Hmm",no);i("Hmmss",to);s(["H","HH"],y);s(["a","A"],function(n,t,i){i._isPm=i._locale.isPM(n);i._meridiem=n});s(["h","hh"],function(n,t,i){t[y]=f(n);u(i).bigHour=!0});s("hmm",function(n,t,i){var r=n.length-2;t[y]=f(n.substr(0,r));t[it]=f(n.substr(r));u(i).bigHour=!0});s("hmmss",function(n,t,i){var r=n.length-4,e=n.length-2;t[y]=f(n.substr(0,r));t[it]=f(n.substr(r,2));t[st]=f(n.substr(e));u(i).bigHour=!0});s("Hmm",function(n,t){var i=n.length-2;t[y]=f(n.substr(0,i));t[it]=f(n.substr(i))});s("Hmmss",function(n,t){var i=n.length-4,r=n.length-2;t[y]=f(n.substr(0,i));t[it]=f(n.substr(i,2));t[st]=f(n.substr(r))});var sr,ay=ri("Hours",!0),uo={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",ordinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:iy,monthsShort:ry,week:ro,weekdays:ey,weekdaysMin:sy,weekdaysShort:oy,meridiemParse:/[ap]\.?m?\.?/i},a={},vy=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,yy=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,py=/Z|[+-]\d\d(?::?\d\d)?/,hr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],pu=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],wy=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=d("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))});t.ISO_8601=function(){};var by=d("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=h.apply(null,arguments);return this.isValid()&&n.isValid()?this>n?this:n:pi()}),ky=d("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=h.apply(null,arguments);return this.isValid()&&n.isValid()?n>this?this:n:pi()}),dy=function(){return Date.now?Date.now():+new Date};for(gf("Z",":"),gf("ZZ",""),i("Z",or),i("ZZ",or),s(["Z","ZZ"],function(n,t,i){i._useUTC=!0;i._tzm=iu(or,n)}),fo=/([\+\-]|\d\d)/gi,t.updateOffset=function(){},eo=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,oo=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/,yt.fn=di.prototype,so=re(1,"add"),ho=re(-1,"subtract"),t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]",wu=d("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return void 0===n?this.localeData():this.locale(n)}),r(0,["gg",2],0,function(){return this.weekYear()%100}),r(0,["GG",2],0,function(){return this.isoWeekYear()%100}),gi("gggg","weekYear"),gi("ggggg","weekYear"),gi("GGGG","isoWeekYear"),gi("GGGGG","isoWeekYear"),p("weekYear","gg"),p("isoWeekYear","GG"),w("weekYear",1),w("isoWeekYear",1),i("G",er),i("g",er),i("GG",c,nt),i("gg",c,nt),i("GGGG",lu,cu),i("gggg",lu,cu),i("GGGGG",fr,rr),i("ggggg",fr,rr),si(["gggg","ggggg","GGGG","GGGGG"],function(n,t,i,r){t[r.substr(0,2)]=f(n)}),si(["gg","GG"],function(n,i,r,u){i[u]=t.parseTwoDigitYear(n)}),r("Q",0,"Qo","quarter"),p("quarter","Q"),w("quarter",7),i("Q",de),s("Q",function(n,t){t[ot]=3*(f(n)-1)}),r("D",["DD",2],"Do","date"),p("date","D"),w("date",9),i("D",c),i("DD",c,nt),i("Do",function(n,t){return n?t._ordinalParse:t._ordinalParseLenient}),s(["D","DD"],ut),s("Do",function(n,t){t[ut]=f(n.match(c)[0],10)}),bu=ri("Date",!0),r("DDD",["DDDD",3],"DDDo","dayOfYear"),p("dayOfYear","DDD"),w("dayOfYear",4),i("DDD",ur),i("DDDD",ge),s(["DDD","DDDD"],function(n,t,i){i._dayOfYear=f(n)}),r("m",["mm",2],0,"minute"),p("minute","m"),w("minute",14),i("m",c),i("mm",c,nt),s(["m","mm"],it),co=ri("Minutes",!1),r("s",["ss",2],0,"second"),p("second","s"),w("second",15),i("s",c),i("ss",c,nt),s(["s","ss"],st),lo=ri("Seconds",!1),r("S",0,0,function(){return~~(this.millisecond()/100)}),r(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),r(0,["SSS",3],0,"millisecond"),r(0,["SSSS",4],0,function(){return 10*this.millisecond()}),r(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),r(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),r(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),r(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),r(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),p("millisecond","ms"),w("millisecond",16),i("S",ur,de),i("SS",ur,nt),i("SSS",ur,ge),wt="SSSS";wt.length<=9;wt+="S")i(wt,/\d+/);for(wt="S";wt.length<=9;wt+="S")s(wt,ka);ao=ri("Milliseconds",!1);r("z",0,0,"zoneAbbr");r("zz",0,0,"zoneName");n=oi.prototype;n.add=so;n.calendar=rl;n.clone=ul;n.diff=ll;n.endOf=na;n.format=pl;n.from=wl;n.fromNow=bl;n.to=kl;n.toNow=dl;n.get=us;n.invalidAt=ha;n.isAfter=fl;n.isBefore=el;n.isBetween=ol;n.isSame=sl;n.isSameOrAfter=hl;n.isSameOrBefore=cl;n.isValid=oa;n.lang=wu;n.locale=fe;n.localeData=ee;n.max=ky;n.min=by;n.parsingFlags=sa;n.set=fs;n.startOf=gl;n.subtract=ho;n.toArray=ua;n.toObject=fa;n.toDate=ra;n.toISOString=yl;n.toJSON=ea;n.toString=vl;n.unix=ia;n.valueOf=ta;n.creationData=ca;n.year=yu;n.isLeapYear=ks;n.weekYear=la;n.isoWeekYear=aa;n.quarter=n.quarters=wa;n.month=of;n.daysInMonth=ps;n.week=n.weeks=ih;n.isoWeek=n.isoWeeks=rh;n.weeksInYear=ya;n.isoWeeksInYear=va;n.date=bu;n.day=n.days=lh;n.weekday=ah;n.isoWeekday=vh;n.dayOfYear=ba;n.hour=n.hours=ay;n.minute=n.minutes=co;n.second=n.seconds=lo;n.millisecond=n.milliseconds=ao;n.utcOffset=ac;n.utc=yc;n.local=pc;n.parseZone=wc;n.hasAlignedHourOffset=bc;n.isDST=kc;n.isLocal=gc;n.isUtcOffset=nl;n.isUtc=ne;n.isUTC=ne;n.zoneAbbr=da;n.zoneName=ga;n.dates=d("dates accessor is deprecated. Use date instead.",bu);n.months=d("months accessor is deprecated. Use month instead",of);n.years=d("years accessor is deprecated. Use year instead",yu);n.zone=d("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",vc);n.isDSTShifted=d("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",dc);ku=n;o=vr.prototype;o.calendar=bo;o.longDateFormat=ko;o.invalidDate=go;o.ordinal=ns;o.preparse=se;o.postformat=se;o.relativeTime=ts;o.pastFuture=is;o.set=wo;o.months=ls;o.monthsShort=as;o.monthsParse=ys;o.monthsRegex=bs;o.monthsShortRegex=ws;o.week=gs;o.firstDayOfYear=th;o.firstDayOfWeek=nh;o.weekdays=eh;o.weekdaysMin=sh;o.weekdaysShort=oh;o.weekdaysParse=ch;o.weekdaysRegex=yh;o.weekdaysShortRegex=ph;o.weekdaysMinRegex=wh;o.isPM=kh;o.meridiem=dh;ui("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var t=n%10,i=1===f(n%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return n+i}});t.lang=d("moment.lang is deprecated. Use moment.locale instead.",ui);t.langData=d("moment.langData is deprecated. Use moment.localeData instead.",vt);var ht=Math.abs,gy=pt("ms"),np=pt("s"),tp=pt("m"),ip=pt("h"),rp=pt("d"),up=pt("w"),fp=pt("M"),ep=pt("y"),op=ti("milliseconds"),sp=ti("seconds"),hp=ti("minutes"),cp=ti("hours"),lp=ti("days"),ap=ti("months"),vp=ti("years"),bt=Math.round,kt={s:45,m:45,h:22,d:26,M:11},du=Math.abs,e=di.prototype;return e.abs=ov,e.add=sv,e.subtract=hv,e.as=lv,e.asMilliseconds=gy,e.asSeconds=np,e.asMinutes=tp,e.asHours=ip,e.asDays=rp,e.asWeeks=up,e.asMonths=fp,e.asYears=ep,e.valueOf=av,e._bubble=cv,e.get=vv,e.milliseconds=op,e.seconds=sp,e.minutes=hp,e.hours=cp,e.days=lp,e.weeks=yv,e.months=ap,e.years=vp,e.humanize=dv,e.toISOString=tr,e.toString=tr,e.toJSON=tr,e.locale=fe,e.localeData=ee,e.toIsoString=d("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",tr),e.lang=wu,r("X",0,0,"unix"),r("x",0,0,"valueOf"),i("x",er),i("X",/[+-]?\d+(\.\d{1,3})?/),s("X",function(n,t,i){i._d=new Date(1e3*parseFloat(n,10))}),s("x",function(n,t,i){i._d=new Date(f(n))}),t.version="2.14.1",vo(h),t.fn=ku,t.min=cc,t.max=lc,t.now=dy,t.utc=rt,t.unix=nv,t.months=iv,t.isDate=yi,t.locale=ui,t.invalid=pi,t.duration=yt,t.isMoment=at,t.weekdays=uv,t.parseZone=tv,t.localeData=vt,t.isDuration=tu,t.monthsShort=rv,t.weekdaysMin=ev,t.defineLocale=pf,t.updateLocale=nc,t.locales=tc,t.weekdaysShort=fv,t.normalizeUnits=g,t.relativeTimeRounding=bv,t.relativeTimeThreshold=kv,t.calendarFormat=il,t.prototype=ku,t});window.Modernizr=function(n,t,i){function l(n){c.cssText=n}function at(n,t){return l(y.join(n+";")+(t||""))}function h(n,t){return typeof n===t}function v(n,t){return!!~(""+n).indexOf(t)}function ut(n,t){var u,r;for(u in n)if(r=n[u],!v(r,"-")&&c[r]!==i)return t=="pfx"?r:!0;return!1}function vt(n,t,r){var f,u;for(f in n)if(u=t[n[f]],u!==i)return r===!1?n[f]:h(u,"function")?u.bind(r||t):u;return!1}function f(n,t,i){var r=n.charAt(0).toUpperCase()+n.slice(1),u=(n+" "+st.join(r+" ")+r).split(" ");return h(t,"string")||h(t,"undefined")?ut(u,t):(u=(n+" "+ht.join(r+" ")+r).split(" "),vt(u,t,i))}function yt(){u.input=function(i){for(var r=0,u=i.length;r<u;r++)w[i[r]]=i[r]in o;return w.list&&(w.list=!!t.createElement("datalist")&&!!n.HTMLDataListElement),w}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));u.inputtypes=function(n){for(var u=0,r,f,e,h=n.length;u<h;u++)o.setAttribute("type",f=n[u]),r=o.type!=="text",r&&(o.value=g,o.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&o.style.WebkitAppearance!==i?(s.appendChild(o),e=t.defaultView,r=e.getComputedStyle&&e.getComputedStyle(o,null).WebkitAppearance!=="textfield"&&o.offsetHeight!==0,s.removeChild(o)):/^(search|tel)$/.test(f)||(r=/^(url|email)$/.test(f)?o.checkValidity&&o.checkValidity()===!1:o.value!=g)),ct[n[u]]=!!r;return ct}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var u={},d=!0,s=t.documentElement,e="modernizr",ft=t.createElement(e),c=ft.style,o=t.createElement("input"),g=":)",et={}.toString,y=" -webkit- -moz- -o- -ms- ".split(" "),ot="Webkit Moz O ms",st=ot.split(" "),ht=ot.toLowerCase().split(" "),p={svg:"http://www.w3.org/2000/svg"},r={},ct={},w={},nt=[],tt=nt.slice,b,a=function(n,i,r,u){var l,a,c,v,f=t.createElement("div"),h=t.body,o=h||t.createElement("body");if(parseInt(r,10))while(r--)c=t.createElement("div"),c.id=u?u[r]:e+(r+1),f.appendChild(c);return l=["&#173;",'<style id="s',e,'">',n,"<\/style>"].join(""),f.id=e,(h?f:o).innerHTML+=l,o.appendChild(f),h||(o.style.background="",o.style.overflow="hidden",v=s.style.overflow,s.style.overflow="hidden",s.appendChild(o)),a=i(f,n),h?f.parentNode.removeChild(f):(o.parentNode.removeChild(o),s.style.overflow=v),!!a},pt=function(t){var i=n.matchMedia||n.msMatchMedia,r;return i?i(t)&&i(t).matches||!1:(a("@media "+t+" { #"+e+" { position: absolute; } }",function(t){r=(n.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position=="absolute"}),r)},lt=function(){function n(n,u){u=u||t.createElement(r[n]||"div");n="on"+n;var f=n in u;return f||(u.setAttribute||(u=t.createElement("div")),u.setAttribute&&u.removeAttribute&&(u.setAttribute(n,""),f=h(u[n],"function"),h(u[n],"undefined")||(u[n]=i),u.removeAttribute(n))),u=null,f}var r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n}(),it={}.hasOwnProperty,rt,k;rt=!h(it,"undefined")&&!h(it.call,"undefined")?function(n,t){return it.call(n,t)}:function(n,t){return t in n&&h(n.constructor.prototype[t],"undefined")};Function.prototype.bind||(Function.prototype.bind=function(n){var t=this,i,r;if(typeof t!="function")throw new TypeError;return i=tt.call(arguments,1),r=function(){var f,e,u;return this instanceof r?(f=function(){},f.prototype=t.prototype,e=new f,u=t.apply(e,i.concat(tt.call(arguments))),Object(u)===u?u:e):t.apply(n,i.concat(tt.call(arguments)))},r});r.flexbox=function(){return f("flexWrap")};r.canvas=function(){var n=t.createElement("canvas");return!!n.getContext&&!!n.getContext("2d")};r.canvastext=function(){return!!u.canvas&&!!h(t.createElement("canvas").getContext("2d").fillText,"function")};r.webgl=function(){return!!n.WebGLRenderingContext};r.touch=function(){var i;return"ontouchstart"in n||n.DocumentTouch&&t instanceof DocumentTouch?i=!0:a(["@media (",y.join("touch-enabled),("),e,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(n){i=n.offsetTop===9}),i};r.geolocation=function(){return"geolocation"in navigator};r.postmessage=function(){return!!n.postMessage};r.websqldatabase=function(){return!!n.openDatabase};r.indexedDB=function(){return!!f("indexedDB",n)};r.hashchange=function(){return lt("hashchange",n)&&(t.documentMode===i||t.documentMode>7)};r.history=function(){return!!n.history&&!!history.pushState};r.draganddrop=function(){var n=t.createElement("div");return"draggable"in n||"ondragstart"in n&&"ondrop"in n};r.websockets=function(){return"WebSocket"in n||"MozWebSocket"in n};r.rgba=function(){return l("background-color:rgba(150,255,150,.5)"),v(c.backgroundColor,"rgba")};r.hsla=function(){return l("background-color:hsla(120,40%,100%,.5)"),v(c.backgroundColor,"rgba")||v(c.backgroundColor,"hsla")};r.multiplebgs=function(){return l("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(c.background)};r.backgroundsize=function(){return f("backgroundSize")};r.borderimage=function(){return f("borderImage")};r.borderradius=function(){return f("borderRadius")};r.boxshadow=function(){return f("boxShadow")};r.textshadow=function(){return t.createElement("div").style.textShadow===""};r.opacity=function(){return at("opacity:.55"),/^0.55$/.test(c.opacity)};r.cssanimations=function(){return f("animationName")};r.csscolumns=function(){return f("columnCount")};r.cssgradients=function(){var n="background-image:";return l((n+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+n)+y.join("linear-gradient(left top,#9f9, white);"+n)).slice(0,-n.length)),v(c.backgroundImage,"gradient")};r.cssreflections=function(){return f("boxReflect")};r.csstransforms=function(){return!!f("transform")};r.csstransforms3d=function(){var n=!!f("perspective");return n&&"webkitPerspective"in s.style&&a("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t){n=t.offsetLeft===9&&t.offsetHeight===3}),n};r.csstransitions=function(){return f("transition")};r.fontface=function(){var n;return a('@font-face {font-family:"font";src:url("https://")}',function(i,r){var f=t.getElementById("smodernizr"),u=f.sheet||f.styleSheet,e=u?u.cssRules&&u.cssRules[0]?u.cssRules[0].cssText:u.cssText||"":"";n=/src/i.test(e)&&e.indexOf(r.split(" ")[0])===0}),n};r.generatedcontent=function(){var n;return a(["#",e,"{font:0/0 a}#",e,':after{content:"',g,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){n=t.offsetHeight>=3}),n};r.video=function(){var i=t.createElement("video"),n=!1;try{(n=!!i.canPlayType)&&(n=new Boolean(n),n.ogg=i.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=i.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=i.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(r){}return n};r.audio=function(){var i=t.createElement("audio"),n=!1;try{(n=!!i.canPlayType)&&(n=new Boolean(n),n.ogg=i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=i.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=i.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(i.canPlayType("audio/x-m4a;")||i.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(r){}return n};r.localstorage=function(){try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(n){return!1}};r.sessionstorage=function(){try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(n){return!1}};r.webworkers=function(){return!!n.Worker};r.applicationcache=function(){return!!n.applicationCache};r.svg=function(){return!!t.createElementNS&&!!t.createElementNS(p.svg,"svg").createSVGRect};r.inlinesvg=function(){var n=t.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==p.svg};r.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(et.call(t.createElementNS(p.svg,"animate")))};r.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(et.call(t.createElementNS(p.svg,"clipPath")))};for(k in r)rt(r,k)&&(b=k.toLowerCase(),u[b]=r[k](),nt.push((u[b]?"":"no-")+b));return u.input||yt(),u.addTest=function(n,t){if(typeof n=="object")for(var r in n)rt(n,r)&&u.addTest(r,n[r]);else{if(n=n.toLowerCase(),u[n]!==i)return u;t=typeof t=="function"?t():t;typeof d!="undefined"&&d&&(s.className+=" "+(t?"":"no-")+n);u[n]=t}return u},l(""),ft=o=null,function(n,t){function v(n,t){var i=n.createElement("p"),r=n.getElementsByTagName("head")[0]||n.documentElement;return i.innerHTML="x<style>"+t+"<\/style>",r.insertBefore(i.lastChild,r.firstChild)}function s(){var n=r.elements;return typeof n=="string"?n.split(" "):n}function u(n){var t=a[n[l]];return t||(t={},o++,n[l]=o,a[o]=t),t}function h(n,r,f){if(r||(r=t),i)return r.createElement(n);f||(f=u(r));var e;return e=f.cache[n]?f.cache[n].cloneNode():b.test(n)?(f.cache[n]=f.createElem(n)).cloneNode():f.createElem(n),e.canHaveChildren&&!w.test(n)&&!e.tagUrn?f.frag.appendChild(e):e}function y(n,r){if(n||(n=t),i)return n.createDocumentFragment();r=r||u(n);for(var e=r.frag.cloneNode(),f=0,o=s(),h=o.length;f<h;f++)e.createElement(o[f]);return e}function p(n,t){t.cache||(t.cache={},t.createElem=n.createElement,t.createFrag=n.createDocumentFragment,t.frag=t.createFrag());n.createElement=function(i){return r.shivMethods?h(i,n,t):t.createElem(i)};n.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+s().join().replace(/[\w\-]+/g,function(n){return t.createElem(n),t.frag.createElement(n),'c("'+n+'")'})+");return n}")(r,t.frag)}function c(n){n||(n=t);var f=u(n);return r.shivCSS&&!e&&!f.hasCSS&&(f.hasCSS=!!v(n,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),i||p(n,f),n}var f=n.html5||{},w=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,b=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,e,l="_html5shiv",o=0,a={},i,r;(function(){try{var n=t.createElement("a");n.innerHTML="<xyz><\/xyz>";e="hidden"in n;i=n.childNodes.length==1||function(){t.createElement("a");var n=t.createDocumentFragment();return typeof n.cloneNode=="undefined"||typeof n.createDocumentFragment=="undefined"||typeof n.createElement=="undefined"}()}catch(r){e=!0;i=!0}})();r={elements:f.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:f.shivCSS!==!1,supportsUnknownElements:i,shivMethods:f.shivMethods!==!1,type:"default",shivDocument:c,createElement:h,createDocumentFragment:y};n.html5=r;c(t)}(this,t),u._version="2.8.3",u._prefixes=y,u._domPrefixes=ht,u._cssomPrefixes=st,u.mq=pt,u.hasEvent=lt,u.testProp=function(n){return ut([n])},u.testAllProps=f,u.testStyles=a,u.prefixed=function(n,t,i){return t?f(n,t,i):f(n,"pfx")},s.className=s.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(d?" js "+nt.join(" "):""),u}(this,this.document),function(n,t,i){function h(n){return"[object Function]"==y.call(n)}function c(n){return"string"==typeof n}function l(){}function w(n){return!n||"loaded"==n||"complete"==n||"uninitialized"==n}function f(){var n=a.shift();v=1;n?n.t?s(function(){("c"==n.t?u.injectCss:u.injectJs)(n.s,0,n.a,n.x,n.e,1)},0):(n(),f()):v=0}function ut(n,i,o,h,c,l,y){function k(t){if(!nt&&w(p.readyState)&&(tt.r=nt=1,!v&&f(),p.onload=p.onreadystatechange=null,t)){"img"!=n&&s(function(){g.removeChild(p)},50);for(var u in r[i])r[i].hasOwnProperty(u)&&r[i][u].onload()}}var y=y||u.errorTimeout,p=t.createElement(n),nt=0,b=0,tt={t:o,s:i,e:c,a:l,x:y};1===r[i]&&(b=1,r[i]=[]);"object"==n?p.data=i:(p.src=i,p.type=n);p.width=p.height="0";p.onerror=p.onload=p.onreadystatechange=function(){k.call(this,b)};a.splice(h,0,tt);"img"!=n&&(b||2===r[i]?(g.insertBefore(p,d?null:e),s(k,y)):r[i].push(p))}function ft(n,t,i,r,u){return v=0,t=t||"j",c(n)?ut("c"==t?et:nt,n,t,this.i++,i,r,u):(a.splice(this.i++,0,n),1==a.length&&f()),this}function b(){var n=u;return n.loader={load:ft,i:0},n}var o=t.documentElement,s=n.setTimeout,e=t.getElementsByTagName("script")[0],y={}.toString,a=[],v=0,k="MozAppearance"in o.style,d=k&&!!t.createRange().compareNode,g=d?o:e.parentNode,o=n.opera&&"[object Opera]"==y.call(n.opera),o=!!t.attachEvent&&!o,nt=k?"object":o?"script":"img",et=o?"script":nt,tt=Array.isArray||function(n){return"[object Array]"==y.call(n)},p=[],r={},it={timeout:function(n,t){return t.length&&(n.timeout=t[0]),n}},rt,u;u=function(n){function a(n){for(var n=n.split("!"),f=p.length,i=n.pop(),e=n.length,i={url:i,origUrl:i,prefixes:n},u,r,t=0;t<e;t++)r=n[t].split("="),(u=it[r.shift()])&&(i=u(i,r));for(t=0;t<f;t++)i=p[t](i);return i}function f(n,t,u,f,e){var o=a(n),s=o.autoCallback;o.url.split(".").pop().split("?").shift();o.bypass||(t&&(t=h(t)?t:t[n]||t[f]||t[n.split("/").pop().split("?")[0]]),o.instead?o.instead(n,t,u,f,e):(r[o.url]?o.noexec=!0:r[o.url]=1,u.load(o.url,o.forceCSS||!o.forceJS&&"css"==o.url.split(".").pop().split("?").shift()?"c":i,o.noexec,o.attrs,o.timeout),(h(t)||h(s))&&u.load(function(){b();t&&t(o.origUrl,e,f);s&&s(o.origUrl,e,f);r[o.url]=2})))}function s(n,t){function a(n,o){if(n){if(c(n))o||(i=function(){var n=[].slice.call(arguments);s.apply(this,n);u()}),f(n,i,t,0,e);else if(Object(n)===n)for(r in v=function(){var t=0;for(var i in n)n.hasOwnProperty(i)&&t++;return t}(),n)n.hasOwnProperty(r)&&(!o&&!--v&&(h(i)?i=function(){var n=[].slice.call(arguments);s.apply(this,n);u()}:i[r]=function(n){return function(){var t=[].slice.call(arguments);n&&n.apply(this,t);u()}}(s[r])),f(n[r],i,t,r,e))}else o||u()}var e=!!n.test,o=n.load||n.both,i=n.callback||l,s=i,u=n.complete||l,v,r;a(e?n.yep:n.nope,!!o);o&&a(o)}var e,t,o=this.yepnope.loader;if(c(n))f(n,0,o,0);else if(tt(n))for(e=0;e<n.length;e++)t=n[e],c(t)?f(t,0,o,0):tt(t)?u(t):Object(t)===t&&s(t,o);else Object(n)===n&&s(n,o)};u.addPrefix=function(n,t){it[n]=t};u.addFilter=function(n){p.push(n)};u.errorTimeout=1e4;null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",rt=function(){t.removeEventListener("DOMContentLoaded",rt,0);t.readyState="complete"},0));n.yepnope=b();n.yepnope.executeStack=f;n.yepnope.injectJs=function(n,i,r,o,h,c){var a=t.createElement("script"),v,y,o=o||u.errorTimeout;a.src=n;for(y in r)a.setAttribute(y,r[y]);i=c?f:i||l;a.onreadystatechange=a.onload=function(){!v&&w(a.readyState)&&(v=1,i(),a.onload=a.onreadystatechange=null)};s(function(){v||(v=1,i(1))},o);h?a.onload():e.parentNode.insertBefore(a,e)};n.yepnope.injectCss=function(n,i,r,u,o,h){var u=t.createElement("link"),c,i=h?f:i||l;u.href=n;u.rel="stylesheet";u.type="text/css";for(c in r)u.setAttribute(c,r[c]);o||(e.parentNode.insertBefore(u,e),s(i,0))}}(this,document);Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n("object"==typeof exports?require("jquery"):jQuery)}(function(n){function i(i,r,u){var r={content:{message:"object"==typeof r?r.message:r,title:r.title?r.title:"",icon:r.icon?r.icon:"",url:r.url?r.url:"#",target:r.target?r.target:"-"}};u=n.extend(!0,{},r,u);this.settings=n.extend(!0,{},t,u);this._defaults=t;"-"==this.settings.content.target&&(this.settings.content.target=this.settings.url_target);this.animations={start:"webkitAnimationStart oanimationstart MSAnimationStart animationstart",end:"webkitAnimationEnd oanimationend MSAnimationEnd animationend"};"number"==typeof this.settings.offset&&(this.settings.offset={x:this.settings.offset,y:this.settings.offset});this.init()}var t={element:"body",position:null,type:"info",allow_dismiss:!0,newest_on_top:!1,showProgressbar:!1,placement:{from:"top",align:"right"},offset:20,spacing:10,z_index:1031,delay:5e3,timer:1e3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},onShow:null,onShown:null,onClose:null,onClosed:null,icon_type:"class",template:'<div data-notify="container" class="col-xs-11 col-sm-4 alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">&times;<\/button><span data-notify="icon"><\/span> <span data-notify="title">{1}<\/span> <span data-notify="message">{2}<\/span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"><\/div><\/div><a href="{3}" target="{4}" data-notify="url"><\/a><\/div>'};String.format=function(){for(var t=arguments[0],n=1;n<arguments.length;n++)t=t.replace(RegExp("\\{"+(n-1)+"\\}","gm"),arguments[n]);return t};n.extend(i.prototype,{init:function(){var n=this;this.buildNotify();this.settings.content.icon&&this.setIcon();"#"!=this.settings.content.url&&this.styleURL();this.placement();this.bind();this.notify={$ele:this.$ele,update:function(t,i){var r={},t,u,f,e;"string"==typeof t?r[t]=i:r=t;for(t in r)switch(t){case"type":this.$ele.removeClass("alert-"+n.settings.type);this.$ele.find('[data-notify="progressbar"] > .progress-bar').removeClass("progress-bar-"+n.settings.type);n.settings.type=r[t];this.$ele.addClass("alert-"+r[t]).find('[data-notify="progressbar"] > .progress-bar').addClass("progress-bar-"+r[t]);break;case"icon":u=this.$ele.find('[data-notify="icon"]');"class"==n.settings.icon_type.toLowerCase()?u.removeClass(n.settings.content.icon).addClass(r[t]):(u.is("img")||u.find("img"),u.attr("src",r[t]));break;case"progress":f=n.settings.delay-n.settings.delay*(r[t]/100);this.$ele.data("notify-delay",f);this.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",r[t]).css("width",r[t]+"%");break;case"url":this.$ele.find('[data-notify="url"]').attr("href",r[t]);break;case"target":this.$ele.find('[data-notify="url"]').attr("target",r[t]);break;default:this.$ele.find('[data-notify="'+t+'"]').html(r[t])}e=this.$ele.outerHeight()+parseInt(n.settings.spacing)+parseInt(n.settings.offset.y);n.reposition(e)},close:function(){n.close()}}},buildNotify:function(){var t=this.settings.content;this.$ele=n(String.format(this.settings.template,this.settings.type,t.title,t.message,t.url,t.target));this.$ele.attr("data-notify-position",this.settings.placement.from+"-"+this.settings.placement.align);this.settings.allow_dismiss||this.$ele.find('[data-notify="dismiss"]').css("display","none");(this.settings.delay<=0&&!this.settings.showProgressbar||!this.settings.showProgressbar)&&this.$ele.find('[data-notify="progressbar"]').remove()},setIcon:function(){"class"==this.settings.icon_type.toLowerCase()?this.$ele.find('[data-notify="icon"]').addClass(this.settings.content.icon):this.$ele.find('[data-notify="icon"]').is("img")?this.$ele.find('[data-notify="icon"]').attr("src",this.settings.content.icon):this.$ele.find('[data-notify="icon"]').append('<img src="'+this.settings.content.icon+'" alt="Notify Icon" />')},styleURL:function(){this.$ele.find('[data-notify="url"]').css({backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)",height:"100%",left:"0px",position:"absolute",top:"0px",width:"100%",zIndex:this.settings.z_index+1});this.$ele.find('[data-notify="dismiss"]').css({position:"absolute",right:"10px",top:"5px",zIndex:this.settings.z_index+2})},placement:function(){var t=this,i=this.settings.offset.y,r={display:"inline-block",margin:"0px auto",position:this.settings.position?this.settings.position:"body"===this.settings.element?"fixed":"absolute",transition:"all .5s ease-in-out",zIndex:this.settings.z_index},u=!1,f=this.settings;switch(n('[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])').each(function(){return i=Math.max(i,parseInt(n(this).css(f.placement.from))+parseInt(n(this).outerHeight())+parseInt(f.spacing))}),1==this.settings.newest_on_top&&(i=this.settings.offset.y),r[this.settings.placement.from]=i+"px",this.settings.placement.align){case"left":case"right":r[this.settings.placement.align]=this.settings.offset.x+"px";break;case"center":r.left=0;r.right=0}this.$ele.css(r).addClass(this.settings.animate.enter);n.each(Array("webkit","moz","o","ms",""),function(n,i){t.$ele[0].style[i+"AnimationIterationCount"]=1});n(this.settings.element).append(this.$ele);1==this.settings.newest_on_top&&(i=parseInt(i)+parseInt(this.settings.spacing)+this.$ele.outerHeight(),this.reposition(i));n.isFunction(t.settings.onShow)&&t.settings.onShow.call(this.$ele);this.$ele.one(this.animations.start,function(){u=!0}).one(this.animations.end,function(){n.isFunction(t.settings.onShown)&&t.settings.onShown.call(this)});setTimeout(function(){u||n.isFunction(t.settings.onShown)&&t.settings.onShown.call(this)},600)},bind:function(){var t=this,i;(this.$ele.find('[data-notify="dismiss"]').on("click",function(){t.close()}),this.$ele.mouseover(function(){n(this).data("data-hover","true")}).mouseout(function(){n(this).data("data-hover","false")}),this.$ele.data("data-hover","false"),this.settings.delay>0)&&(t.$ele.data("notify-delay",t.settings.delay),i=setInterval(function(){var n=parseInt(t.$ele.data("notify-delay"))-t.settings.timer,r;("false"===t.$ele.data("data-hover")&&"pause"==t.settings.mouse_over||"pause"!=t.settings.mouse_over)&&(r=(t.settings.delay-n)/t.settings.delay*100,t.$ele.data("notify-delay",n),t.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",r).css("width",r+"%"));n<=-t.settings.timer&&(clearInterval(i),t.close())},t.settings.timer))},close:function(){var t=this,r=parseInt(this.$ele.css(this.settings.placement.from)),i=!1;this.$ele.data("closing","true").addClass(this.settings.animate.exit);t.reposition(r);n.isFunction(t.settings.onClose)&&t.settings.onClose.call(this.$ele);this.$ele.one(this.animations.start,function(){i=!0}).one(this.animations.end,function(){n(this).remove();n.isFunction(t.settings.onClosed)&&t.settings.onClosed.call(this)});setTimeout(function(){i||(t.$ele.remove(),t.settings.onClosed&&t.settings.onClosed(t.$ele))},600)},reposition:function(t){var i=this,r='[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])',u=this.$ele.nextAll(r);1==this.settings.newest_on_top&&(u=this.$ele.prevAll(r));u.each(function(){n(this).css(i.settings.placement.from,t);t=parseInt(t)+parseInt(i.settings.spacing)+n(this).outerHeight()})}});n.notify=function(n,t){var r=new i(this,n,t);return r.notify};n.notifyDefaults=function(i){return t=n.extend(!0,{},t,i)};n.notifyClose=function(t){"undefined"==typeof t||"all"==t?n("[data-notify]").find('[data-notify="dismiss"]').trigger("click"):n('[data-notify-position="'+t+'"]').find('[data-notify="dismiss"]').trigger("click")}});
/**
 * @license
 * Copyright 2010 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_PATH_="../images/m";MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_EXTENSION_="png";MarkerClusterer.prototype.extend=function(n,t){return function(n){for(var t in n.prototype)this.prototype[t]=n.prototype[t];return this}.apply(n,[t])};MarkerClusterer.prototype.onAdd=function(){this.setReady_(!0)};MarkerClusterer.prototype.draw=function(){};MarkerClusterer.prototype.setupStyles_=function(){if(!this.styles_.length)for(var n=0,t;t=this.sizes[n];n++)this.styles_.push({url:this.imagePath_+(n+1)+"."+this.imageExtension_,height:t,width:t})};MarkerClusterer.prototype.fitMapToMarkers=function(){for(var r=this.getMarkers(),n=new google.maps.LatLngBounds,t=0,i;i=r[t];t++)n.extend(i.getPosition());this.map_.fitBounds(n)};MarkerClusterer.prototype.setStyles=function(n){this.styles_=n};MarkerClusterer.prototype.getStyles=function(){return this.styles_};MarkerClusterer.prototype.isZoomOnClick=function(){return this.zoomOnClick_};MarkerClusterer.prototype.isAverageCenter=function(){return this.averageCenter_};MarkerClusterer.prototype.getMarkers=function(){return this.markers_};MarkerClusterer.prototype.getTotalMarkers=function(){return this.markers_.length};MarkerClusterer.prototype.setMaxZoom=function(n){this.maxZoom_=n};MarkerClusterer.prototype.getMaxZoom=function(){return this.maxZoom_};MarkerClusterer.prototype.calculator_=function(n,t){for(var i=0,u=n.length,r=u;r!==0;)r=parseInt(r/10,10),i++;return i=Math.min(i,t),{text:u,index:i}};MarkerClusterer.prototype.setCalculator=function(n){this.calculator_=n};MarkerClusterer.prototype.getCalculator=function(){return this.calculator_};MarkerClusterer.prototype.addMarkers=function(n,t){for(var i=0,r;r=n[i];i++)this.pushMarkerTo_(r);t||this.redraw()};MarkerClusterer.prototype.pushMarkerTo_=function(n){if(n.isAdded=!1,n.draggable){var t=this;google.maps.event.addListener(n,"dragend",function(){n.isAdded=!1;t.repaint()})}this.markers_.push(n)};MarkerClusterer.prototype.addMarker=function(n,t){this.pushMarkerTo_(n);t||this.redraw()};MarkerClusterer.prototype.removeMarker_=function(n){var t=-1,i,r;if(this.markers_.indexOf)t=this.markers_.indexOf(n);else for(i=0;r=this.markers_[i];i++)if(r==n){t=i;break}return t==-1?!1:(n.setMap(null),this.markers_.splice(t,1),!0)};MarkerClusterer.prototype.removeMarker=function(n,t){var i=this.removeMarker_(n);return!t&&i?(this.resetViewport(),this.redraw(),!0):!1};MarkerClusterer.prototype.removeMarkers=function(n,t){for(var f,i=!1,r=0,u;u=n[r];r++)f=this.removeMarker_(u),i=i||f;if(!t&&i)return this.resetViewport(),this.redraw(),!0};MarkerClusterer.prototype.setReady_=function(n){this.ready_||(this.ready_=n,this.createClusters_())};MarkerClusterer.prototype.getTotalClusters=function(){return this.clusters_.length};MarkerClusterer.prototype.getMap=function(){return this.map_};MarkerClusterer.prototype.setMap=function(n){this.map_=n};MarkerClusterer.prototype.getGridSize=function(){return this.gridSize_};MarkerClusterer.prototype.setGridSize=function(n){this.gridSize_=n};MarkerClusterer.prototype.getMinClusterSize=function(){return this.minClusterSize_};MarkerClusterer.prototype.setMinClusterSize=function(n){this.minClusterSize_=n};MarkerClusterer.prototype.getExtendedBounds=function(n){var t=this.getProjection(),e=new google.maps.LatLng(n.getNorthEast().lat(),n.getNorthEast().lng()),o=new google.maps.LatLng(n.getSouthWest().lat(),n.getSouthWest().lng()),r=t.fromLatLngToDivPixel(e),i,u,f;return r.x+=this.gridSize_,r.y-=this.gridSize_,i=t.fromLatLngToDivPixel(o),i.x-=this.gridSize_,i.y+=this.gridSize_,u=t.fromDivPixelToLatLng(r),f=t.fromDivPixelToLatLng(i),n.extend(u),n.extend(f),n};MarkerClusterer.prototype.isMarkerInBounds_=function(n,t){return t.contains(n.getPosition())};MarkerClusterer.prototype.clearMarkers=function(){this.resetViewport(!0);this.markers_=[]};MarkerClusterer.prototype.resetViewport=function(n){for(var r,i,t=0;r=this.clusters_[t];t++)r.remove();for(t=0;i=this.markers_[t];t++)i.isAdded=!1,n&&i.setMap(null);this.clusters_=[]};MarkerClusterer.prototype.repaint=function(){var n=this.clusters_.slice();this.clusters_.length=0;this.resetViewport();this.redraw();window.setTimeout(function(){for(var t=0,i;i=n[t];t++)i.remove()},0)};MarkerClusterer.prototype.redraw=function(){this.createClusters_()};MarkerClusterer.prototype.distanceBetweenPoints_=function(n,t){if(!n||!t)return 0;var i=(t.lat()-n.lat())*Math.PI/180,r=(t.lng()-n.lng())*Math.PI/180,u=Math.sin(i/2)*Math.sin(i/2)+Math.cos(n.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2),f=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u));return 6371*f};MarkerClusterer.prototype.addToClosestCluster_=function(n){for(var r,u,t,f=4e4,i=null,o=n.getPosition(),e=0;t=this.clusters_[e];e++)r=t.getCenter(),r&&(u=this.distanceBetweenPoints_(r,n.getPosition()),u<f&&(f=u,i=t));i&&i.isMarkerInClusterBounds(n)?i.addMarker(n):(t=new Cluster(this),t.addMarker(n),this.clusters_.push(t))};MarkerClusterer.prototype.createClusters_=function(){var i,r,t,n;if(this.ready_)for(i=new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(),this.map_.getBounds().getNorthEast()),r=this.getExtendedBounds(i),t=0;n=this.markers_[t];t++)!n.isAdded&&this.isMarkerInBounds_(n,r)&&this.addToClosestCluster_(n)};Cluster.prototype.isMarkerAlreadyAdded=function(n){if(this.markers_.indexOf)return this.markers_.indexOf(n)!=-1;for(var t=0,i;i=this.markers_[t];t++)if(i==n)return!0;return!1};Cluster.prototype.addMarker=function(n){var t,r;if(this.isMarkerAlreadyAdded(n))return!1;if(this.center_){if(this.averageCenter_){var i=this.markers_.length+1,u=(this.center_.lat()*(i-1)+n.getPosition().lat())/i,f=(this.center_.lng()*(i-1)+n.getPosition().lng())/i;this.center_=new google.maps.LatLng(u,f);this.calculateBounds_()}}else this.center_=n.getPosition(),this.calculateBounds_();if(n.isAdded=!0,this.markers_.push(n),t=this.markers_.length,t<this.minClusterSize_&&n.getMap()!=this.map_&&n.setMap(this.map_),t==this.minClusterSize_)for(r=0;r<t;r++)this.markers_[r].setMap(null);return t>=this.minClusterSize_&&n.setMap(null),this.updateIcon(),!0};Cluster.prototype.getMarkerClusterer=function(){return this.markerClusterer_};Cluster.prototype.getBounds=function(){for(var n=new google.maps.LatLngBounds(this.center_,this.center_),r=this.getMarkers(),t=0,i;i=r[t];t++)n.extend(i.getPosition());return n};Cluster.prototype.remove=function(){this.clusterIcon_.remove();this.markers_.length=0;delete this.markers_};Cluster.prototype.getSize=function(){return this.markers_.length};Cluster.prototype.getMarkers=function(){return this.markers_};Cluster.prototype.getCenter=function(){return this.center_};Cluster.prototype.calculateBounds_=function(){var n=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(n)};Cluster.prototype.isMarkerInClusterBounds=function(n){return this.bounds_.contains(n.getPosition())};Cluster.prototype.getMap=function(){return this.map_};Cluster.prototype.updateIcon=function(){var f=this.map_.getZoom(),t=this.markerClusterer_.getMaxZoom(),n,i,r,u;if(t&&f>t){for(n=0;i=this.markers_[n];n++)i.setMap(this.map_);return}if(this.markers_.length<this.minClusterSize_){this.clusterIcon_.hide();return}r=this.markerClusterer_.getStyles().length;u=this.markerClusterer_.getCalculator()(this.markers_,r);this.clusterIcon_.setCenter(this.center_);this.clusterIcon_.setSums(u);this.clusterIcon_.show()};ClusterIcon.prototype.triggerClusterClick=function(n){var t=this.cluster_.getMarkerClusterer();google.maps.event.trigger(t,"clusterclick",this.cluster_,n);t.isZoomOnClick()&&this.map_.fitBounds(this.cluster_.getBounds())};ClusterIcon.prototype.onAdd=function(){var t,i,r,n;this.div_=document.createElement("DIV");this.visible_&&(t=this.getPosFromLatLng_(this.center_),this.div_.style.cssText=this.createCss(t),this.div_.innerHTML=this.sums_.text);i=this.getPanes();i.overlayMouseTarget.appendChild(this.div_);r=this;n=!1;google.maps.event.addDomListener(this.div_,"click",function(t){n||r.triggerClusterClick(t)});google.maps.event.addDomListener(this.div_,"mousedown",function(){n=!1});google.maps.event.addDomListener(this.div_,"mousemove",function(){n=!0})};ClusterIcon.prototype.getPosFromLatLng_=function(n){var t=this.getProjection().fromLatLngToDivPixel(n);return typeof this.iconAnchor_=="object"&&this.iconAnchor_.length===2?(t.x-=this.iconAnchor_[0],t.y-=this.iconAnchor_[1]):(t.x-=parseInt(this.width_/2,10),t.y-=parseInt(this.height_/2,10)),t};ClusterIcon.prototype.draw=function(){if(this.visible_){var n=this.getPosFromLatLng_(this.center_);this.div_.style.top=n.y+"px";this.div_.style.left=n.x+"px"}};ClusterIcon.prototype.hide=function(){this.div_&&(this.div_.style.display="none");this.visible_=!1};ClusterIcon.prototype.show=function(){if(this.div_){var n=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(n);this.div_.style.display=""}this.visible_=!0};ClusterIcon.prototype.remove=function(){this.setMap(null)};ClusterIcon.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),this.div_.parentNode.removeChild(this.div_),this.div_=null)};ClusterIcon.prototype.setSums=function(n){this.sums_=n;this.text_=n.text;this.index_=n.index;this.div_&&(this.div_.innerHTML=n.text);this.useStyle()};ClusterIcon.prototype.useStyle=function(){var t=Math.max(0,this.sums_.index-1),n;t=Math.min(this.styles_.length-1,t);n=this.styles_[t];this.url_=n.url;this.height_=n.height;this.width_=n.width;this.textColor_=n.textColor;this.anchor_=n.anchor;this.textSize_=n.textSize;this.backgroundPosition_=n.backgroundPosition;this.iconAnchor_=n.iconAnchor};ClusterIcon.prototype.setCenter=function(n){this.center_=n};ClusterIcon.prototype.createCss=function(n){var t=[],i,r,u;return t.push("background-image:url("+this.url_+");"),i=this.backgroundPosition_?this.backgroundPosition_:"0 0",t.push("background-position:"+i+";"),typeof this.anchor_=="object"?(typeof this.anchor_[0]=="number"&&this.anchor_[0]>0&&this.anchor_[0]<this.height_?t.push("height:"+(this.height_-this.anchor_[0])+"px; padding-top:"+this.anchor_[0]+"px;"):typeof this.anchor_[0]=="number"&&this.anchor_[0]<0&&-this.anchor_[0]<this.height_?t.push("height:"+this.height_+"px; line-height:"+(this.height_+this.anchor_[0])+"px;"):t.push("height:"+this.height_+"px; line-height:"+this.height_+"px;"),typeof this.anchor_[1]=="number"&&this.anchor_[1]>0&&this.anchor_[1]<this.width_?t.push("width:"+(this.width_-this.anchor_[1])+"px; padding-left:"+this.anchor_[1]+"px;"):t.push("width:"+this.width_+"px; text-align:center;")):t.push("height:"+this.height_+"px; line-height:"+this.height_+"px; width:"+this.width_+"px; text-align:center;"),r=this.textColor_?this.textColor_:"black",u=this.textSize_?this.textSize_:11,t.push("cursor:pointer; top:"+n.y+"px; left:"+n.x+"px; color:"+r+"; position:absolute; font-size:"+u+"px; font-family:Arial,sans-serif; font-weight:bold"),t.join("")};window.MarkerClusterer=MarkerClusterer;MarkerClusterer.prototype.addMarker=MarkerClusterer.prototype.addMarker;MarkerClusterer.prototype.addMarkers=MarkerClusterer.prototype.addMarkers;MarkerClusterer.prototype.clearMarkers=MarkerClusterer.prototype.clearMarkers;MarkerClusterer.prototype.fitMapToMarkers=MarkerClusterer.prototype.fitMapToMarkers;MarkerClusterer.prototype.getCalculator=MarkerClusterer.prototype.getCalculator;MarkerClusterer.prototype.getGridSize=MarkerClusterer.prototype.getGridSize;MarkerClusterer.prototype.getExtendedBounds=MarkerClusterer.prototype.getExtendedBounds;MarkerClusterer.prototype.getMap=MarkerClusterer.prototype.getMap;MarkerClusterer.prototype.getMarkers=MarkerClusterer.prototype.getMarkers;MarkerClusterer.prototype.getMaxZoom=MarkerClusterer.prototype.getMaxZoom;MarkerClusterer.prototype.getStyles=MarkerClusterer.prototype.getStyles;MarkerClusterer.prototype.getTotalClusters=MarkerClusterer.prototype.getTotalClusters;MarkerClusterer.prototype.getTotalMarkers=MarkerClusterer.prototype.getTotalMarkers;MarkerClusterer.prototype.redraw=MarkerClusterer.prototype.redraw;MarkerClusterer.prototype.removeMarker=MarkerClusterer.prototype.removeMarker;MarkerClusterer.prototype.removeMarkers=MarkerClusterer.prototype.removeMarkers;MarkerClusterer.prototype.resetViewport=MarkerClusterer.prototype.resetViewport;MarkerClusterer.prototype.repaint=MarkerClusterer.prototype.repaint;MarkerClusterer.prototype.setCalculator=MarkerClusterer.prototype.setCalculator;MarkerClusterer.prototype.setGridSize=MarkerClusterer.prototype.setGridSize;MarkerClusterer.prototype.setMaxZoom=MarkerClusterer.prototype.setMaxZoom;MarkerClusterer.prototype.onAdd=MarkerClusterer.prototype.onAdd;MarkerClusterer.prototype.draw=MarkerClusterer.prototype.draw;Cluster.prototype.getCenter=Cluster.prototype.getCenter;Cluster.prototype.getSize=Cluster.prototype.getSize;Cluster.prototype.getMarkers=Cluster.prototype.getMarkers;ClusterIcon.prototype.onAdd=ClusterIcon.prototype.onAdd;ClusterIcon.prototype.draw=ClusterIcon.prototype.draw;ClusterIcon.prototype.onRemove=ClusterIcon.prototype.onRemove;!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self);t.turf=n()}}(function(){var n;return function t(n,i,r){function u(f,o){var h,c,s;if(!i[f]){if(!n[f]){if(h="function"==typeof require&&require,!o&&h)return h(f,!0);if(e)return e(f,!0);c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c;}s=i[f]={exports:{}};n[f][0].call(s.exports,function(t){var i=n[f][1][t];return u(i?i:t)},s,s.exports,t,n,i,r)}return i[f].exports}for(var e="function"==typeof require&&require,f=0;f<r.length;f++)u(r[f]);return u}({1:[function(n,t){t.exports={isClockwise:n("turf-is-clockwise"),isolines:n("turf-isolines"),isobands:n("turf-isobands"),merge:n("turf-merge"),convex:n("turf-convex"),within:n("turf-within"),concave:n("turf-concave"),count:n("turf-count"),erase:n("turf-erase"),variance:n("turf-variance"),deviation:n("turf-deviation"),median:n("turf-median"),min:n("turf-min"),max:n("turf-max"),aggregate:n("turf-aggregate"),flip:n("turf-flip"),simplify:n("turf-simplify"),sum:n("turf-sum"),average:n("turf-average"),bezier:n("turf-bezier"),tag:n("turf-tag"),size:n("turf-size"),sample:n("turf-sample"),jenks:n("turf-jenks"),quantile:n("turf-quantile"),envelope:n("turf-envelope"),square:n("turf-square"),midpoint:n("turf-midpoint"),buffer:n("turf-buffer"),center:n("turf-center"),centroid:n("turf-centroid"),combine:n("turf-combine"),distance:n("turf-distance"),explode:n("turf-explode"),extent:n("turf-extent"),bboxPolygon:n("turf-bbox-polygon"),featurecollection:n("turf-featurecollection"),filter:n("turf-filter"),grid:n("turf-grid"),inside:n("turf-inside"),intersect:n("turf-intersect"),linestring:n("turf-linestring"),nearest:n("turf-nearest"),planepoint:n("turf-planepoint"),point:n("turf-point"),polygon:n("turf-polygon"),reclass:n("turf-reclass"),remove:n("turf-remove"),tin:n("turf-tin"),union:n("turf-union"),bearing:n("turf-bearing"),destination:n("turf-destination"),hex:n("turf-hex"),kinks:n("turf-kinks"),pointOnSurface:n("turf-point-on-surface")}},{"turf-aggregate":6,"turf-average":29,"turf-bbox-polygon":30,"turf-bearing":32,"turf-bezier":33,"turf-buffer":35,"turf-center":40,"turf-centroid":41,"turf-combine":42,"turf-concave":43,"turf-convex":44,"turf-count":45,"turf-destination":47,"turf-deviation":48,"turf-distance":50,"turf-envelope":51,"turf-erase":56,"turf-explode":61,"turf-extent":65,"turf-featurecollection":67,"turf-filter":68,"turf-flip":69,"turf-grid":70,"turf-hex":71,"turf-inside":73,"turf-intersect":74,"turf-is-clockwise":79,"turf-isobands":80,"turf-isolines":89,"turf-jenks":98,"turf-kinks":100,"turf-linestring":101,"turf-max":102,"turf-median":104,"turf-merge":106,"turf-midpoint":108,"turf-min":109,"turf-nearest":111,"turf-planepoint":112,"turf-point":114,"turf-point-on-surface":113,"turf-polygon":115,"turf-quantile":116,"turf-reclass":118,"turf-remove":119,"turf-sample":120,"turf-simplify":121,"turf-size":123,"turf-square":124,"turf-sum":128,"turf-tag":131,"turf-tin":132,"turf-union":133,"turf-variance":138,"turf-within":140}],2:[function(n,t,i){function r(n,t,i){var e,o,f,u;if(!(this instanceof r))return new r(n,t,i);if(o=typeof n,"number"===o)e=n>0?n>>>0:0;else if("string"===o)"base64"===t&&(n=at(n)),e=r.byteLength(n,t);else{if("object"!==o||null===n)throw new TypeError("must start with number, buffer, array or string");"Buffer"===n.type&&a(n.data)&&(n=n.data);e=+n.length>0?Math.floor(+n.length):0}if(this.length>v)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+v.toString(16)+" bytes");if(r.TYPED_ARRAY_SUPPORT?f=r._augment(new Uint8Array(e)):(f=this,f.length=e,f._isBuffer=!0),r.TYPED_ARRAY_SUPPORT&&"number"==typeof n.byteLength)f._set(n);else if(yt(n))if(r.isBuffer(n))for(u=0;e>u;u++)f[u]=n.readUInt8(u);else for(u=0;e>u;u++)f[u]=(n[u]%256+256)%256;else if("string"===o)f.write(n,0,t);else if("number"===o&&!r.TYPED_ARRAY_SUPPORT&&!i)for(u=0;e>u;u++)f[u]=0;return f}function it(n,t,i,r){var f,e,u,o;if(i=Number(i)||0,f=n.length-i,r?(r=Number(r),r>f&&(r=f)):r=f,e=t.length,e%2!=0)throw new Error("Invalid hex string");for(r>e/2&&(r=e/2),u=0;r>u;u++){if(o=parseInt(t.substr(2*u,2),16),isNaN(o))throw new Error("Invalid hex string");n[i+u]=o}return u}function rt(n,t,i,r){return c(l(t),n,i,r)}function y(n,t,i,r){return c(wt(t),n,i,r)}function ut(n,t,i,r){return y(n,t,i,r)}function ft(n,t,i,r){return c(d(t),n,i,r)}function et(n,t,i,r){return c(bt(t),n,i,r,2)}function ot(n,t,i){return nt.fromByteArray(0===t&&i===n.length?n:n.slice(t,i))}function st(n,t,i){var f="",u="",r;for(i=Math.min(n.length,i),r=t;i>r;r++)n[r]<=127?(f+=g(u)+String.fromCharCode(n[r]),u=""):u+="%"+n[r].toString(16);return f+g(u)}function p(n,t,i){var u="",r;for(i=Math.min(n.length,i),r=t;i>r;r++)u+=String.fromCharCode(n[r]);return u}function ht(n,t,i){return p(n,t,i)}function ct(n,t,i){var f=n.length,u,r;for((!t||0>t)&&(t=0),(!i||0>i||i>f)&&(i=f),u="",r=t;i>r;r++)u+=pt(n[r]);return u}function lt(n,t,i){for(var u=n.slice(t,i),f="",r=0;r<u.length;r+=2)f+=String.fromCharCode(u[r]+256*u[r+1]);return f}function f(n,t,i){if(n%1!=0||0>n)throw new RangeError("offset is not uint");if(n+t>i)throw new RangeError("Trying to access beyond buffer length");}function e(n,t,i,u,f,e){if(!r.isBuffer(n))throw new TypeError("buffer must be a Buffer instance");if(t>f||e>t)throw new TypeError("value is out of bounds");if(i+u>n.length)throw new TypeError("index out of range");}function s(n,t,i,r){0>t&&(t=65535+t+1);for(var u=0,f=Math.min(n.length-i,2);f>u;u++)n[i+u]=(t&255<<8*(r?u:1-u))>>>8*(r?u:1-u)}function h(n,t,i,r){0>t&&(t=4294967295+t+1);for(var u=0,f=Math.min(n.length-i,4);f>u;u++)n[i+u]=t>>>8*(r?u:3-u)&255}function w(n,t,i,r,u,f){if(t>u||f>t)throw new TypeError("value is out of bounds");if(i+r>n.length)throw new TypeError("index out of range");}function b(n,t,i,r,u){return u||w(n,t,i,4,34028234663852886e22,-34028234663852886e22),o.write(n,t,i,r,23,4),i+4}function k(n,t,i,r,u){return u||w(n,t,i,8,17976931348623157e292,-17976931348623157e292),o.write(n,t,i,r,52,8),i+8}function at(n){for(n=vt(n).replace(tt,"");n.length%4!=0;)n+="=";return n}function vt(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function yt(n){return a(n)||r.isBuffer(n)||n&&"object"==typeof n&&"number"==typeof n.length}function pt(n){return 16>n?"0"+n.toString(16):n.toString(16)}function l(n){for(var i,e,f,u,r=[],t=0;t<n.length;t++)if(i=n.charCodeAt(t),127>=i)r.push(i);else for(e=t,i>=55296&&57343>=i&&t++,f=encodeURIComponent(n.slice(e,t+1)).substr(1).split("%"),u=0;u<f.length;u++)r.push(parseInt(f[u],16));return r}function wt(n){for(var i=[],t=0;t<n.length;t++)i.push(255&n.charCodeAt(t));return i}function bt(n){for(var t,u,f,i=[],r=0;r<n.length;r++)t=n.charCodeAt(r),u=t>>8,f=t%256,i.push(f),i.push(u);return i}function d(n){return nt.toByteArray(n)}function c(n,t,i,r,u){u&&(r-=r%u);for(var f=0;r>f&&!(f+i>=t.length||f>=n.length);f++)t[f+i]=n[f];return f}function g(n){try{return decodeURIComponent(n)}catch(t){return String.fromCharCode(65533)}}var nt=n("base64-js"),o=n("ieee754"),a=n("is-array"),v,u,tt;i.Buffer=r;i.SlowBuffer=r;i.INSPECT_MAX_BYTES=50;r.poolSize=8192;v=1073741823;r.TYPED_ARRAY_SUPPORT=function(){try{var t=new ArrayBuffer(0),n=new Uint8Array(t);return n.foo=function(){return 42},42===n.foo()&&"function"==typeof n.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(i){return!1}}();r.isBuffer=function(n){return!(null==n||!n._isBuffer)};r.compare=function(n,t){if(!r.isBuffer(n)||!r.isBuffer(t))throw new TypeError("Arguments must be Buffers");for(var u=n.length,f=t.length,i=0,e=Math.min(u,f);e>i&&n[i]===t[i];i++);return i!==e&&(u=n[i],f=t[i]),f>u?-1:u>f?1:0};r.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};r.concat=function(n,t){var i,u,f,e;if(!a(n))throw new TypeError("Usage: Buffer.concat(list[, length])");if(0===n.length)return new r(0);if(1===n.length)return n[0];if(void 0===t)for(t=0,i=0;i<n.length;i++)t+=n[i].length;for(u=new r(t),f=0,i=0;i<n.length;i++)e=n[i],e.copy(u,f),f+=e.length;return u};r.byteLength=function(n,t){var i;switch(n+="",t||"utf8"){case"ascii":case"binary":case"raw":i=n.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":i=2*n.length;break;case"hex":i=n.length>>>1;break;case"utf8":case"utf-8":i=l(n).length;break;case"base64":i=d(n).length;break;default:i=n.length}return i};r.prototype.length=void 0;r.prototype.parent=void 0;r.prototype.toString=function(n,t,i){var r=!1;if(t>>>=0,i=void 0===i||1/0===i?this.length:i>>>0,n||(n="utf8"),0>t&&(t=0),i>this.length&&(i=this.length),t>=i)return"";for(;;)switch(n){case"hex":return ct(this,t,i);case"utf8":case"utf-8":return st(this,t,i);case"ascii":return p(this,t,i);case"binary":return ht(this,t,i);case"base64":return ot(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return lt(this,t,i);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase();r=!0}};r.prototype.equals=function(n){if(!r.isBuffer(n))throw new TypeError("Argument must be a Buffer");return 0===r.compare(this,n)};r.prototype.inspect=function(){var n="",t=i.INSPECT_MAX_BYTES;return this.length>0&&(n=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(n+=" ... ")),"<Buffer "+n+">"};r.prototype.compare=function(n){if(!r.isBuffer(n))throw new TypeError("Argument must be a Buffer");return r.compare(this,n)};r.prototype.get=function(n){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(n)};r.prototype.set=function(n,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(n,t)};r.prototype.write=function(n,t,i,r){var e,f,u;isFinite(t)?isFinite(i)||(r=i,i=void 0):(e=r,r=t,t=i,i=e);t=Number(t)||0;f=this.length-t;i?(i=Number(i),i>f&&(i=f)):i=f;r=String(r||"utf8").toLowerCase();switch(r){case"hex":u=it(this,n,t,i);break;case"utf8":case"utf-8":u=rt(this,n,t,i);break;case"ascii":u=y(this,n,t,i);break;case"binary":u=ut(this,n,t,i);break;case"base64":u=ft(this,n,t,i);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":u=et(this,n,t,i);break;default:throw new TypeError("Unknown encoding: "+r);}return u};r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};r.prototype.slice=function(n,t){var i=this.length;if(n=~~n,t=void 0===t?i:~~t,0>n?(n+=i,0>n&&(n=0)):n>i&&(n=i),0>t?(t+=i,0>t&&(t=0)):t>i&&(t=i),n>t&&(t=n),r.TYPED_ARRAY_SUPPORT)return r._augment(this.subarray(n,t));for(var f=t-n,e=new r(f,void 0,!0),u=0;f>u;u++)e[u]=this[u+n];return e};r.prototype.readUInt8=function(n,t){return t||f(n,1,this.length),this[n]};r.prototype.readUInt16LE=function(n,t){return t||f(n,2,this.length),this[n]|this[n+1]<<8};r.prototype.readUInt16BE=function(n,t){return t||f(n,2,this.length),this[n]<<8|this[n+1]};r.prototype.readUInt32LE=function(n,t){return t||f(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+16777216*this[n+3]};r.prototype.readUInt32BE=function(n,t){return t||f(n,4,this.length),16777216*this[n]+(this[n+1]<<16|this[n+2]<<8|this[n+3])};r.prototype.readInt8=function(n,t){return t||f(n,1,this.length),128&this[n]?-1*(256-this[n]):this[n]};r.prototype.readInt16LE=function(n,t){t||f(n,2,this.length);var i=this[n]|this[n+1]<<8;return 32768&i?4294901760|i:i};r.prototype.readInt16BE=function(n,t){t||f(n,2,this.length);var i=this[n+1]|this[n]<<8;return 32768&i?4294901760|i:i};r.prototype.readInt32LE=function(n,t){return t||f(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24};r.prototype.readInt32BE=function(n,t){return t||f(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]};r.prototype.readFloatLE=function(n,t){return t||f(n,4,this.length),o.read(this,n,!0,23,4)};r.prototype.readFloatBE=function(n,t){return t||f(n,4,this.length),o.read(this,n,!1,23,4)};r.prototype.readDoubleLE=function(n,t){return t||f(n,8,this.length),o.read(this,n,!0,52,8)};r.prototype.readDoubleBE=function(n,t){return t||f(n,8,this.length),o.read(this,n,!1,52,8)};r.prototype.writeUInt8=function(n,t,i){return n=+n,t>>>=0,i||e(this,n,t,1,255,0),r.TYPED_ARRAY_SUPPORT||(n=Math.floor(n)),this[t]=n,t+1};r.prototype.writeUInt16LE=function(n,t,i){return n=+n,t>>>=0,i||e(this,n,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=n,this[t+1]=n>>>8):s(this,n,t,!0),t+2};r.prototype.writeUInt16BE=function(n,t,i){return n=+n,t>>>=0,i||e(this,n,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=n>>>8,this[t+1]=n):s(this,n,t,!1),t+2};r.prototype.writeUInt32LE=function(n,t,i){return n=+n,t>>>=0,i||e(this,n,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t+3]=n>>>24,this[t+2]=n>>>16,this[t+1]=n>>>8,this[t]=n):h(this,n,t,!0),t+4};r.prototype.writeUInt32BE=function(n,t,i){return n=+n,t>>>=0,i||e(this,n,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t]=n>>>24,this[t+1]=n>>>16,this[t+2]=n>>>8,this[t+3]=n):h(this,n,t,!1),t+4};r.prototype.writeInt8=function(n,t,i){return n=+n,t>>>=0,i||e(this,n,t,1,127,-128),r.TYPED_ARRAY_SUPPORT||(n=Math.floor(n)),0>n&&(n=255+n+1),this[t]=n,t+1};r.prototype.writeInt16LE=function(n,t,i){return n=+n,t>>>=0,i||e(this,n,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=n,this[t+1]=n>>>8):s(this,n,t,!0),t+2};r.prototype.writeInt16BE=function(n,t,i){return n=+n,t>>>=0,i||e(this,n,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=n>>>8,this[t+1]=n):s(this,n,t,!1),t+2};r.prototype.writeInt32LE=function(n,t,i){return n=+n,t>>>=0,i||e(this,n,t,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[t]=n,this[t+1]=n>>>8,this[t+2]=n>>>16,this[t+3]=n>>>24):h(this,n,t,!0),t+4};r.prototype.writeInt32BE=function(n,t,i){return n=+n,t>>>=0,i||e(this,n,t,4,2147483647,-2147483648),0>n&&(n=4294967295+n+1),r.TYPED_ARRAY_SUPPORT?(this[t]=n>>>24,this[t+1]=n>>>16,this[t+2]=n>>>8,this[t+3]=n):h(this,n,t,!1),t+4};r.prototype.writeFloatLE=function(n,t,i){return b(this,n,t,!0,i)};r.prototype.writeFloatBE=function(n,t,i){return b(this,n,t,!1,i)};r.prototype.writeDoubleLE=function(n,t,i){return k(this,n,t,!0,i)};r.prototype.writeDoubleBE=function(n,t,i){return k(this,n,t,!1,i)};r.prototype.copy=function(n,t,i,u){var o=this,e,f;if(i||(i=0),u||0===u||(u=this.length),t||(t=0),u!==i&&0!==n.length&&0!==o.length){if(i>u)throw new TypeError("sourceEnd < sourceStart");if(0>t||t>=n.length)throw new TypeError("targetStart out of bounds");if(0>i||i>=o.length)throw new TypeError("sourceStart out of bounds");if(0>u||u>o.length)throw new TypeError("sourceEnd out of bounds");if(u>this.length&&(u=this.length),n.length-t<u-i&&(u=n.length-t+i),e=u-i,1e3>e||!r.TYPED_ARRAY_SUPPORT)for(f=0;e>f;f++)n[f+t]=this[f+i];else n._set(this.subarray(i,i+e),t)}};r.prototype.fill=function(n,t,i){var r,u,f;if(n||(n=0),t||(t=0),i||(i=this.length),t>i)throw new TypeError("end < start");if(i!==t&&0!==this.length){if(0>t||t>=this.length)throw new TypeError("start out of bounds");if(0>i||i>this.length)throw new TypeError("end out of bounds");if("number"==typeof n)for(r=t;i>r;r++)this[r]=n;else for(u=l(n.toString()),f=u.length,r=t;i>r;r++)this[r]=u[r%f];return this}};r.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(r.TYPED_ARRAY_SUPPORT)return new r(this).buffer;for(var t=new Uint8Array(this.length),n=0,i=t.length;i>n;n+=1)t[n]=this[n];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser");};u=r.prototype;r._augment=function(n){return n.constructor=r,n._isBuffer=!0,n._get=n.get,n._set=n.set,n.get=u.get,n.set=u.set,n.write=u.write,n.toString=u.toString,n.toLocaleString=u.toString,n.toJSON=u.toJSON,n.equals=u.equals,n.compare=u.compare,n.copy=u.copy,n.slice=u.slice,n.readUInt8=u.readUInt8,n.readUInt16LE=u.readUInt16LE,n.readUInt16BE=u.readUInt16BE,n.readUInt32LE=u.readUInt32LE,n.readUInt32BE=u.readUInt32BE,n.readInt8=u.readInt8,n.readInt16LE=u.readInt16LE,n.readInt16BE=u.readInt16BE,n.readInt32LE=u.readInt32LE,n.readInt32BE=u.readInt32BE,n.readFloatLE=u.readFloatLE,n.readFloatBE=u.readFloatBE,n.readDoubleLE=u.readDoubleLE,n.readDoubleBE=u.readDoubleBE,n.writeUInt8=u.writeUInt8,n.writeUInt16LE=u.writeUInt16LE,n.writeUInt16BE=u.writeUInt16BE,n.writeUInt32LE=u.writeUInt32LE,n.writeUInt32BE=u.writeUInt32BE,n.writeInt8=u.writeInt8,n.writeInt16LE=u.writeInt16LE,n.writeInt16BE=u.writeInt16BE,n.writeInt32LE=u.writeInt32LE,n.writeInt32BE=u.writeInt32BE,n.writeFloatLE=u.writeFloatLE,n.writeFloatBE=u.writeFloatBE,n.writeDoubleLE=u.writeDoubleLE,n.writeDoubleBE=u.writeDoubleBE,n.fill=u.fill,n.inspect=u.inspect,n.toArrayBuffer=u.toArrayBuffer,n};tt=/[^+\/0-9A-z]/g},{"base64-js":3,ieee754:4,"is-array":5}],3:[function(n,t,i){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(n){"use strict";function t(n){var t=n.charCodeAt(0);return t===h?62:t===c?63:i>t?-1:i+10>t?t-i+26+26:f+26>t?t-f:u+26>t?t-u+26:void 0}function e(n){function u(n){e[l++]=n}var i,h,c,r,f,e,o,l;if(n.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");for(o=n.length,f="="===n.charAt(o-2)?2:"="===n.charAt(o-1)?1:0,e=new s(3*n.length/4-f),c=f>0?n.length-4:n.length,l=0,i=0,h=0;c>i;i+=4,h+=3)r=t(n.charAt(i))<<18|t(n.charAt(i+1))<<12|t(n.charAt(i+2))<<6|t(n.charAt(i+3)),u((16711680&r)>>16),u((65280&r)>>8),u(255&r);return 2===f?(r=t(n.charAt(i))<<2|t(n.charAt(i+1))>>4,u(255&r)):1===f&&(r=t(n.charAt(i))<<10|t(n.charAt(i+1))<<4|t(n.charAt(i+2))>>2,u(r>>8&255),u(255&r)),e}function o(n){function t(n){return r.charAt(n)}function s(n){return t(n>>18&63)+t(n>>12&63)+t(n>>6&63)+t(63&n)}for(var i,o=n.length%3,u="",f=0,e=n.length-o;e>f;f+=3)i=(n[f]<<16)+(n[f+1]<<8)+n[f+2],u+=s(i);switch(o){case 1:i=n[n.length-1];u+=t(i>>2);u+=t(i<<4&63);u+="==";break;case 2:i=(n[n.length-2]<<8)+n[n.length-1];u+=t(i>>10);u+=t(i>>4&63);u+=t(i<<2&63);u+="="}return u}var s="undefined"!=typeof Uint8Array?Uint8Array:Array,h="+".charCodeAt(0),c="/".charCodeAt(0),i="0".charCodeAt(0),u="a".charCodeAt(0),f="A".charCodeAt(0);n.toByteArray=e;n.fromByteArray=o}("undefined"==typeof i?this.base64js={}:i)},{}],4:[function(n,t,i){i.read=function(n,t,i,r,u){var f,o,l=8*u-r-1,a=(1<<l)-1,v=a>>1,e=-7,s=i?u-1:0,c=i?-1:1,h=n[t+s];for(s+=c,f=h&(1<<-e)-1,h>>=-e,e+=l;e>0;f=256*f+n[t+s],s+=c,e-=8);for(o=f&(1<<-e)-1,f>>=-e,e+=r;e>0;o=256*o+n[t+s],s+=c,e-=8);if(0===f)f=1-v;else{if(f===a)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,r);f-=v}return(h?-1:1)*o*Math.pow(2,f-r)};i.write=function(n,t,i,r,u,f){var e,o,s,l=8*f-u-1,a=(1<<l)-1,h=a>>1,y=23===u?Math.pow(2,-24)-Math.pow(2,-77):0,c=r?0:f-1,v=r?1:-1,p=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||1/0===t?(o=isNaN(t)?1:0,e=a):(e=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-e))<1&&(e--,s*=2),t+=e+h>=1?y/s:y*Math.pow(2,1-h),t*s>=2&&(e++,s/=2),e+h>=a?(o=0,e=a):e+h>=1?(o=(t*s-1)*Math.pow(2,u),e+=h):(o=t*Math.pow(2,h-1)*Math.pow(2,u),e=0));u>=8;n[i+c]=255&o,c+=v,o/=256,u-=8);for(e=e<<u|o,l+=u;l>0;n[i+c]=255&e,c+=v,e/=256,l-=8);n[i+c-v]|=128*p}},{}],5:[function(n,t){var i=Array.isArray,r=Object.prototype.toString;t.exports=i||function(n){return!!n&&"[object Array]"==r.call(n)}},{}],6:[function(n,t){function r(n){return"average"===n||"sum"===n||"median"===n||"min"===n||"max"===n||"deviation"===n||"variance"===n||"count"===n}var u=n("turf-average"),f=n("turf-sum"),e=n("turf-median"),o=n("turf-min"),s=n("turf-max"),h=n("turf-deviation"),c=n("turf-variance"),l=n("turf-count"),i={};i.average=u;i.sum=f;i.median=e;i.min=o;i.max=s;i.deviation=h;i.variance=c;i.count=l;t.exports=function(n,t,u){for(var e,f,o=0,s=u.length;s>o;o++){if(e=u[o],f=e.aggregation,!r(f))return new Error('"'+f+'" is not a recognized aggregation operation.');n="count"===f?i[f](n,t,e.outField):i[f](n,t,e.inField,e.outField)}return n}},{"turf-average":7,"turf-count":9,"turf-deviation":11,"turf-max":14,"turf-median":17,"turf-min":20,"turf-sum":23,"turf-variance":26}],7:[function(n,t){function i(n){for(var i=0,t=0;t<n.length;t++)i+=n[t];return i/n.length}var r=n("turf-inside");t.exports=function(n,t,u,f){return n.features.forEach(function(n){n.properties||(n.properties={});var e=[];t.features.forEach(function(t){r(t,n)&&e.push(t.properties[u])});n.properties[f]=i(e)}),n}},{"turf-inside":8}],8:[function(n,t){t.exports=function(n,t){for(var c=n.geometry.coordinates[0],u=n.geometry.coordinates[1],i=t.geometry.coordinates[0],f=!1,r=0,e=i.length-1;r<i.length;e=r++){var s=i[r][0],o=i[r][1],l=i[e][0],h=i[e][1],a=o>u!=h>u&&(l-s)*(u-o)/(h-o)+s>c;a&&(f=!f)}return f}},{}],9:[function(n,t){var i=n("turf-inside");t.exports=function(n,t,r){return n.features.forEach(function(n){n.properties||(n.properties={});var u=[];t.features.forEach(function(t){i(t,n)&&u.push(1)});n.properties[r]=u.length}),n}},{"turf-inside":10}],10:[function(n,t){t.exports=n(8)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-aggregate/node_modules/turf-average/node_modules/turf-inside/index.js":8}],11:[function(n,t){var i=n("simple-statistics"),r=n("turf-inside");t.exports=function(n,t,u,f){return n.features.forEach(function(n){n.properties||(n.properties={});var e=[];t.features.forEach(function(t){r(t,n)&&e.push(t.properties[u])});n.properties[f]=i.standard_deviation(e)}),n}},{"simple-statistics":12,"turf-inside":13}],12:[function(n,t){!function(){function nt(){var n={},t=[];return n.data=function(i){return arguments.length?(t=i.slice(),n):t},n.mb=function(){var u,f,n=t.length;if(1===n)u=0,f=t[0][1];else{for(var e,i,o,r=0,s=0,c=0,l=0,h=0;n>h;h++)e=t[h],i=e[0],o=e[1],r+=i,s+=o,c+=i*i,l+=i*o;u=(n*l-r*s)/(n*c-r*r);f=s/n-u*r/n}return{m:u,b:f}},n.m=function(){return n.mb().m},n.b=function(){return n.mb().b},n.line=function(){var t=n.mb(),i=t.m,r=t.b;return function(n){return r+i*n}},n}function tt(n,t){var s,f,r,e,u,o,i;if(n.length<2)return 1;for(f=0,r=0;r<n.length;r++)f+=n[r][1];for(s=f/n.length,e=0,u=0;u<n.length;u++)e+=Math.pow(s-n[u][1],2);for(o=0,i=0;i<n.length;i++)o+=Math.pow(n[i][1]-t(n[i][0]),2);return 1-o/e}function it(){var t={},i=0,n={};return t.train=function(t,r){var u,f;n[r]||(n[r]={});for(u in t)f=t[u],void 0===n[r][u]&&(n[r][u]={}),void 0===n[r][u][f]&&(n[r][u][f]=0),n[r][u][t[u]]++;i++},t.score=function(t){var r,u={},f,o,e,s;for(f in t){o=t[f];for(r in n)void 0===u[r]&&(u[r]={}),u[r][f+"_"+o]=n[r][f]?(n[r][f][o]||0)/i:0}e={};for(r in u)for(s in u[r])void 0===e[r]&&(e[r]=0),e[r]+=u[r][s];return e},t}function l(n){for(var i=0,t=0;t<n.length;t++)i+=n[t];return i}function i(n){return 0===n.length?null:l(n)/n.length}function rt(n){if(0===n.length)return null;for(var i=1,t=0;t<n.length;t++){if(n[t]<=0)return null;i*=n[t]}return Math.pow(i,1/n.length)}function ut(n){if(0===n.length)return null;for(var i=0,t=0;t<n.length;t++){if(n[t]<=0)return null;i+=1/n[t]}return n.length/i}function ft(n){for(var t,i=0;i<n.length;i++)(n[i]<t||void 0===t)&&(t=n[i]);return t}function et(n){for(var t,i=0;i<n.length;i++)(n[i]>t||void 0===t)&&(t=n[i]);return t}function a(n){if(0===n.length)return null;for(var u=i(n),r=[],t=0;t<n.length;t++)r.push(Math.pow(n[t]-u,2));return i(r)}function v(n){return 0===n.length?null:Math.sqrt(a(n))}function y(n,t){for(var f=i(n),u=0,r=0;r<n.length;r++)u+=Math.pow(n[r]-f,t);return u}function u(n){if(n.length<=1)return null;var t=y(n,2);return t/(n.length-1)}function f(n){return n.length<=1?null:Math.sqrt(u(n))}function p(n,t){if(n.length<=1||n.length!=t.length)return null;for(var f=i(n),e=i(t),u=0,r=0;r<n.length;r++)u+=(n[r]-f)*(t[r]-e);return u/(n.length-1)}function ot(n,t){var i=p(n,t),r=f(n),u=f(t);return null===i||null===r||null===u?null:i/r/u}function o(n){var t,i,r;return 0===n.length?null:(t=n.slice().sort(function(n,t){return n-t}),t.length%2==1)?t[(t.length-1)/2]:(i=t[t.length/2-1],r=t[t.length/2],(i+r)/2)}function st(n){if(0===n.length)return null;if(1===n.length)return n[0];for(var f,t=n.slice().sort(function(n,t){return n-t}),u=t[0],e=0,i=1,r=1;r<t.length+1;r++)t[r]!==u?(i>e&&(e=i,f=u),i=1,u=t[r]):i++;return f}function ht(n,t){var r=i(n),u=v(n),f=Math.sqrt(n.length);return(r-t)/(u/f)}function ct(n,t,r){var f=n.length,e=t.length;if(!f||!e)return null;r||(r=0);var o=i(n),s=i(t),h=((f-1)*u(n)+(e-1)*u(t))/(f+e-2);return(o-s-r)/Math.sqrt(h*(1/f+1/e))}function s(n,t){var r,u,i;if(0===n.length)return null;if(r=n.slice().sort(function(n,t){return n-t}),t.length){for(u=[],i=0;i<t.length;i++)u[i]=h(r,t[i]);return u}return h(r,t)}function h(n,t){var i=n.length*t;return 0>t||t>1?null:1===t?n[n.length-1]:0===t?n[0]:i%1!=0?n[Math.ceil(i)-1]:n.length%2==0?(n[i-1]+n[i])/2:n[i]}function w(n){return 0===n.length?null:s(n,.75)-s(n,.25)}function b(n){if(!n||0===n.length)return null;for(var r=o(n),i=[],t=0;t<n.length;t++)i.push(Math.abs(n[t]-r));return o(i)}function k(n,t){for(var i,e=[],f=[],o=0,l,a,r,h,c,u=0;u<n.length+1;u++){for(l=[],a=[],i=0;t+1>i;i++)l.push(0),a.push(0);e.push(l);f.push(a)}for(u=1;t+1>u;u++)for(e[1][u]=1,f[1][u]=0,i=2;i<n.length+1;i++)f[i][u]=1/0;for(r=2;r<n.length+1;r++){for(var v=0,p=0,w=0,s=0,y=1;r+1>y;y++)if(h=r-y+1,c=n[h-1],w++,v+=c,p+=c*c,o=p-v*v/w,s=h-1,0!==s)for(i=2;t+1>i;i++)f[r][i]>=o+f[s][i-1]&&(e[r][i]=h,f[r][i]=o+f[s][i-1]);e[r][1]=1;f[r][1]=o}return{lower_class_limits:e,variance_combinations:f}}function d(n,t,i){var f=n.length-1,u=[],r=i;for(u[i]=n[n.length-1],u[0]=n[0];r>1;)u[r-1]=n[t[f][r]-2],f=t[f][r]-1,r--;return u}function lt(n,t){if(t>n.length)return null;n=n.slice().sort(function(n,t){return n-t});var i=k(n,t),r=i.lower_class_limits;return d(n,r,t)}function at(n){if(n.length<3)return null;var t=n.length,i=Math.pow(f(n),3),r=y(n,3);return t*r/((t-1)*(t-2)*i)}function vt(n){var t=Math.abs(n),r=Math.floor(10*t),u=10*(Math.floor(100*t)/10-Math.floor(10*t)),i=Math.min(10*r+u,e.length-1);return n>=0?e[i]:+(1-e[i]).toFixed(4)}function yt(n,t,i){return(n-t)/i}function r(n){if(0>n)return null;for(var i=1,t=2;n>=t;t++)i*=t;return i}function pt(n){return 0>n||n>1?null:g(1,n)}function g(n,t){function e(n,t,i){return r(t)/(r(n)*r(t-n))*Math.pow(i,n)*Math.pow(1-i,t-n)}if(0>t||t>1||0>=n||n%1!=0)return null;var i=0,f=0,u={};do u[i]=e(i,n,t),f+=u[i],i++;while(1-c>f);return u}function wt(n){function f(n,t){return Math.pow(Math.E,-t)*Math.pow(t,n)/r(n)}if(0>=n)return null;var t=0,u=0,i={};do i[t]=f(t,n),u+=i[t],t++;while(1-c>u);return i}function bt(n,t,r){for(var s,u,l=i(n),h=0,c=t(l),f=[],o=[],e=0;e<n.length;e++)void 0===f[n[e]]&&(f[n[e]]=0),f[n[e]]++;for(e=0;e<f.length;e++)void 0===f[e]&&(f[e]=0);for(u in c)u in f&&(o[u]=c[u]*n.length);for(u=o.length-1;u>=0;u--)o[u]<3&&(o[u-1]+=o[u],o.pop(),f[u-1]+=f[u],f.pop());for(u=0;u<f.length;u++)h+=Math.pow(f[u]-o[u],2)/o[u];return s=f.length-2,dt[s][r]<h}function kt(t){function f(t){return function(){var i=Array.prototype.slice.apply(arguments);return i.unshift(this),n[t].apply(n,i)}}var e=!(!Object.defineProperty||!Object.defineProperties),u,r,i;if(!e)throw new Error("without defineProperty, simple-statistics cannot be mixed in");for(r=["median","standard_deviation","sum","sample_skewness","mean","min","max","quantile","geometric_mean","harmonic_mean"],u=t?t.slice():Array.prototype,i=0;i<r.length;i++)Object.defineProperty(u,r[i],{value:f(r[i]),configurable:!0,enumerable:!1,writable:!0});return u}var n={};"undefined"!=typeof t?t.exports=n:this.ss=n;var e=[.5,.504,.508,.512,.516,.5199,.5239,.5279,.5319,.5359,.5398,.5438,.5478,.5517,.5557,.5596,.5636,.5675,.5714,.5753,.5793,.5832,.5871,.591,.5948,.5987,.6026,.6064,.6103,.6141,.6179,.6217,.6255,.6293,.6331,.6368,.6406,.6443,.648,.6517,.6554,.6591,.6628,.6664,.67,.6736,.6772,.6808,.6844,.6879,.6915,.695,.6985,.7019,.7054,.7088,.7123,.7157,.719,.7224,.7257,.7291,.7324,.7357,.7389,.7422,.7454,.7486,.7517,.7549,.758,.7611,.7642,.7673,.7704,.7734,.7764,.7794,.7823,.7852,.7881,.791,.7939,.7967,.7995,.8023,.8051,.8078,.8106,.8133,.8159,.8186,.8212,.8238,.8264,.8289,.8315,.834,.8365,.8389,.8413,.8438,.8461,.8485,.8508,.8531,.8554,.8577,.8599,.8621,.8643,.8665,.8686,.8708,.8729,.8749,.877,.879,.881,.883,.8849,.8869,.8888,.8907,.8925,.8944,.8962,.898,.8997,.9015,.9032,.9049,.9066,.9082,.9099,.9115,.9131,.9147,.9162,.9177,.9192,.9207,.9222,.9236,.9251,.9265,.9279,.9292,.9306,.9319,.9332,.9345,.9357,.937,.9382,.9394,.9406,.9418,.9429,.9441,.9452,.9463,.9474,.9484,.9495,.9505,.9515,.9525,.9535,.9545,.9554,.9564,.9573,.9582,.9591,.9599,.9608,.9616,.9625,.9633,.9641,.9649,.9656,.9664,.9671,.9678,.9686,.9693,.9699,.9706,.9713,.9719,.9726,.9732,.9738,.9744,.975,.9756,.9761,.9767,.9772,.9778,.9783,.9788,.9793,.9798,.9803,.9808,.9812,.9817,.9821,.9826,.983,.9834,.9838,.9842,.9846,.985,.9854,.9857,.9861,.9864,.9868,.9871,.9875,.9878,.9881,.9884,.9887,.989,.9893,.9896,.9898,.9901,.9904,.9906,.9909,.9911,.9913,.9916,.9918,.992,.9922,.9925,.9927,.9929,.9931,.9932,.9934,.9936,.9938,.994,.9941,.9943,.9945,.9946,.9948,.9949,.9951,.9952,.9953,.9955,.9956,.9957,.9959,.996,.9961,.9962,.9963,.9964,.9965,.9966,.9967,.9968,.9969,.997,.9971,.9972,.9973,.9974,.9974,.9975,.9976,.9977,.9977,.9978,.9979,.9979,.998,.9981,.9981,.9982,.9982,.9983,.9984,.9984,.9985,.9985,.9986,.9986,.9987,.9987,.9987,.9988,.9988,.9989,.9989,.9989,.999,.999],c=.0001,dt={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}};n.linear_regression=nt;n.standard_deviation=v;n.r_squared=tt;n.median=o;n.mean=i;n.mode=st;n.min=ft;n.max=et;n.sum=l;n.quantile=s;n.quantile_sorted=h;n.iqr=w;n.mad=b;n.sample_covariance=p;n.sample_correlation=ot;n.sample_variance=u;n.sample_standard_deviation=f;n.sample_skewness=at;n.geometric_mean=rt;n.harmonic_mean=ut;n.variance=a;n.t_test=ht;n.t_test_two_sample=ct;n.jenksMatrices=k;n.jenksBreaks=d;n.jenks=lt;n.bayesian=it;n.epsilon=c;n.factorial=r;n.bernoulli_distribution=pt;n.binomial_distribution=g;n.poisson_distribution=wt;n.chi_squared_goodness_of_fit=bt;n.z_score=yt;n.cumulative_std_normal_probability=vt;n.standard_normal_table=e;n.average=i;n.interquartile_range=w;n.mixin=kt;n.median_absolute_deviation=b}(this)},{}],13:[function(n,t){t.exports=n(8)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-aggregate/node_modules/turf-average/node_modules/turf-inside/index.js":8}],14:[function(n,t){var i=n("simple-statistics"),r=n("turf-inside");t.exports=function(n,t,u,f){return n.features.forEach(function(n){n.properties||(n.properties={});var e=[];t.features.forEach(function(t){r(t,n)&&e.push(t.properties[u])});n.properties[f]=i.max(e)}),n}},{"simple-statistics":15,"turf-inside":16}],15:[function(n,t){t.exports=n(12)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-aggregate/node_modules/turf-deviation/node_modules/simple-statistics/src/simple_statistics.js":12}],16:[function(n,t){t.exports=n(8)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-aggregate/node_modules/turf-average/node_modules/turf-inside/index.js":8}],17:[function(n,t){var i=n("simple-statistics"),r=n("turf-inside");t.exports=function(n,t,u,f){return n.features.forEach(function(n){n.properties||(n.properties={});var e=[];t.features.forEach(function(t){r(t,n)&&e.push(t.properties[u])});n.properties[f]=i.median(e)}),n}},{"simple-statistics":18,"turf-inside":19}],18:[function(n,t){t.exports=n(12)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-aggregate/node_modules/turf-deviation/node_modules/simple-statistics/src/simple_statistics.js":12}],19:[function(n,t){t.exports=n(8)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-aggregate/node_modules/turf-average/node_modules/turf-inside/index.js":8}],20:[function(n,t){var i=n("simple-statistics"),r=n("turf-inside");t.exports=function(n,t,u,f){return n.features.forEach(function(n){n.properties||(n.properties={});var e=[];t.features.forEach(function(t){r(t,n)&&e.push(t.properties[u])});n.properties[f]=i.min(e)}),n}},{"simple-statistics":21,"turf-inside":22}],21:[function(n,t){t.exports=n(12)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-aggregate/node_modules/turf-deviation/node_modules/simple-statistics/src/simple_statistics.js":12}],22:[function(n,t){t.exports=n(8)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-aggregate/node_modules/turf-average/node_modules/turf-inside/index.js":8}],23:[function(n,t){var i=n("simple-statistics"),r=n("turf-inside");t.exports=function(n,t,u,f){return n.features.forEach(function(n){n.properties||(n.properties={});var e=[];t.features.forEach(function(t){r(t,n)&&e.push(t.properties[u])});n.properties[f]=i.sum(e)}),n}},{"simple-statistics":24,"turf-inside":25}],24:[function(n,t){t.exports=n(12)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-aggregate/node_modules/turf-deviation/node_modules/simple-statistics/src/simple_statistics.js":12}],25:[function(n,t){t.exports=n(8)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-aggregate/node_modules/turf-average/node_modules/turf-inside/index.js":8}],26:[function(n,t){var i=n("simple-statistics"),r=n("turf-inside");t.exports=function(n,t,u,f){return n.features.forEach(function(n){n.properties||(n.properties={});var e=[];t.features.forEach(function(t){r(t,n)&&e.push(t.properties[u])});n.properties[f]=i.variance(e)}),n}},{"simple-statistics":27,"turf-inside":28}],27:[function(n,t){t.exports=n(12)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-aggregate/node_modules/turf-deviation/node_modules/simple-statistics/src/simple_statistics.js":12}],28:[function(n,t){t.exports=n(8)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-aggregate/node_modules/turf-average/node_modules/turf-inside/index.js":8}],29:[function(n,t){function i(n){for(var i=0,t=0;t<n.length;t++)i+=n[t];return i/n.length}var r=n("turf-inside");t.exports=function(n,t,u,f){return n.features.forEach(function(n){n.properties||(n.properties={});var e=[];t.features.forEach(function(t){r(t,n)&&e.push(t.properties[u])});n.properties[f]=i(e)}),n}},{"turf-inside":73}],30:[function(n,t){var i=n("turf-polygon");t.exports=function(n){var t=[n[0],n[1]],r=[n[0],n[3]],u=[n[2],n[3]],f=[n[2],n[1]];return i([[t,f,u,r,t]])}},{"turf-polygon":31}],31:[function(n,t){t.exports=function(n,t){if(null===n)return new Error("No coordinates passed");var i={type:"Feature",geometry:{type:"Polygon",coordinates:n},properties:t};return i.properties||(i.properties={}),i}},{}],32:[function(n,t){function i(n){return n*Math.PI/180}function r(n){return 180*n/Math.PI}t.exports=function(n,t){var f=n.geometry.coordinates,e=t.geometry.coordinates,o=i(f[0]),s=i(e[0]),h=i(f[1]),u=i(e[1]),c=Math.sin(s-o)*Math.cos(u),l=Math.cos(h)*Math.sin(u)-Math.sin(h)*Math.cos(u)*Math.cos(s-o);return r(Math.atan2(c,l))}},{}],33:[function(n,t){var i={};i.linestring=n("turf-linestring");t.exports=function(n,t,r){var f=i.linestring([]),e,u,o;for(f.properties=n.properties,pts=[],pts=n.geometry.coordinates.map(function(n){return{x:n[0],y:n[1]}}),e=new Spline({points:pts,duration:t,sharpness:r}),u=0;u<e.duration;u+=10)o=e.pos(u),Math.floor(u/100)%2==0&&f.geometry.coordinates.push([o.x,o.y]);return f};Spline=function(n){var i,r,t;for(this.points=n.points||[],this.duration=n.duration||1e4,this.sharpness=n.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=n.stepLength||60,this.length=this.points.length,this.delay=0,t=0;t<this.length;t++)this.points[t].z=this.points[t].z||0;for(t=0;t<this.length-1;t++)i=this.points[t],r=this.points[t+1],this.centers.push({x:(i.x+r.x)/2,y:(i.y+r.y)/2,z:(i.z+r.z)/2});for(this.controls.push([this.points[0],this.points[0]]),t=0;t<this.centers.length-1;t++){var i=this.centers[t],r=this.centers[t+1],u=this.points[t+1].x-(this.centers[t].x+this.centers[t+1].x)/2,f=this.points[t+1].y-(this.centers[t].y+this.centers[t+1].y)/2,e=this.points[t+1].z-(this.centers[t].y+this.centers[t+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t].x+u),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t].y+f),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t].z+e)},{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t+1].x+u),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t+1].y+f),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t+1].z+e)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this};Spline.prototype.cacheSteps=function(n){var u=[],i=this.pos(0),r,t,f;for(u.push(0),r=0;r<this.duration;r+=10)t=this.pos(r),f=Math.sqrt((t.x-i.x)*(t.x-i.x)+(t.y-i.y)*(t.y-i.y)+(t.z-i.z)*(t.z-i.z)),f>n&&(u.push(r),i=t);return u};Spline.prototype.vector=function(n){var t=this.pos(n+10),i=this.pos(n-10);return{angle:180*Math.atan2(t.y-i.y,t.x-i.x)/3.14,speed:Math.sqrt((i.x-t.x)*(i.x-t.x)+(i.y-t.y)*(i.y-t.y)+(i.z-t.z)*(i.z-t.z))}};Spline.prototype.drawControlPoints=function(n,t){var i;for(n.fillStyle=t||"#f60",n.strokeStyle="#fff",n.lineWidth=2,i=0;i<this.length;i++){var r=this.points[i],u=this.controls[i][0],f=this.controls[i][1];n.beginPath();n.moveTo(u.x,u.y);n.lineTo(r.x,r.y);n.lineTo(f.x,f.y);n.stroke();n.beginPath();n.arc(u.x,u.y,3,0,2*Math.PI,!1);n.fill();n.stroke();n.beginPath();n.arc(f.x,f.y,3,0,2*Math.PI,!1);n.fill();n.stroke();n.beginPath();n.arc(r.x,r.y,7,0,2*Math.PI,!1);n.fill();n.stroke()}return this};Spline.prototype.pos=function(n){function f(n,t,i,r,u){var e=function(n){var t=n*n,i=t*n;return[i,3*t*(1-n),3*n*(1-n)*(1-n),(1-n)*(1-n)*(1-n)]},f=e(n);return{x:u.x*f[0]+r.x*f[1]+i.x*f[2]+t.x*f[3],y:u.y*f[0]+r.y*f[1]+i.y*f[2]+t.y*f[3],z:u.z*f[0]+r.z*f[1]+i.z*f[2]+t.z*f[3]}}var i=n-this.delay,r,t,u;return(0>i&&(i=0),i>this.duration&&(i=this.duration-1),r=i/this.duration,r>=1)?this.points[this.length-1]:(t=Math.floor((this.points.length-1)*r),u=(this.length-1)*r-t,f(u,this.points[t],this.controls[t][1],this.controls[t+1][0],this.points[t+1]))};Spline.prototype.draw=function(n,t){n.strokeStyle=t||"#7e5e38";n.lineWidth=14;n.beginPath();for(var i,r=0;r<this.duration;r+=10)i=this.pos(r),Math.floor(r/100)%2==0?n.lineTo(i.x,i.y):n.moveTo(i.x,i.y);return n.stroke(),this}},{"turf-linestring":34}],34:[function(n,t){t.exports=function(n,t){if(!n)return new Error("No coordinates passed");return{type:"Feature",geometry:{type:"LineString",coordinates:n},properties:t}}},{}],35:[function(n,t){var r=n("turf-featurecollection"),f=n("turf-polygon"),e=n("turf-combine"),u=n("jsts"),i;t.exports=function(n,t,r,u){var f,o;switch(u=u||function(){},r){case"miles":t/=69.047;break;case"kilometers":t/=111.12}return"FeatureCollection"===n.type?(o=e(n),o.properties={},f=i(o,t),u(null,f),f):(f=i(n,t),u(null,f),f)};i=function(n,t){var e=new u.io.GeoJSONReader,o=e.read(JSON.stringify(n.geometry)),i=o.buffer(t),s=new u.io.GeoJSONParser;return i=s.write(i),"MultiPolygon"===i.type?(i={type:"Feature",geometry:i,properties:{}},i=r([i])):i=r([f(i.coordinates)]),i}},{jsts:36,"turf-combine":42,"turf-featurecollection":67,"turf-polygon":115}],36:[function(n,t){n("javascript.util");var i=n("./lib/jsts");t.exports=i},{"./lib/jsts":37,"javascript.util":39}],37:[function(n,t){jsts={version:"0.15.0",algorithm:{distance:{},locate:{}},error:{},geom:{util:{}},geomgraph:{index:{}},index:{bintree:{},chain:{},kdtree:{},quadtree:{},strtree:{}},io:{},noding:{snapround:{}},operation:{buffer:{},distance:{},overlay:{snap:{}},polygonize:{},predicate:{},relate:{},union:{},valid:{}},planargraph:{},simplify:{},triangulate:{quadedge:{}},util:{}};"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});jsts.abstractFunc=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.error={};jsts.error.IllegalArgumentError=function(n){this.name="IllegalArgumentError";this.message=n};jsts.error.IllegalArgumentError.prototype=new Error;jsts.error.TopologyError=function(n,t){this.name="TopologyError";this.message=t?n+" [ "+t+" ]":n};jsts.error.TopologyError.prototype=new Error;jsts.error.AbstractMethodInvocationError=function(){this.name="AbstractMethodInvocationError";this.message="Abstract method called, should be implemented in subclass."};jsts.error.AbstractMethodInvocationError.prototype=new Error;jsts.error.NotImplementedError=function(){this.name="NotImplementedError";this.message="This method has not yet been implemented."};jsts.error.NotImplementedError.prototype=new Error;jsts.error.NotRepresentableError=function(n){this.name="NotRepresentableError";this.message=n};jsts.error.NotRepresentableError.prototype=new Error;jsts.error.LocateFailureError=function(n){this.name="LocateFailureError";this.message=n};jsts.error.LocateFailureError.prototype=new Error;"undefined"!=typeof t&&(t.exports=jsts);jsts.geom.GeometryFilter=function(){};jsts.geom.GeometryFilter.prototype.filter=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.geom.util.PolygonExtracter=function(n){this.comps=n};jsts.geom.util.PolygonExtracter.prototype=new jsts.geom.GeometryFilter;jsts.geom.util.PolygonExtracter.prototype.comps=null;jsts.geom.util.PolygonExtracter.getPolygons=function(n,t){return void 0===t&&(t=[]),n instanceof jsts.geom.Polygon?t.push(n):n instanceof jsts.geom.GeometryCollection&&n.apply(new jsts.geom.util.PolygonExtracter(t)),t};jsts.geom.util.PolygonExtracter.prototype.filter=function(n){n instanceof jsts.geom.Polygon&&this.comps.push(n)};jsts.io.WKTParser=function(n){this.geometryFactory=n||new jsts.geom.GeometryFactory;this.regExes={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/}};jsts.io.WKTParser.prototype.read=function(n){var i,r,u,t;if(n=n.replace(/[\n\r]/g," "),t=this.regExes.typeStr.exec(n),-1!==n.search("EMPTY")&&(t=this.regExes.emptyTypeStr.exec(n),t[2]=void 0),t&&(r=t[1].toLowerCase(),u=t[2],this.parse[r]&&(i=this.parse[r].apply(this,[u]))),void 0===i)throw new Error("Could not parse WKT "+n);return i};jsts.io.WKTParser.prototype.write=function(n){return this.extractGeometry(n)};jsts.io.WKTParser.prototype.extractGeometry=function(n){var t=n.CLASS_NAME.split(".")[2].toLowerCase(),i;return this.extract[t]?(i=t.toUpperCase(),n.isEmpty()?i+" EMPTY":i+"("+this.extract[t].apply(this,[n])+")"):null};jsts.io.WKTParser.prototype.extract={coordinate:function(n){return n.x+" "+n.y},point:function(n){return n.coordinate.x+" "+n.coordinate.y},multipoint:function(n){for(var i=[],t=0,r=n.geometries.length;r>t;++t)i.push("("+this.extract.point.apply(this,[n.geometries[t]])+")");return i.join(",")},linestring:function(n){for(var i=[],t=0,r=n.points.length;r>t;++t)i.push(this.extract.coordinate.apply(this,[n.points[t]]));return i.join(",")},multilinestring:function(n){for(var i=[],t=0,r=n.geometries.length;r>t;++t)i.push("("+this.extract.linestring.apply(this,[n.geometries[t]])+")");return i.join(",")},polygon:function(n){var i=[],t,r;for(i.push("("+this.extract.linestring.apply(this,[n.shell])+")"),t=0,r=n.holes.length;r>t;++t)i.push("("+this.extract.linestring.apply(this,[n.holes[t]])+")");return i.join(",")},multipolygon:function(n){for(var i=[],t=0,r=n.geometries.length;r>t;++t)i.push("("+this.extract.polygon.apply(this,[n.geometries[t]])+")");return i.join(",")},geometrycollection:function(n){for(var i=[],t=0,r=n.geometries.length;r>t;++t)i.push(this.extractGeometry.apply(this,[n.geometries[t]]));return i.join(",")}};jsts.io.WKTParser.prototype.parse={point:function(n){if(void 0===n)return this.geometryFactory.createPoint(null);var t=n.trim().split(this.regExes.spaces);return this.geometryFactory.createPoint(new jsts.geom.Coordinate(t[0],t[1]))},multipoint:function(n){if(void 0===n)return this.geometryFactory.createMultiPoint(null);for(var i,r=n.trim().split(","),u=[],t=0,f=r.length;f>t;++t)i=r[t].replace(this.regExes.trimParens,"$1"),u.push(this.parse.point.apply(this,[i]));return this.geometryFactory.createMultiPoint(u)},linestring:function(n){if(void 0===n)return this.geometryFactory.createLineString(null);for(var t,r=n.trim().split(","),u=[],i=0,f=r.length;f>i;++i)t=r[i].trim().split(this.regExes.spaces),u.push(new jsts.geom.Coordinate(t[0],t[1]));return this.geometryFactory.createLineString(u)},linearring:function(n){if(void 0===n)return this.geometryFactory.createLinearRing(null);for(var t,r=n.trim().split(","),u=[],i=0,f=r.length;f>i;++i)t=r[i].trim().split(this.regExes.spaces),u.push(new jsts.geom.Coordinate(t[0],t[1]));return this.geometryFactory.createLinearRing(u)},multilinestring:function(n){if(void 0===n)return this.geometryFactory.createMultiLineString(null);for(var i,r=n.trim().split(this.regExes.parenComma),u=[],t=0,f=r.length;f>t;++t)i=r[t].replace(this.regExes.trimParens,"$1"),u.push(this.parse.linestring.apply(this,[i]));return this.geometryFactory.createMultiLineString(u)},polygon:function(n){if(void 0===n)return this.geometryFactory.createPolygon(null);for(var r,u,i,f,e=n.trim().split(this.regExes.parenComma),o=[],t=0,s=e.length;s>t;++t)r=e[t].replace(this.regExes.trimParens,"$1"),u=this.parse.linestring.apply(this,[r]),i=this.geometryFactory.createLinearRing(u.points),0===t?f=i:o.push(i);return this.geometryFactory.createPolygon(f,o)},multipolygon:function(n){if(void 0===n)return this.geometryFactory.createMultiPolygon(null);for(var i,r=n.trim().split(this.regExes.doubleParenComma),u=[],t=0,f=r.length;f>t;++t)i=r[t].replace(this.regExes.trimParens,"$1"),u.push(this.parse.polygon.apply(this,[i]));return this.geometryFactory.createMultiPolygon(u)},geometrycollection:function(n){if(void 0===n)return this.geometryFactory.createGeometryCollection(null);n=n.replace(/,\s*([A-Za-z])/g,"|$1");for(var i=n.trim().split("|"),r=[],t=0,u=i.length;u>t;++t)r.push(jsts.io.WKTParser.prototype.read.apply(this,[i[t]]));return this.geometryFactory.createGeometryCollection(r)}};jsts.index.ItemVisitor=function(){};jsts.index.ItemVisitor.prototype.visitItem=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.algorithm.CGAlgorithms=function(){};jsts.algorithm.CGAlgorithms.CLOCKWISE=-1;jsts.algorithm.CGAlgorithms.RIGHT=jsts.algorithm.CGAlgorithms.CLOCKWISE;jsts.algorithm.CGAlgorithms.COUNTERCLOCKWISE=1;jsts.algorithm.CGAlgorithms.LEFT=jsts.algorithm.CGAlgorithms.COUNTERCLOCKWISE;jsts.algorithm.CGAlgorithms.COLLINEAR=0;jsts.algorithm.CGAlgorithms.STRAIGHT=jsts.algorithm.CGAlgorithms.COLLINEAR;jsts.algorithm.CGAlgorithms.orientationIndex=function(n,t,i){var r,u,f,e;return r=t.x-n.x,u=t.y-n.y,f=i.x-t.x,e=i.y-t.y,jsts.algorithm.RobustDeterminant.signOfDet2x2(r,u,f,e)};jsts.algorithm.CGAlgorithms.isPointInRing=function(n,t){return jsts.algorithm.CGAlgorithms.locatePointInRing(n,t)!==jsts.geom.Location.EXTERIOR};jsts.algorithm.CGAlgorithms.locatePointInRing=function(n,t){return jsts.algorithm.RayCrossingCounter.locatePointInRing(n,t)};jsts.algorithm.CGAlgorithms.isOnLine=function(n,t){var r,i,u,f,e;for(r=new jsts.algorithm.RobustLineIntersector,i=1,u=t.length;u>i;i++)if(f=t[i-1],e=t[i],r.computeIntersection(n,f,e),r.hasIntersection())return!0;return!1};jsts.algorithm.CGAlgorithms.isCCW=function(n){var f,t,r,h,i,u,e,o,s,c,l;if(f=n.length-1,3>f)throw new jsts.IllegalArgumentError("Ring has fewer than 3 points, so orientation cannot be determined");for(t=n[0],r=0,s=1;f>=s;s++)h=n[s],h.y>t.y&&(t=h,r=s);i=r;do i-=1,0>i&&(i=f);while(n[i].equals2D(t)&&i!==r);u=r;do u=(u+1)%f;while(n[u].equals2D(t)&&u!==r);return e=n[i],o=n[u],e.equals2D(t)||o.equals2D(t)||e.equals2D(o)?!1:(c=jsts.algorithm.CGAlgorithms.computeOrientation(e,t,o),l=!1,l=0===c?e.x>o.x:c>0)};jsts.algorithm.CGAlgorithms.computeOrientation=function(n,t,i){return jsts.algorithm.CGAlgorithms.orientationIndex(n,t,i)};jsts.algorithm.CGAlgorithms.distancePointLine=function(n,t,i){if(t instanceof jsts.geom.Coordinate||jsts.algorithm.CGAlgorithms.distancePointLine2.apply(this,arguments),t.x===i.x&&t.y===i.y)return n.distance(t);var r,u;return r=((n.x-t.x)*(i.x-t.x)+(n.y-t.y)*(i.y-t.y))/((i.x-t.x)*(i.x-t.x)+(i.y-t.y)*(i.y-t.y)),0>=r?n.distance(t):r>=1?n.distance(i):(u=((t.y-n.y)*(i.x-t.x)-(t.x-n.x)*(i.y-t.y))/((i.x-t.x)*(i.x-t.x)+(i.y-t.y)*(i.y-t.y)),Math.abs(u)*Math.sqrt((i.x-t.x)*(i.x-t.x)+(i.y-t.y)*(i.y-t.y)))};jsts.algorithm.CGAlgorithms.distancePointLinePerpendicular=function(n,t,i){var r=((t.y-n.y)*(i.x-t.x)-(t.x-n.x)*(i.y-t.y))/((i.x-t.x)*(i.x-t.x)+(i.y-t.y)*(i.y-t.y));return Math.abs(r)*Math.sqrt((i.x-t.x)*(i.x-t.x)+(i.y-t.y)*(i.y-t.y))};jsts.algorithm.CGAlgorithms.distancePointLine2=function(n,t){var r,i,f,u;if(0===t.length)throw new jsts.error.IllegalArgumentError("Line array must contain at least one vertex");for(r=n.distance(t[0]),i=0,f=t.length-1;f>i;i++)u=jsts.algorithm.CGAlgorithms.distancePointLine(n,t[i],t[i+1]),r>u&&(r=u);return r};jsts.algorithm.CGAlgorithms.distanceLineLine=function(n,t,i,r){if(n.equals(t))return jsts.algorithm.CGAlgorithms.distancePointLine(n,i,r);if(i.equals(r))return jsts.algorithm.CGAlgorithms.distancePointLine(r,n,t);var s,u,h,f,e,o;return s=(n.y-i.y)*(r.x-i.x)-(n.x-i.x)*(r.y-i.y),u=(t.x-n.x)*(r.y-i.y)-(t.y-n.y)*(r.x-i.x),h=(n.y-i.y)*(t.x-n.x)-(n.x-i.x)*(t.y-n.y),f=(t.x-n.x)*(r.y-i.y)-(t.y-n.y)*(r.x-i.x),0===u||0===f?Math.min(jsts.algorithm.CGAlgorithms.distancePointLine(n,i,r),Math.min(jsts.algorithm.CGAlgorithms.distancePointLine(t,i,r),Math.min(jsts.algorithm.CGAlgorithms.distancePointLine(i,n,t),jsts.algorithm.CGAlgorithms.distancePointLine(r,n,t)))):(e=h/f,o=s/u,0>o||o>1||0>e||e>1?Math.min(jsts.algorithm.CGAlgorithms.distancePointLine(n,i,r),Math.min(jsts.algorithm.CGAlgorithms.distancePointLine(t,i,r),Math.min(jsts.algorithm.CGAlgorithms.distancePointLine(i,n,t),jsts.algorithm.CGAlgorithms.distancePointLine(r,n,t)))):0)};jsts.algorithm.CGAlgorithms.signedArea=function(n){if(n.length<3)return 0;var i,t,r,u,f,e,o;for(i=0,t=0,r=n.length-1;r>t;t++)u=n[t].x,f=n[t].y,e=n[t+1].x,o=n[t+1].y,i+=(u+e)*(o-f);return-i/2};jsts.algorithm.CGAlgorithms.signedArea=function(n){var r,u,t,f,e,i,o,s;if(r=n.length,3>r)return 0;for(u=0,t=n[0],f=t.x,e=t.y,i=1;r>i;i++)t=n[i],o=t.x,s=t.y,u+=(f+o)*(s-e),f=o,e=s;return-u/2};jsts.algorithm.CGAlgorithms.computeLength=function(n){var r,u,f,e,o,s,h,t,i,l,c=n.length;if(1>=c)return 0;for(r=0,t=n[0],u=t.x,f=t.y,i=1,l=c,i;c>i;i++)t=n[i],e=t.x,o=t.y,s=e-u,h=o-f,r+=Math.sqrt(s*s+h*h),u=e,f=o;return r};jsts.algorithm.CGAlgorithms.length=function(){};jsts.algorithm.Angle=function(){};jsts.algorithm.Angle.PI_TIMES_2=2*Math.PI;jsts.algorithm.Angle.PI_OVER_2=Math.PI/2;jsts.algorithm.Angle.PI_OVER_4=Math.PI/4;jsts.algorithm.Angle.COUNTERCLOCKWISE=jsts.algorithm.CGAlgorithms.COUNTERCLOCKWISE;jsts.algorithm.Angle.CLOCKWISE=jsts.algorithm.CGAlgorithms.CLOCKWISE;jsts.algorithm.Angle.NONE=jsts.algorithm.CGAlgorithms.COLLINEAR;jsts.algorithm.Angle.toDegrees=function(n){return 180*n/Math.PI};jsts.algorithm.Angle.toRadians=function(n){return n*Math.PI/180};jsts.algorithm.Angle.angle=function(){return 1===arguments.length?jsts.algorithm.Angle.angleFromOrigo(arguments[0]):jsts.algorithm.Angle.angleBetweenCoords(arguments[0],arguments[1])};jsts.algorithm.Angle.angleBetweenCoords=function(n,t){var i,r;return i=t.x-n.x,r=t.y-n.y,Math.atan2(r,i)};jsts.algorithm.Angle.angleFromOrigo=function(n){return Math.atan2(n.y,n.x)};jsts.algorithm.Angle.isAcute=function(n,t,i){var r,u,f,e,o;return r=n.x-t.x,u=n.y-t.y,f=i.x-t.x,e=i.y-t.y,o=r*f+u*e,o>0};jsts.algorithm.Angle.isObtuse=function(n,t,i){var r,u,f,e,o;return r=n.x-t.x,u=n.y-t.y,f=i.x-t.x,e=i.y-t.y,o=r*f+u*e,0>o};jsts.algorithm.Angle.angleBetween=function(n,t,i){var r,u;return r=jsts.algorithm.Angle.angle(t,n),u=jsts.algorithm.Angle.angle(t,i),jsts.algorithm.Angle.diff(r,u)};jsts.algorithm.Angle.angleBetweenOriented=function(n,t,i){var u,f,r;return u=jsts.algorithm.Angle.angle(t,n),f=jsts.algorithm.Angle.angle(t,i),r=f-u,r<=-Math.PI?r+jsts.algorithm.Angle.PI_TIMES_2:r>Math.PI?r-jsts.algorithm.Angle.PI_TIMES_2:r};jsts.algorithm.Angle.interiorAngle=function(n,t,i){var r,u;return r=jsts.algorithm.Angle.angle(t,n),u=jsts.algorithm.Angle.angle(t,i),Math.abs(u-r)};jsts.algorithm.Angle.getTurn=function(n,t){var i=Math.sin(t-n);return i>0?jsts.algorithm.Angle.COUNTERCLOCKWISE:0>i?jsts.algorithm.Angle.CLOCKWISE:jsts.algorithm.Angle.NONE};jsts.algorithm.Angle.normalize=function(n){for(;n>Math.PI;)n-=jsts.algorithm.Angle.PI_TIMES_2;for(;n<=-Math.PI;)n+=jsts.algorithm.Angle.PI_TIMES_2;return n};jsts.algorithm.Angle.normalizePositive=function(n){if(0>n){for(;0>n;)n+=jsts.algorithm.Angle.PI_TIMES_2;n>=jsts.algorithm.Angle.PI_TIMES_2&&(n=0)}else{for(;n>=jsts.algorithm.Angle.PI_TIMES_2;)n-=jsts.algorithm.Angle.PI_TIMES_2;0>n&&(n=0)}return n};jsts.algorithm.Angle.diff=function(n,t){var i;return i=t>n?t-n:n-t,i>Math.PI&&(i=2*Math.PI-i),i};jsts.geom.GeometryComponentFilter=function(){};jsts.geom.GeometryComponentFilter.prototype.filter=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.geom.util.LinearComponentExtracter=function(n,t){this.lines=n;this.isForcedToLineString=t};jsts.geom.util.LinearComponentExtracter.prototype=new jsts.geom.GeometryComponentFilter;jsts.geom.util.LinearComponentExtracter.prototype.lines=null;jsts.geom.util.LinearComponentExtracter.prototype.isForcedToLineString=!1;jsts.geom.util.LinearComponentExtracter.getLines=function(n,t){var i,r;if(1==arguments.length)return jsts.geom.util.LinearComponentExtracter.getLines5.apply(this,arguments);if(2==arguments.length&&"boolean"==typeof t)return jsts.geom.util.LinearComponentExtracter.getLines6.apply(this,arguments);if(2==arguments.length&&n instanceof jsts.geom.Geometry)return jsts.geom.util.LinearComponentExtracter.getLines3.apply(this,arguments);if(3==arguments.length&&n instanceof jsts.geom.Geometry)return jsts.geom.util.LinearComponentExtracter.getLines4.apply(this,arguments);if(3==arguments.length)return jsts.geom.util.LinearComponentExtracter.getLines2.apply(this,arguments);for(i=0;i<n.length;i++)r=n[i],jsts.geom.util.LinearComponentExtracter.getLines3(r,t);return t};jsts.geom.util.LinearComponentExtracter.getLines2=function(n,t,i){for(var u,r=0;r<n.length;r++)u=n[r],jsts.geom.util.LinearComponentExtracter.getLines4(u,t,i);return t};jsts.geom.util.LinearComponentExtracter.getLines3=function(n,t){return n instanceof LineString?t.add(n):n.apply(new jsts.geom.util.LinearComponentExtracter(t)),t};jsts.geom.util.LinearComponentExtracter.getLines4=function(n,t,i){return n.apply(new jsts.geom.util.LinearComponentExtracter(t,i)),t};jsts.geom.util.LinearComponentExtracter.getLines5=function(n){return jsts.geom.util.LinearComponentExtracter.getLines6(n,!1)};jsts.geom.util.LinearComponentExtracter.getLines6=function(n,t){var i=[];return n.apply(new jsts.geom.util.LinearComponentExtracter(i,t)),i};jsts.geom.util.LinearComponentExtracter.prototype.setForceToLineString=function(n){this.isForcedToLineString=n};jsts.geom.util.LinearComponentExtracter.prototype.filter=function(n){if(this.isForcedToLineString&&n instanceof jsts.geom.LinearRing){var t=n.getFactory().createLineString(n.getCoordinateSequence());return void this.lines.push(t)}(n instanceof jsts.geom.LineString||n instanceof jsts.geom.LinearRing)&&this.lines.push(n)};jsts.geom.Location=function(){};jsts.geom.Location.INTERIOR=0;jsts.geom.Location.BOUNDARY=1;jsts.geom.Location.EXTERIOR=2;jsts.geom.Location.NONE=-1;jsts.geom.Location.toLocationSymbol=function(n){switch(n){case jsts.geom.Location.EXTERIOR:return"e";case jsts.geom.Location.BOUNDARY:return"b";case jsts.geom.Location.INTERIOR:return"i";case jsts.geom.Location.NONE:return"-"}throw new jsts.IllegalArgumentError("Unknown location value: "+n);},function(){jsts.io.GeoJSONReader=function(n){this.geometryFactory=n||new jsts.geom.GeometryFactory;this.precisionModel=this.geometryFactory.getPrecisionModel();this.parser=new jsts.io.GeoJSONParser(this.geometryFactory)};jsts.io.GeoJSONReader.prototype.read=function(n){var t=this.parser.read(n);return this.precisionModel.getType()===jsts.geom.PrecisionModel.FIXED&&this.reducePrecision(t),t};jsts.io.GeoJSONReader.prototype.reducePrecision=function(n){var t,i;if(n.coordinate)this.precisionModel.makePrecise(n.coordinate);else if(n.points)for(t=0,i=n.points.length;i>t;t++)this.precisionModel.makePrecise(n.points[t]);else if(n.geometries)for(t=0,i=n.geometries.length;i>t;t++)this.reducePrecision(n.geometries[t])}}();jsts.geom.Geometry=function(n){this.factory=n};jsts.geom.Geometry.prototype.envelope=null;jsts.geom.Geometry.prototype.factory=null;jsts.geom.Geometry.prototype.getGeometryType=function(){return"Geometry"};jsts.geom.Geometry.hasNonEmptyElements=function(n){for(var t=0;t<n.length;t++)if(!n[t].isEmpty())return!0;return!1};jsts.geom.Geometry.hasNullElements=function(n){for(var t=0;t<n.length;t++)if(null===n[t])return!0;return!1};jsts.geom.Geometry.prototype.getFactory=function(){return(null===this.factory||void 0===this.factory)&&(this.factory=new jsts.geom.GeometryFactory),this.factory};jsts.geom.Geometry.prototype.getNumGeometries=function(){return 1};jsts.geom.Geometry.prototype.getGeometryN=function(){return this};jsts.geom.Geometry.prototype.getPrecisionModel=function(){return this.getFactory().getPrecisionModel()};jsts.geom.Geometry.prototype.getCoordinate=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.geom.Geometry.prototype.getCoordinates=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.geom.Geometry.prototype.getNumPoints=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.geom.Geometry.prototype.isSimple=function(){this.checkNotGeometryCollection(this);var n=new jsts.operation.IsSimpleOp(this);return n.isSimple()};jsts.geom.Geometry.prototype.isValid=function(){var n=new jsts.operation.valid.IsValidOp(this);return n.isValid()};jsts.geom.Geometry.prototype.isEmpty=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.geom.Geometry.prototype.distance=function(n){return jsts.operation.distance.DistanceOp.distance(this,n)};jsts.geom.Geometry.prototype.isWithinDistance=function(n,t){var i=this.getEnvelopeInternal().distance(n.getEnvelopeInternal());return i>t?!1:DistanceOp.isWithinDistance(this,n,t)};jsts.geom.Geometry.prototype.isRectangle=function(){return!1};jsts.geom.Geometry.prototype.getArea=function(){return 0};jsts.geom.Geometry.prototype.getLength=function(){return 0};jsts.geom.Geometry.prototype.getCentroid=function(){if(this.isEmpty())return null;var n,t=null,i=this.getDimension();return 0===i?(n=new jsts.algorithm.CentroidPoint,n.add(this),t=n.getCentroid()):1===i?(n=new jsts.algorithm.CentroidLine,n.add(this),t=n.getCentroid()):(n=new jsts.algorithm.CentroidArea,n.add(this),t=n.getCentroid()),this.createPointFromInternalCoord(t,this)};jsts.geom.Geometry.prototype.getInteriorPoint=function(){var n,t=null,i=this.getDimension();return 0===i?(n=new jsts.algorithm.InteriorPointPoint(this),t=n.getInteriorPoint()):1===i?(n=new jsts.algorithm.InteriorPointLine(this),t=n.getInteriorPoint()):(n=new jsts.algorithm.InteriorPointArea(this),t=n.getInteriorPoint()),this.createPointFromInternalCoord(t,this)};jsts.geom.Geometry.prototype.getDimension=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.geom.Geometry.prototype.getBoundary=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.geom.Geometry.prototype.getBoundaryDimension=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.geom.Geometry.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())};jsts.geom.Geometry.prototype.getEnvelopeInternal=function(){return null===this.envelope&&(this.envelope=this.computeEnvelopeInternal()),this.envelope};jsts.geom.Geometry.prototype.disjoint=function(n){return!this.intersects(n)};jsts.geom.Geometry.prototype.touches=function(n){return this.getEnvelopeInternal().intersects(n.getEnvelopeInternal())?this.relate(n).isTouches(this.getDimension(),n.getDimension()):!1};jsts.geom.Geometry.prototype.intersects=function(n){return this.getEnvelopeInternal().intersects(n.getEnvelopeInternal())?this.isRectangle()?jsts.operation.predicate.RectangleIntersects.intersects(this,n):n.isRectangle()?jsts.operation.predicate.RectangleIntersects.intersects(n,this):this.relate(n).isIntersects():!1};jsts.geom.Geometry.prototype.crosses=function(n){return this.getEnvelopeInternal().intersects(n.getEnvelopeInternal())?this.relate(n).isCrosses(this.getDimension(),n.getDimension()):!1};jsts.geom.Geometry.prototype.within=function(n){return n.contains(this)};jsts.geom.Geometry.prototype.contains=function(n){return this.getEnvelopeInternal().contains(n.getEnvelopeInternal())?this.isRectangle()?jsts.operation.predicate.RectangleContains.contains(this,n):this.relate(n).isContains():!1};jsts.geom.Geometry.prototype.overlaps=function(n){return this.getEnvelopeInternal().intersects(n.getEnvelopeInternal())?this.relate(n).isOverlaps(this.getDimension(),n.getDimension()):!1};jsts.geom.Geometry.prototype.covers=function(n){return this.getEnvelopeInternal().covers(n.getEnvelopeInternal())?this.isRectangle()?!0:this.relate(n).isCovers():!1};jsts.geom.Geometry.prototype.coveredBy=function(n){return n.covers(this)};jsts.geom.Geometry.prototype.relate=function(n,t){return 1===arguments.length?this.relate2.apply(this,arguments):this.relate2(n).matches(t)};jsts.geom.Geometry.prototype.relate2=function(n){return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(n),jsts.operation.relate.RelateOp.relate(this,n)};jsts.geom.Geometry.prototype.equalsTopo=function(n){return this.getEnvelopeInternal().equals(n.getEnvelopeInternal())?this.relate(n).isEquals(this.getDimension(),n.getDimension()):!1};jsts.geom.Geometry.prototype.equals=function(n){return n instanceof jsts.geom.Geometry||n instanceof jsts.geom.LinearRing||n instanceof jsts.geom.Polygon||n instanceof jsts.geom.GeometryCollection||n instanceof jsts.geom.MultiPoint||n instanceof jsts.geom.MultiLineString||n instanceof jsts.geom.MultiPolygon?this.equalsExact(n):!1};jsts.geom.Geometry.prototype.buffer=function(n,t,i){var r=new jsts.operation.buffer.BufferParameters(t,i);return jsts.operation.buffer.BufferOp.bufferOp2(this,n,r)};jsts.geom.Geometry.prototype.convexHull=function(){return new jsts.algorithm.ConvexHull(this).getConvexHull()};jsts.geom.Geometry.prototype.intersection=function(n){return this.isEmpty()?this.getFactory().createGeometryCollection(null):n.isEmpty()?this.getFactory().createGeometryCollection(null):(this.isGeometryCollection(this),this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(n),jsts.operation.overlay.snap.SnapIfNeededOverlayOp.overlayOp(this,n,jsts.operation.overlay.OverlayOp.INTERSECTION))};jsts.geom.Geometry.prototype.union=function(n){return 0===arguments.length?jsts.operation.union.UnaryUnionOp.union(this):this.isEmpty()?n.clone():n.isEmpty()?this.clone():(this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(n),jsts.operation.overlay.snap.SnapIfNeededOverlayOp.overlayOp(this,n,jsts.operation.overlay.OverlayOp.UNION))};jsts.geom.Geometry.prototype.difference=function(n){return this.isEmpty()?this.getFactory().createGeometryCollection(null):n.isEmpty()?this.clone():(this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(n),jsts.operation.overlay.snap.SnapIfNeededOverlayOp.overlayOp(this,n,jsts.operation.overlay.OverlayOp.DIFFERENCE))};jsts.geom.Geometry.prototype.symDifference=function(n){return this.isEmpty()?n.clone():n.isEmpty()?this.clone():(this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(n),jsts.operation.overlay.snap.SnapIfNeededOverlayOp.overlayOp(this,n,jsts.operation.overlay.OverlayOp.SYMDIFFERENCE))};jsts.geom.Geometry.prototype.equalsExact=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.geom.Geometry.prototype.equalsNorm=function(n){return null===n||void 0===n?!1:this.norm().equalsExact(n.norm())};jsts.geom.Geometry.prototype.apply=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.geom.Geometry.prototype.clone=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.geom.Geometry.prototype.normalize=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.geom.Geometry.prototype.norm=function(){var n=this.clone();return n.normalize(),n};jsts.geom.Geometry.prototype.compareTo=function(n){var t=n;return this.getClassSortIndex()!==t.getClassSortIndex()?this.getClassSortIndex()-t.getClassSortIndex():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(n)};jsts.geom.Geometry.prototype.isEquivalentClass=function(n){return this instanceof jsts.geom.Point&&n instanceof jsts.geom.Point?!0:this instanceof jsts.geom.LineString&&n instanceof jsts.geom.LineString|n instanceof jsts.geom.LinearRing?!0:this instanceof jsts.geom.LinearRing&&n instanceof jsts.geom.LineString|n instanceof jsts.geom.LinearRing?!0:this instanceof jsts.geom.Polygon&&n instanceof jsts.geom.Polygon?!0:this instanceof jsts.geom.MultiPoint&&n instanceof jsts.geom.MultiPoint?!0:this instanceof jsts.geom.MultiLineString&&n instanceof jsts.geom.MultiLineString?!0:this instanceof jsts.geom.MultiPolygon&&n instanceof jsts.geom.MultiPolygon?!0:this instanceof jsts.geom.GeometryCollection&&n instanceof jsts.geom.GeometryCollection?!0:!1};jsts.geom.Geometry.prototype.checkNotGeometryCollection=function(n){if(n.isGeometryCollectionBase())throw new jsts.error.IllegalArgumentError("This method does not support GeometryCollection");};jsts.geom.Geometry.prototype.isGeometryCollection=function(){return this instanceof jsts.geom.GeometryCollection};jsts.geom.Geometry.prototype.isGeometryCollectionBase=function(){return"jsts.geom.GeometryCollection"===this.CLASS_NAME};jsts.geom.Geometry.prototype.computeEnvelopeInternal=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.geom.Geometry.prototype.compareToSameClass=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.geom.Geometry.prototype.compare=function(n,t){for(var i=n.iterator(),r=t.iterator();i.hasNext()&&r.hasNext();){var f=i.next(),e=r.next(),u=f.compareTo(e);if(0!==u)return u}return i.hasNext()?1:r.hasNext()?-1:0};jsts.geom.Geometry.prototype.equal=function(n,t,i){return void 0===i||null===i||0===i?n.equals(t):n.distance(t)<=i};jsts.geom.Geometry.prototype.getClassSortIndex=function(){for(var t=[jsts.geom.Point,jsts.geom.MultiPoint,jsts.geom.LineString,jsts.geom.LinearRing,jsts.geom.MultiLineString,jsts.geom.Polygon,jsts.geom.MultiPolygon,jsts.geom.GeometryCollection],n=0;n<t.length;n++)if(this instanceof t[n])return n;return jsts.util.Assert.shouldNeverReachHere("Class not supported: "+this),-1};jsts.geom.Geometry.prototype.toString=function(){return(new jsts.io.WKTWriter).write(this)};jsts.geom.Geometry.prototype.createPointFromInternalCoord=function(n,t){return t.getPrecisionModel().makePrecise(n),t.getFactory().createPoint(n)},function(){jsts.geom.Coordinate=function(n,t){"number"==typeof n?(this.x=n,this.y=t):n instanceof jsts.geom.Coordinate?(this.x=parseFloat(n.x),this.y=parseFloat(n.y)):void 0===n||null===n?(this.x=0,this.y=0):"string"==typeof n&&(this.x=parseFloat(n),this.y=parseFloat(t))};jsts.geom.Coordinate.prototype.setCoordinate=function(n){this.x=n.x;this.y=n.y};jsts.geom.Coordinate.prototype.clone=function(){return new jsts.geom.Coordinate(this.x,this.y)};jsts.geom.Coordinate.prototype.distance=function(n){var t=this.x-n.x,i=this.y-n.y;return Math.sqrt(t*t+i*i)};jsts.geom.Coordinate.prototype.equals2D=function(n){return this.x!==n.x?!1:this.y!==n.y?!1:!0};jsts.geom.Coordinate.prototype.equals=function(n){return!n instanceof jsts.geom.Coordinate||void 0===n?!1:this.equals2D(n)};jsts.geom.Coordinate.prototype.compareTo=function(n){return this.x<n.x?-1:this.x>n.x?1:this.y<n.y?-1:this.y>n.y?1:0};jsts.geom.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"}}();jsts.geom.Envelope=function(){jsts.geom.Envelope.prototype.init.apply(this,arguments)};jsts.geom.Envelope.prototype.minx=null;jsts.geom.Envelope.prototype.maxx=null;jsts.geom.Envelope.prototype.miny=null;jsts.geom.Envelope.prototype.maxy=null;jsts.geom.Envelope.prototype.init=function(){"number"==typeof arguments[0]&&4===arguments.length?this.initFromValues(arguments[0],arguments[1],arguments[2],arguments[3]):arguments[0]instanceof jsts.geom.Coordinate&&1===arguments.length?this.initFromCoordinate(arguments[0]):arguments[0]instanceof jsts.geom.Coordinate&&2===arguments.length?this.initFromCoordinates(arguments[0],arguments[1]):arguments[0]instanceof jsts.geom.Envelope&&1===arguments.length?this.initFromEnvelope(arguments[0]):this.setToNull()};jsts.geom.Envelope.prototype.initFromValues=function(n,t,i,r){t>n?(this.minx=n,this.maxx=t):(this.minx=t,this.maxx=n);r>i?(this.miny=i,this.maxy=r):(this.miny=r,this.maxy=i)};jsts.geom.Envelope.prototype.initFromCoordinates=function(n,t){this.initFromValues(n.x,t.x,n.y,t.y)};jsts.geom.Envelope.prototype.initFromCoordinate=function(n){this.initFromValues(n.x,n.x,n.y,n.y)};jsts.geom.Envelope.prototype.initFromEnvelope=function(n){this.minx=n.minx;this.maxx=n.maxx;this.miny=n.miny;this.maxy=n.maxy};jsts.geom.Envelope.prototype.setToNull=function(){this.minx=0;this.maxx=-1;this.miny=0;this.maxy=-1};jsts.geom.Envelope.prototype.isNull=function(){return this.maxx<this.minx};jsts.geom.Envelope.prototype.getHeight=function(){return this.isNull()?0:this.maxy-this.miny};jsts.geom.Envelope.prototype.getWidth=function(){return this.isNull()?0:this.maxx-this.minx};jsts.geom.Envelope.prototype.getMinX=function(){return this.minx};jsts.geom.Envelope.prototype.getMaxX=function(){return this.maxx};jsts.geom.Envelope.prototype.getMinY=function(){return this.miny};jsts.geom.Envelope.prototype.getMaxY=function(){return this.maxy};jsts.geom.Envelope.prototype.getArea=function(){return this.getWidth()*this.getHeight()};jsts.geom.Envelope.prototype.expandToInclude=function(){arguments[0]instanceof jsts.geom.Coordinate?this.expandToIncludeCoordinate(arguments[0]):arguments[0]instanceof jsts.geom.Envelope?this.expandToIncludeEnvelope(arguments[0]):this.expandToIncludeValues(arguments[0],arguments[1])};jsts.geom.Envelope.prototype.expandToIncludeCoordinate=function(n){this.expandToIncludeValues(n.x,n.y)};jsts.geom.Envelope.prototype.expandToIncludeValues=function(n,t){this.isNull()?(this.minx=n,this.maxx=n,this.miny=t,this.maxy=t):(n<this.minx&&(this.minx=n),n>this.maxx&&(this.maxx=n),t<this.miny&&(this.miny=t),t>this.maxy&&(this.maxy=t))};jsts.geom.Envelope.prototype.expandToIncludeEnvelope=function(n){n.isNull()||(this.isNull()?(this.minx=n.getMinX(),this.maxx=n.getMaxX(),this.miny=n.getMinY(),this.maxy=n.getMaxY()):(n.minx<this.minx&&(this.minx=n.minx),n.maxx>this.maxx&&(this.maxx=n.maxx),n.miny<this.miny&&(this.miny=n.miny),n.maxy>this.maxy&&(this.maxy=n.maxy)))};jsts.geom.Envelope.prototype.expandBy=function(){1===arguments.length?this.expandByDistance(arguments[0]):this.expandByDistances(arguments[0],arguments[1])};jsts.geom.Envelope.prototype.expandByDistance=function(n){this.expandByDistances(n,n)};jsts.geom.Envelope.prototype.expandByDistances=function(n,t){this.isNull()||(this.minx-=n,this.maxx+=n,this.miny-=t,this.maxy+=t,(this.minx>this.maxx||this.miny>this.maxy)&&this.setToNull())};jsts.geom.Envelope.prototype.translate=function(n,t){this.isNull()||this.init(this.minx+n,this.maxx+n,this.miny+t,this.maxy+t)};jsts.geom.Envelope.prototype.centre=function(){return this.isNull()?null:new jsts.geom.Coordinate((this.minx+this.maxx)/2,(this.miny+this.maxy)/2)};jsts.geom.Envelope.prototype.intersection=function(n){if(this.isNull()||n.isNull()||!this.intersects(n))return new jsts.geom.Envelope;var t=this.minx>n.minx?this.minx:n.minx,i=this.miny>n.miny?this.miny:n.miny,r=this.maxx<n.maxx?this.maxx:n.maxx,u=this.maxy<n.maxy?this.maxy:n.maxy;return new jsts.geom.Envelope(t,r,i,u)};jsts.geom.Envelope.prototype.intersects=function(){return arguments[0]instanceof jsts.geom.Envelope?this.intersectsEnvelope(arguments[0]):arguments[0]instanceof jsts.geom.Coordinate?this.intersectsCoordinate(arguments[0]):this.intersectsValues(arguments[0],arguments[1])};jsts.geom.Envelope.prototype.intersectsEnvelope=function(n){if(this.isNull()||n.isNull())return!1;return!(n.minx>this.maxx||n.maxx<this.minx||n.miny>this.maxy||n.maxy<this.miny)};jsts.geom.Envelope.prototype.intersectsCoordinate=function(n){return this.intersectsValues(n.x,n.y)};jsts.geom.Envelope.prototype.intersectsValues=function(n,t){return this.isNull()?!1:!(n>this.maxx||n<this.minx||t>this.maxy||t<this.miny)};jsts.geom.Envelope.prototype.contains=function(){return arguments[0]instanceof jsts.geom.Envelope?this.containsEnvelope(arguments[0]):arguments[0]instanceof jsts.geom.Coordinate?this.containsCoordinate(arguments[0]):this.containsValues(arguments[0],arguments[1])};jsts.geom.Envelope.prototype.containsEnvelope=function(n){return this.coversEnvelope(n)};jsts.geom.Envelope.prototype.containsCoordinate=function(n){return this.coversCoordinate(n)};jsts.geom.Envelope.prototype.containsValues=function(n,t){return this.coversValues(n,t)};jsts.geom.Envelope.prototype.covers=function(){return arguments[0]instanceof jsts.geom.Envelope?this.coversEnvelope(arguments[0]):arguments[0]instanceof jsts.geom.Coordinate?this.coversCoordinate(arguments[0]):this.coversValues(arguments[0],arguments[1])};jsts.geom.Envelope.prototype.coversValues=function(n,t){return this.isNull()?!1:n>=this.minx&&n<=this.maxx&&t>=this.miny&&t<=this.maxy};jsts.geom.Envelope.prototype.coversCoordinate=function(n){return this.coversValues(n.x,n.y)};jsts.geom.Envelope.prototype.coversEnvelope=function(n){return this.isNull()||n.isNull()?!1:n.minx>=this.minx&&n.maxx<=this.maxx&&n.miny>=this.miny&&n.maxy<=this.maxy};jsts.geom.Envelope.prototype.distance=function(n){var t,i;return this.intersects(n)?0:(t=0,this.maxx<n.minx&&(t=n.minx-this.maxx),this.minx>n.maxx&&(t=this.minx-n.maxx),i=0,this.maxy<n.miny&&(i=n.miny-this.maxy),this.miny>n.maxy&&(i=this.miny-n.maxy),0===t?i:0===i?t:Math.sqrt(t*t+i*i))};jsts.geom.Envelope.prototype.equals=function(n){return this.isNull()?n.isNull():this.maxx===n.maxx&&this.maxy===n.maxy&&this.minx===n.minx&&this.miny===n.miny};jsts.geom.Envelope.prototype.toString=function(){return"Env["+this.minx+" : "+this.maxx+", "+this.miny+" : "+this.maxy+"]"};jsts.geom.Envelope.intersects=function(n,t,i){if(4===arguments.length)return jsts.geom.Envelope.intersectsEnvelope(arguments[0],arguments[1],arguments[2],arguments[3]);var r=n.x<t.x?n.x:t.x,u=n.x>t.x?n.x:t.x,f=n.y<t.y?n.y:t.y,e=n.y>t.y?n.y:t.y;return i.x>=r&&i.x<=u&&i.y>=f&&i.y<=e?!0:!1};jsts.geom.Envelope.intersectsEnvelope=function(n,t,i,r){var u=Math.min(i.x,r.x),f=Math.max(i.x,r.x),e=Math.min(n.x,t.x),o=Math.max(n.x,t.x);return e>f?!1:u>o?!1:(u=Math.min(i.y,r.y),f=Math.max(i.y,r.y),e=Math.min(n.y,t.y),o=Math.max(n.y,t.y),e>f?!1:u>o?!1:!0)};jsts.geom.Envelope.prototype.clone=function(){return new jsts.geom.Envelope(this.minx,this.maxx,this.miny,this.maxy)};jsts.geom.util.GeometryCombiner=function(n){this.geomFactory=jsts.geom.util.GeometryCombiner.extractFactory(n);this.inputGeoms=n};jsts.geom.util.GeometryCombiner.combine=function(n){if(arguments.length>1)return this.combine2.apply(this,arguments);var t=new jsts.geom.util.GeometryCombiner(n);return t.combine()};jsts.geom.util.GeometryCombiner.combine2=function(){var n=new javascript.util.ArrayList,t;return Array.prototype.slice.call(arguments).forEach(function(t){n.add(t)}),t=new jsts.geom.util.GeometryCombiner(n),t.combine()};jsts.geom.util.GeometryCombiner.prototype.geomFactory=null;jsts.geom.util.GeometryCombiner.prototype.skipEmpty=!1;jsts.geom.util.GeometryCombiner.prototype.inputGeoms;jsts.geom.util.GeometryCombiner.extractFactory=function(n){return n.isEmpty()?null:n.iterator().next().getFactory()};jsts.geom.util.GeometryCombiner.prototype.combine=function(){for(var t=new javascript.util.ArrayList,i,n=this.inputGeoms.iterator();n.hasNext();)i=n.next(),this.extractElements(i,t);return 0===t.size()?null!==this.geomFactory?this.geomFactory.createGeometryCollection(null):null:this.geomFactory.buildGeometry(t)};jsts.geom.util.GeometryCombiner.prototype.extractElements=function(n,t){var i,r;if(null!==n)for(i=0;i<n.getNumGeometries();i++)r=n.getGeometryN(i),this.skipEmpty&&r.isEmpty()||t.add(r)};jsts.geom.PrecisionModel=function(n){return"number"==typeof n?(this.modelType=jsts.geom.PrecisionModel.FIXED,void(this.scale=n)):(this.modelType=n||jsts.geom.PrecisionModel.FLOATING,void(this.modelType===jsts.geom.PrecisionModel.FIXED&&(this.scale=1)))};jsts.geom.PrecisionModel.FLOATING="FLOATING";jsts.geom.PrecisionModel.FIXED="FIXED";jsts.geom.PrecisionModel.FLOATING_SINGLE="FLOATING_SINGLE";jsts.geom.PrecisionModel.prototype.scale=null;jsts.geom.PrecisionModel.prototype.modelType=null;jsts.geom.PrecisionModel.prototype.isFloating=function(){return this.modelType===jsts.geom.PrecisionModel.FLOATING||this.modelType===jsts.geom.PrecisionModel.FLOATING_SINLGE};jsts.geom.PrecisionModel.prototype.getScale=function(){return this.scale};jsts.geom.PrecisionModel.prototype.getType=function(){return this.modelType};jsts.geom.PrecisionModel.prototype.equals=function(){return!0};jsts.geom.PrecisionModel.prototype.makePrecise=function(n){return n instanceof jsts.geom.Coordinate?void this.makePrecise2(n):isNaN(n)?n:this.modelType===jsts.geom.PrecisionModel.FIXED?Math.round(n*this.scale)/this.scale:n};jsts.geom.PrecisionModel.prototype.makePrecise2=function(n){this.modelType!==jsts.geom.PrecisionModel.FLOATING&&(n.x=this.makePrecise(n.x),n.y=this.makePrecise(n.y))};jsts.geom.PrecisionModel.prototype.compareTo=function(){return 0};jsts.geom.CoordinateFilter=function(){};jsts.geom.CoordinateFilter.prototype.filter=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.simplify.DouglasPeuckerLineSimplifier=function(n){this.pts=n;this.seg=new jsts.geom.LineSegment};jsts.simplify.DouglasPeuckerLineSimplifier.prototype.pts=null;jsts.simplify.DouglasPeuckerLineSimplifier.prototype.usePt=null;jsts.simplify.DouglasPeuckerLineSimplifier.prototype.distanceTolerance=null;jsts.simplify.DouglasPeuckerLineSimplifier.simplify=function(n,t){var i=new jsts.simplify.DouglasPeuckerLineSimplifier(n);return i.setDistanceTolerance(t),i.simplify()};jsts.simplify.DouglasPeuckerLineSimplifier.prototype.setDistanceTolerance=function(n){this.distanceTolerance=n};jsts.simplify.DouglasPeuckerLineSimplifier.prototype.simplify=function(){var t,i,n;for(this.usePt=[],t=0;t<this.pts.length;t++)this.usePt[t]=!0;for(this.simplifySection(0,this.pts.length-1),i=new jsts.geom.CoordinateList,n=0;n<this.pts.length;n++)this.usePt[n]&&i.add(new jsts.geom.Coordinate(this.pts[n]));return i.toCoordinateArray()};jsts.simplify.DouglasPeuckerLineSimplifier.prototype.seg=null;jsts.simplify.DouglasPeuckerLineSimplifier.prototype.simplifySection=function(n,t){var e,r;if(n+1!=t){this.seg.p0=this.pts[n];this.seg.p1=this.pts[t];for(var u=-1,f=n,i=n+1;t>i;i++)e=this.seg.distance(this.pts[i]),e>u&&(u=e,f=i);if(u<=this.distanceTolerance)for(r=n+1;t>r;r++)this.usePt[r]=!1;else this.simplifySection(n,f),this.simplifySection(f,t)}};jsts.geomgraph.EdgeIntersection=function(n,t,i){this.coord=new jsts.geom.Coordinate(n);this.segmentIndex=t;this.dist=i};jsts.geomgraph.EdgeIntersection.prototype.coord=null;jsts.geomgraph.EdgeIntersection.prototype.segmentIndex=null;jsts.geomgraph.EdgeIntersection.prototype.dist=null;jsts.geomgraph.EdgeIntersection.prototype.getCoordinate=function(){return this.coord};jsts.geomgraph.EdgeIntersection.prototype.getSegmentIndex=function(){return this.segmentIndex};jsts.geomgraph.EdgeIntersection.prototype.getDistance=function(){return this.dist};jsts.geomgraph.EdgeIntersection.prototype.compareTo=function(n){return this.compare(n.segmentIndex,n.dist)};jsts.geomgraph.EdgeIntersection.prototype.compare=function(n,t){return this.segmentIndex<n?-1:this.segmentIndex>n?1:this.dist<t?-1:this.dist>t?1:0};jsts.geomgraph.EdgeIntersection.prototype.isEndPoint=function(n){return 0===this.segmentIndex&&0===this.dist?!0:this.segmentIndex===n?!0:!1};jsts.geomgraph.EdgeIntersection.prototype.toString=function(){return""+this.segmentIndex+this.dist},function(){var n=jsts.geomgraph.EdgeIntersection,t=javascript.util.TreeMap;jsts.geomgraph.EdgeIntersectionList=function(n){this.nodeMap=new t;this.edge=n};jsts.geomgraph.EdgeIntersectionList.prototype.nodeMap=null;jsts.geomgraph.EdgeIntersectionList.prototype.edge=null;jsts.geomgraph.EdgeIntersectionList.prototype.isIntersection=function(n){for(var i,t=this.iterator();t.hasNext();)if(i=t.next(),i.coord.equals(n))return!0;return!1};jsts.geomgraph.EdgeIntersectionList.prototype.add=function(t,i,r){var u=new n(t,i,r),f=this.nodeMap.get(u);return null!==f?f:(this.nodeMap.put(u,u),u)};jsts.geomgraph.EdgeIntersectionList.prototype.iterator=function(){return this.nodeMap.values().iterator()};jsts.geomgraph.EdgeIntersectionList.prototype.addEndpoints=function(){var n=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0);this.add(this.edge.pts[n],n,0)};jsts.geomgraph.EdgeIntersectionList.prototype.addSplitEdges=function(n){var t,i,r,u;for(this.addEndpoints(),t=this.iterator(),i=t.next();t.hasNext();)r=t.next(),u=this.createSplitEdge(i,r),n.add(u),i=r};jsts.geomgraph.EdgeIntersectionList.prototype.createSplitEdge=function(n,t){var e=t.segmentIndex-n.segmentIndex+2,o=this.edge.pts[t.segmentIndex],f=t.dist>0||!t.coord.equals2D(o),i,r,u;for(f||e--,i=[],r=0,i[r++]=new jsts.geom.Coordinate(n.coord),u=n.segmentIndex+1;u<=t.segmentIndex;u++)i[r++]=this.edge.pts[u];return f&&(i[r]=t.coord),new jsts.geomgraph.Edge(i,new jsts.geomgraph.Label(this.edge.label))}}(),function(){var n=function(n){this.message=n};n.prototype=new Error;n.prototype.name="AssertionFailedException";jsts.util.AssertionFailedException=n}(),function(){var n=jsts.util.AssertionFailedException;jsts.util.Assert=function(){};jsts.util.Assert.isTrue=function(t,i){if(!t)throw null===i?new n:new n(i);};jsts.util.Assert.equals=function(t,i,r){if(!i.equals(t))throw new n("Expected "+t+" but encountered "+i+(null!=r?": "+r:""));};jsts.util.Assert.shouldNeverReachHere=function(t){throw new n("Should never reach here"+(null!=t?": "+t:""));}}(),function(){var n=jsts.geom.Location,t=jsts.util.Assert,i=javascript.util.ArrayList;jsts.operation.relate.RelateComputer=function(n){this.li=new jsts.algorithm.RobustLineIntersector;this.ptLocator=new jsts.algorithm.PointLocator;this.nodes=new jsts.geomgraph.NodeMap(new jsts.operation.relate.RelateNodeFactory);this.isolatedEdges=new i;this.arg=n};jsts.operation.relate.RelateComputer.prototype.li=null;jsts.operation.relate.RelateComputer.prototype.ptLocator=null;jsts.operation.relate.RelateComputer.prototype.arg=null;jsts.operation.relate.RelateComputer.prototype.nodes=null;jsts.operation.relate.RelateComputer.prototype.im=null;jsts.operation.relate.RelateComputer.prototype.isolatedEdges=null;jsts.operation.relate.RelateComputer.prototype.invalidPoint=null;jsts.operation.relate.RelateComputer.prototype.computeIM=function(){var t=new jsts.geom.IntersectionMatrix,r,i,u,f;return(t.set(n.EXTERIOR,n.EXTERIOR,2),!this.arg[0].getGeometry().getEnvelopeInternal().intersects(this.arg[1].getGeometry().getEnvelopeInternal()))?(this.computeDisjointIM(t),t):(this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1),r=this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!1),this.computeIntersectionNodes(0),this.computeIntersectionNodes(1),this.copyNodesAndLabels(0),this.copyNodesAndLabels(1),this.labelIsolatedNodes(),this.computeProperIntersectionIM(r,t),i=new jsts.operation.relate.EdgeEndBuilder,u=i.computeEdgeEnds(this.arg[0].getEdgeIterator()),this.insertEdgeEnds(u),f=i.computeEdgeEnds(this.arg[1].getEdgeIterator()),this.insertEdgeEnds(f),this.labelNodeEdges(),this.labelIsolatedEdges(0,1),this.labelIsolatedEdges(1,0),this.updateIM(t),t)};jsts.operation.relate.RelateComputer.prototype.insertEdgeEnds=function(n){for(var i,t=n.iterator();t.hasNext();)i=t.next(),this.nodes.add(i)};jsts.operation.relate.RelateComputer.prototype.computeProperIntersectionIM=function(n,t){var i=this.arg[0].getGeometry().getDimension(),r=this.arg[1].getGeometry().getDimension(),u=n.hasProperIntersection(),f=n.hasProperInteriorIntersection();2===i&&2===r?u&&t.setAtLeast("212101212"):2===i&&1===r?(u&&t.setAtLeast("FFF0FFFF2"),f&&t.setAtLeast("1FFFFF1FF")):1===i&&2===r?(u&&t.setAtLeast("F0FFFFFF2"),f&&t.setAtLeast("1F1FFFFFF")):1===i&&1===r&&f&&t.setAtLeast("0FFFFFFFF")};jsts.operation.relate.RelateComputer.prototype.copyNodesAndLabels=function(n){for(var i,r,t=this.arg[n].getNodeIterator();t.hasNext();)i=t.next(),r=this.nodes.addNode(i.getCoordinate()),r.setLabel(n,i.getLabel().getLocation(n))};jsts.operation.relate.RelateComputer.prototype.computeIntersectionNodes=function(t){for(var e,i,r=this.arg[t].getEdgeIterator();r.hasNext();)for(var u=r.next(),o=u.getLabel().getLocation(t),f=u.getEdgeIntersectionList().iterator();f.hasNext();)e=f.next(),i=this.nodes.addNode(e.coord),o===n.BOUNDARY?i.setLabelBoundary(t):i.getLabel().isNull(t)&&i.setLabel(t,n.INTERIOR)};jsts.operation.relate.RelateComputer.prototype.labelIntersectionNodes=function(t){for(var e,i,r=this.arg[t].getEdgeIterator();r.hasNext();)for(var u=r.next(),o=u.getLabel().getLocation(t),f=u.getEdgeIntersectionList().iterator();f.hasNext();)e=f.next(),i=this.nodes.find(e.coord),i.getLabel().isNull(t)&&(o===n.BOUNDARY?i.setLabelBoundary(t):i.setLabel(t,n.INTERIOR))};jsts.operation.relate.RelateComputer.prototype.computeDisjointIM=function(t){var r=this.arg[0].getGeometry(),i;r.isEmpty()||(t.set(n.INTERIOR,n.EXTERIOR,r.getDimension()),t.set(n.BOUNDARY,n.EXTERIOR,r.getBoundaryDimension()));i=this.arg[1].getGeometry();i.isEmpty()||(t.set(n.EXTERIOR,n.INTERIOR,i.getDimension()),t.set(n.EXTERIOR,n.BOUNDARY,i.getBoundaryDimension()))};jsts.operation.relate.RelateComputer.prototype.labelNodeEdges=function(){for(var t,n=this.nodes.iterator();n.hasNext();)t=n.next(),t.getEdges().computeLabelling(this.arg)};jsts.operation.relate.RelateComputer.prototype.updateIM=function(n){for(var u,i,r,t=this.isolatedEdges.iterator();t.hasNext();)u=t.next(),u.updateIM(n);for(i=this.nodes.iterator();i.hasNext();)r=i.next(),r.updateIM(n),r.updateIMFromEdges(n)};jsts.operation.relate.RelateComputer.prototype.labelIsolatedEdges=function(n,t){for(var i,r=this.arg[n].getEdgeIterator();r.hasNext();)i=r.next(),i.isIsolated()&&(this.labelIsolatedEdge(i,t,this.arg[t].getGeometry()),this.isolatedEdges.add(i))};jsts.operation.relate.RelateComputer.prototype.labelIsolatedEdge=function(t,i,r){if(r.getDimension()>0){var u=this.ptLocator.locate(t.getCoordinate(),r);t.getLabel().setAllLocations(i,u)}else t.getLabel().setAllLocations(i,n.EXTERIOR)};jsts.operation.relate.RelateComputer.prototype.labelIsolatedNodes=function(){for(var n,r,i=this.nodes.iterator();i.hasNext();)n=i.next(),r=n.getLabel(),t.isTrue(r.getGeometryCount()>0,"node with empty label found"),n.isIsolated()&&(r.isNull(0)?this.labelIsolatedNode(n,0):this.labelIsolatedNode(n,1))};jsts.operation.relate.RelateComputer.prototype.labelIsolatedNode=function(n,t){var i=this.ptLocator.locate(n.getCoordinate(),this.arg[t].getGeometry());n.getLabel().setAllLocations(t,i)}}(),function(){var n=jsts.util.Assert;jsts.geomgraph.GraphComponent=function(n){this.label=n};jsts.geomgraph.GraphComponent.prototype.label=null;jsts.geomgraph.GraphComponent.prototype._isInResult=!1;jsts.geomgraph.GraphComponent.prototype._isCovered=!1;jsts.geomgraph.GraphComponent.prototype._isCoveredSet=!1;jsts.geomgraph.GraphComponent.prototype._isVisited=!1;jsts.geomgraph.GraphComponent.prototype.getLabel=function(){return this.label};jsts.geomgraph.GraphComponent.prototype.setLabel=function(n){return 2===arguments.length?void this.setLabel2.apply(this,arguments):void(this.label=n)};jsts.geomgraph.GraphComponent.prototype.setInResult=function(n){this._isInResult=n};jsts.geomgraph.GraphComponent.prototype.isInResult=function(){return this._isInResult};jsts.geomgraph.GraphComponent.prototype.setCovered=function(n){this._isCovered=n;this._isCoveredSet=!0};jsts.geomgraph.GraphComponent.prototype.isCovered=function(){return this._isCovered};jsts.geomgraph.GraphComponent.prototype.isCoveredSet=function(){return this._isCoveredSet};jsts.geomgraph.GraphComponent.prototype.isVisited=function(){return this._isVisited};jsts.geomgraph.GraphComponent.prototype.setVisited=function(n){this._isVisited=n};jsts.geomgraph.GraphComponent.prototype.getCoordinate=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.geomgraph.GraphComponent.prototype.computeIM=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.geomgraph.GraphComponent.prototype.isIsolated=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.geomgraph.GraphComponent.prototype.updateIM=function(t){n.isTrue(this.label.getGeometryCount()>=2,"found partial label");this.computeIM(t)}}();jsts.geomgraph.Node=function(n,t){this.coord=n;this.edges=t;this.label=new jsts.geomgraph.Label(0,jsts.geom.Location.NONE)};jsts.geomgraph.Node.prototype=new jsts.geomgraph.GraphComponent;jsts.geomgraph.Node.prototype.coord=null;jsts.geomgraph.Node.prototype.edges=null;jsts.geomgraph.Node.prototype.isIsolated=function(){return 1==this.label.getGeometryCount()};jsts.geomgraph.Node.prototype.setLabel2=function(n,t){null===this.label?this.label=new jsts.geomgraph.Label(n,t):this.label.setLocation(n,t)};jsts.geomgraph.Node.prototype.setLabelBoundary=function(n){var i=jsts.geom.Location.NONE,t;null!==this.label&&(i=this.label.getLocation(n));switch(i){case jsts.geom.Location.BOUNDARY:t=jsts.geom.Location.INTERIOR;break;case jsts.geom.Location.INTERIOR:t=jsts.geom.Location.BOUNDARY;break;default:t=jsts.geom.Location.BOUNDARY}this.label.setLocation(n,t)};jsts.geomgraph.Node.prototype.add=function(n){this.edges.insert(n);n.setNode(this)};jsts.geomgraph.Node.prototype.getCoordinate=function(){return this.coord};jsts.geomgraph.Node.prototype.getEdges=function(){return this.edges};jsts.geomgraph.Node.prototype.isIncidentEdgeInResult=function(){for(var t,n=this.getEdges().getEdges().iterator();n.hasNext();)if(t=n.next(),t.getEdge().isInResult())return!0;return!1};jsts.geom.Point=function(n,t){this.factory=t;void 0!==n&&(this.coordinate=n)};jsts.geom.Point.prototype=new jsts.geom.Geometry;jsts.geom.Point.constructor=jsts.geom.Point;jsts.geom.Point.CLASS_NAME="jsts.geom.Point";jsts.geom.Point.prototype.coordinate=null;jsts.geom.Point.prototype.getX=function(){return this.coordinate.x};jsts.geom.Point.prototype.getY=function(){return this.coordinate.y};jsts.geom.Point.prototype.getCoordinate=function(){return this.coordinate};jsts.geom.Point.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.coordinate]};jsts.geom.Point.prototype.getCoordinateSequence=function(){return this.isEmpty()?[]:[this.coordinate]};jsts.geom.Point.prototype.isEmpty=function(){return null===this.coordinate};jsts.geom.Point.prototype.equalsExact=function(n,t){return this.isEquivalentClass(n)?this.isEmpty()&&n.isEmpty()?!0:this.equal(n.getCoordinate(),this.getCoordinate(),t):!1};jsts.geom.Point.prototype.getNumPoints=function(){return this.isEmpty()?0:1};jsts.geom.Point.prototype.isSimple=function(){return!0};jsts.geom.Point.prototype.getBoundary=function(){return new jsts.geom.GeometryCollection(null)};jsts.geom.Point.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new jsts.geom.Envelope:new jsts.geom.Envelope(this.coordinate)};jsts.geom.Point.prototype.apply=function(n){if(n instanceof jsts.geom.GeometryFilter||n instanceof jsts.geom.GeometryComponentFilter)n.filter(this);else if(n instanceof jsts.geom.CoordinateFilter){if(this.isEmpty())return;n.filter(this.getCoordinate())}};jsts.geom.Point.prototype.clone=function(){return new jsts.geom.Point(this.coordinate.clone(),this.factory)};jsts.geom.Point.prototype.getDimension=function(){return 0};jsts.geom.Point.prototype.getBoundaryDimension=function(){return jsts.geom.Dimension.FALSE};jsts.geom.Point.prototype.reverse=function(){return this.clone()};jsts.geom.Point.prototype.isValid=function(){return jsts.operation.valid.IsValidOp.isValid(this.getCoordinate())?!0:!1};jsts.geom.Point.prototype.normalize=function(){};jsts.geom.Point.prototype.compareToSameClass=function(n){var t=n;return this.getCoordinate().compareTo(t.getCoordinate())};jsts.geom.Point.prototype.getGeometryType=function(){return"Point"};jsts.geom.Point.prototype.hashCode=function(){return"Point_"+this.coordinate.hashCode()};jsts.geom.Point.prototype.CLASS_NAME="jsts.geom.Point";jsts.geom.Dimension=function(){};jsts.geom.Dimension.P=0;jsts.geom.Dimension.L=1;jsts.geom.Dimension.A=2;jsts.geom.Dimension.FALSE=-1;jsts.geom.Dimension.TRUE=-2;jsts.geom.Dimension.DONTCARE=-3;jsts.geom.Dimension.toDimensionSymbol=function(n){switch(n){case jsts.geom.Dimension.FALSE:return"F";case jsts.geom.Dimension.TRUE:return"T";case jsts.geom.Dimension.DONTCARE:return"*";case jsts.geom.Dimension.P:return"0";case jsts.geom.Dimension.L:return"1";case jsts.geom.Dimension.A:return"2"}throw new jsts.IllegalArgumentError("Unknown dimension value: "+n);};jsts.geom.Dimension.toDimensionValue=function(n){switch(n.toUpperCase()){case"F":return jsts.geom.Dimension.FALSE;case"T":return jsts.geom.Dimension.TRUE;case"*":return jsts.geom.Dimension.DONTCARE;case"0":return jsts.geom.Dimension.P;case"1":return jsts.geom.Dimension.L;case"2":return jsts.geom.Dimension.A}throw new jsts.error.IllegalArgumentError("Unknown dimension symbol: "+n);},function(){var n=jsts.geom.Dimension;jsts.geom.LineString=function(n,t){this.factory=t;this.points=n||[]};jsts.geom.LineString.prototype=new jsts.geom.Geometry;jsts.geom.LineString.constructor=jsts.geom.LineString;jsts.geom.LineString.prototype.points=null;jsts.geom.LineString.prototype.getCoordinates=function(){return this.points};jsts.geom.LineString.prototype.getCoordinateSequence=function(){return this.points};jsts.geom.LineString.prototype.getCoordinateN=function(n){return this.points[n]};jsts.geom.LineString.prototype.getCoordinate=function(){return this.isEmpty()?null:this.getCoordinateN(0)};jsts.geom.LineString.prototype.getDimension=function(){return 1};jsts.geom.LineString.prototype.getBoundaryDimension=function(){return this.isClosed()?n.FALSE:0};jsts.geom.LineString.prototype.isEmpty=function(){return 0===this.points.length};jsts.geom.LineString.prototype.getNumPoints=function(){return this.points.length};jsts.geom.LineString.prototype.getPointN=function(n){return this.getFactory().createPoint(this.points[n])};jsts.geom.LineString.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)};jsts.geom.LineString.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)};jsts.geom.LineString.prototype.isClosed=function(){return this.isEmpty()?!1:this.getCoordinateN(0).equals2D(this.getCoordinateN(this.points.length-1))};jsts.geom.LineString.prototype.isRing=function(){return this.isClosed()&&this.isSimple()};jsts.geom.LineString.prototype.getGeometryType=function(){return"LineString"};jsts.geom.LineString.prototype.getLength=function(){return jsts.algorithm.CGAlgorithms.computeLength(this.points)};jsts.geom.LineString.prototype.getBoundary=function(){return new jsts.operation.BoundaryOp(this).getBoundary()};jsts.geom.LineString.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new jsts.geom.Envelope;var n=new jsts.geom.Envelope;return this.points.forEach(function(t){n.expandToInclude(t)}),n};jsts.geom.LineString.prototype.equalsExact=function(n,t){return this.isEquivalentClass(n)?this.points.length!==n.points.length?!1:this.isEmpty()&&n.isEmpty()?!0:this.points.reduce(function(i,r,u){return i&&jsts.geom.Geometry.prototype.equal(r,n.points[u],t)}):!1};jsts.geom.LineString.prototype.isEquivalentClass=function(n){return n instanceof jsts.geom.LineString};jsts.geom.LineString.prototype.compareToSameClass=function(n){for(var r,u=n,t=0,f=this.points.length,i=0,e=u.points.length;f>t&&e>i;){if(r=this.points[t].compareTo(u.points[i]),0!==r)return r;t++;i++}return f>t?1:e>i?-1:0};jsts.geom.LineString.prototype.apply=function(n){if(n instanceof jsts.geom.GeometryFilter||n instanceof jsts.geom.GeometryComponentFilter)n.filter(this);else if(n instanceof jsts.geom.CoordinateFilter)for(var t=0,i=this.points.length;i>t;t++)n.filter(this.points[t]);else n instanceof jsts.geom.CoordinateSequenceFilter&&this.apply2.apply(this,arguments)};jsts.geom.LineString.prototype.apply2=function(n){if(0!==this.points.length){for(var t=0;t<this.points.length&&(n.filter(this.points,t),!n.isDone());t++);n.isGeometryChanged()}};jsts.geom.LineString.prototype.clone=function(){for(var t=[],n=0,i=this.points.length;i>n;n++)t.push(this.points[n].clone());return this.factory.createLineString(t)};jsts.geom.LineString.prototype.normalize=function(){var n,u,f,t,i,r;for(r=this.points.length,u=parseInt(r/2),n=0;u>n;n++)if(f=r-1-n,t=this.points[n],i=this.points[f],!t.equals(i))return void(t.compareTo(i)>0&&this.points.reverse())};jsts.geom.LineString.prototype.CLASS_NAME="jsts.geom.LineString"}(),function(){jsts.geom.Polygon=function(n,t,i){this.shell=n||i.createLinearRing(null);this.holes=t||[];this.factory=i};jsts.geom.Polygon.prototype=new jsts.geom.Geometry;jsts.geom.Polygon.constructor=jsts.geom.Polygon;jsts.geom.Polygon.prototype.getCoordinate=function(){return this.shell.getCoordinate()};jsts.geom.Polygon.prototype.getCoordinates=function(){var t,f,i;if(this.isEmpty())return[];for(var r=[],n=-1,e=this.shell.getCoordinates(),u=0;u<e.length;u++)n++,r[n]=e[u];for(t=0;t<this.holes.length;t++)for(f=this.holes[t].getCoordinates(),i=0;i<f.length;i++)n++,r[n]=f[i];return r};jsts.geom.Polygon.prototype.getNumPoints=function(){for(var t=this.shell.getNumPoints(),n=0;n<this.holes.length;n++)t+=this.holes[n].getNumPoints();return t};jsts.geom.Polygon.prototype.isEmpty=function(){return this.shell.isEmpty()};jsts.geom.Polygon.prototype.isRectangle=function(){var i,r;if(0!=this.getNumInteriorRing()||null==this.shell||5!=this.shell.getNumPoints())return!1;for(var t=this.shell.getCoordinateSequence(),u=this.getEnvelopeInternal(),n=0;5>n;n++)if((i=t[n].x,i!=u.getMinX()&&i!=u.getMaxX())||(r=t[n].y,r!=u.getMinY()&&r!=u.getMaxY()))return!1;for(var f=t[0].x,e=t[0].y,n=1;4>=n;n++){var i=t[n].x,r=t[n].y,o=i!=f,s=r!=e;if(o==s)return!1;f=i;e=r}return!0};jsts.geom.Polygon.prototype.getExteriorRing=function(){return this.shell};jsts.geom.Polygon.prototype.getInteriorRingN=function(n){return this.holes[n]};jsts.geom.Polygon.prototype.getNumInteriorRing=function(){return this.holes.length};jsts.geom.Polygon.prototype.getArea=function(){var t=0,n;for(t+=Math.abs(jsts.algorithm.CGAlgorithms.signedArea(this.shell.getCoordinateSequence())),n=0;n<this.holes.length;n++)t-=Math.abs(jsts.algorithm.CGAlgorithms.signedArea(this.holes[n].getCoordinateSequence()));return t};jsts.geom.Polygon.prototype.getLength=function(){var t=0,n;for(t+=this.shell.getLength(),n=0;n<this.holes.length;n++)t+=this.holes[n].getLength();return t};jsts.geom.Polygon.prototype.getBoundary=function(){var n,t,i;if(this.isEmpty())return this.getFactory().createMultiLineString(null);for(n=[],n[0]=this.shell.clone(),t=0,i=this.holes.length;i>t;t++)n[t+1]=this.holes[t].clone();return n.length<=1?n[0]:this.getFactory().createMultiLineString(n)};jsts.geom.Polygon.prototype.computeEnvelopeInternal=function(){return this.shell.getEnvelopeInternal()};jsts.geom.Polygon.prototype.getDimension=function(){return 2};jsts.geom.Polygon.prototype.getBoundaryDimension=function(){return 1};jsts.geom.Polygon.prototype.equalsExact=function(n,t){if(!this.isEquivalentClass(n))return!1;if(this.isEmpty()&&n.isEmpty())return!0;if(this.isEmpty()!==n.isEmpty()||!this.shell.equalsExact(n.shell,t)||this.holes.length!==n.holes.length||this.holes.length!==n.holes.length)return!1;for(var i=0;i<this.holes.length;i++)if(!this.holes[i].equalsExact(n.holes[i],t))return!1;return!0};jsts.geom.Polygon.prototype.compareToSameClass=function(n){return this.shell.compareToSameClass(n.shell)};jsts.geom.Polygon.prototype.apply=function(n){var t,i;if(n instanceof jsts.geom.GeometryComponentFilter)for(n.filter(this),this.shell.apply(n),t=0,i=this.holes.length;i>t;t++)this.holes[t].apply(n);else if(n instanceof jsts.geom.GeometryFilter)n.filter(this);else if(n instanceof jsts.geom.CoordinateFilter)for(this.shell.apply(n),t=0,i=this.holes.length;i>t;t++)this.holes[t].apply(n);else n instanceof jsts.geom.CoordinateSequenceFilter&&this.apply2.apply(this,arguments)};jsts.geom.Polygon.prototype.apply2=function(n){if(this.shell.apply(n),!n.isDone())for(var t=0;t<this.holes.length&&(this.holes[t].apply(n),!n.isDone());t++);n.isGeometryChanged()};jsts.geom.Polygon.prototype.clone=function(){for(var t=[],n=0,i=this.holes.length;i>n;n++)t.push(this.holes[n].clone());return this.factory.createPolygon(this.shell.clone(),t)};jsts.geom.Polygon.prototype.normalize=function(){this.normalize2(this.shell,!0);for(var n=0,t=this.holes.length;t>n;n++)this.normalize2(this.holes[n],!1);this.holes.sort()};jsts.geom.Polygon.prototype.normalize2=function(n,t){if(!n.isEmpty()){var i=n.points.slice(0,n.points.length-1),r=jsts.geom.CoordinateArrays.minCoordinate(n.points);jsts.geom.CoordinateArrays.scroll(i,r);n.points=i.concat();n.points[i.length]=i[0];jsts.algorithm.CGAlgorithms.isCCW(n.points)===t&&n.points.reverse()}};jsts.geom.Polygon.prototype.getGeometryType=function(){return"Polygon"};jsts.geom.Polygon.prototype.CLASS_NAME="jsts.geom.Polygon"}(),function(){var i=jsts.geom.Geometry,n=javascript.util.TreeSet,t=javascript.util.Arrays;jsts.geom.GeometryCollection=function(n,t){this.geometries=n||[];this.factory=t};jsts.geom.GeometryCollection.prototype=new i;jsts.geom.GeometryCollection.constructor=jsts.geom.GeometryCollection;jsts.geom.GeometryCollection.prototype.isEmpty=function(){for(var i,n=0,t=this.geometries.length;t>n;n++)if(i=this.getGeometryN(n),!i.isEmpty())return!1;return!0};jsts.geom.GeometryCollection.prototype.getArea=function(){for(var t=0,n=0,i=this.geometries.length;i>n;n++)t+=this.getGeometryN(n).getArea();return t};jsts.geom.GeometryCollection.prototype.getLength=function(){for(var t=0,n=0,i=this.geometries.length;i>n;n++)t+=this.getGeometryN(n).getLength();return t};jsts.geom.GeometryCollection.prototype.getCoordinate=function(){return this.isEmpty()?null:this.getGeometryN(0).getCoordinate()};jsts.geom.GeometryCollection.prototype.getCoordinates=function(){for(var i=[],r=-1,n=0,f=this.geometries.length;f>n;n++)for(var e=this.getGeometryN(n),u=e.getCoordinates(),t=0;t<u.length;t++)r++,i[r]=u[t];return i};jsts.geom.GeometryCollection.prototype.getNumGeometries=function(){return this.geometries.length};jsts.geom.GeometryCollection.prototype.getGeometryN=function(n){var t=this.geometries[n];return t instanceof jsts.geom.Coordinate&&(t=new jsts.geom.Point(t)),t};jsts.geom.GeometryCollection.prototype.getNumPoints=function(){for(var t=0,n=0;n<this.geometries.length;n++)t+=this.geometries[n].getNumPoints();return t};jsts.geom.GeometryCollection.prototype.equalsExact=function(n,t){var i,r,u;if(!this.isEquivalentClass(n)||this.geometries.length!==n.geometries.length)return!1;for(i=0,r=this.geometries.length;r>i;i++)if(u=this.getGeometryN(i),!u.equalsExact(n.getGeometryN(i),t))return!1;return!0};jsts.geom.GeometryCollection.prototype.clone=function(){for(var t=[],n=0,i=this.geometries.length;i>n;n++)t.push(this.geometries[n].clone());return this.factory.createGeometryCollection(t)};jsts.geom.GeometryCollection.prototype.normalize=function(){for(var n=0,t=this.geometries.length;t>n;n++)this.getGeometryN(n).normalize();this.geometries.sort()};jsts.geom.GeometryCollection.prototype.compareToSameClass=function(i){var r=new n(t.asList(this.geometries)),u=new n(t.asList(i.geometries));return this.compare(r,u)};jsts.geom.GeometryCollection.prototype.apply=function(n){var t,i;if(n instanceof jsts.geom.GeometryFilter||n instanceof jsts.geom.GeometryComponentFilter)for(n.filter(this),t=0,i=this.geometries.length;i>t;t++)this.getGeometryN(t).apply(n);else if(n instanceof jsts.geom.CoordinateFilter)for(t=0,i=this.geometries.length;i>t;t++)this.getGeometryN(t).apply(n);else n instanceof jsts.geom.CoordinateSequenceFilter&&this.apply2.apply(this,arguments)};jsts.geom.GeometryCollection.prototype.apply2=function(n){if(0!=this.geometries.length){for(var t=0;t<this.geometries.length&&(this.geometries[t].apply(n),!n.isDone());t++);n.isGeometryChanged()}};jsts.geom.GeometryCollection.prototype.getDimension=function(){for(var i,n=jsts.geom.Dimension.FALSE,t=0,r=this.geometries.length;r>t;t++)i=this.getGeometryN(t),n=Math.max(n,i.getDimension());return n};jsts.geom.GeometryCollection.prototype.computeEnvelopeInternal=function(){for(var i,t=new jsts.geom.Envelope,n=0,r=this.geometries.length;r>n;n++)i=this.getGeometryN(n),t.expandToInclude(i.getEnvelopeInternal());return t};jsts.geom.GeometryCollection.prototype.CLASS_NAME="jsts.geom.GeometryCollection"}();jsts.algorithm.Centroid=function(n){this.areaBasePt=null;this.triangleCent3=new jsts.geom.Coordinate;this.areasum2=0;this.cg3=new jsts.geom.Coordinate;this.lineCentSum=new jsts.geom.Coordinate;this.totalLength=0;this.ptCount=0;this.ptCentSum=new jsts.geom.Coordinate;this.add(n)};jsts.algorithm.Centroid.getCentroid=function(n){var t=new jsts.algorithm.Centroid(n);return t.getCentroid()};jsts.algorithm.Centroid.centroid3=function(n,t,i,r){r.x=n.x+t.x+i.x;r.y=n.y+t.y+i.y};jsts.algorithm.Centroid.area2=function(n,t,i){return(t.x-n.x)*(i.y-n.y)-(i.x-n.x)*(t.y-n.y)};jsts.algorithm.Centroid.prototype.add=function(n){if(!n.isEmpty())if(n instanceof jsts.geom.Point)this.addPoint(n.getCoordinate());else if(n instanceof jsts.geom.LineString)this.addLineSegments(n.getCoordinates());else if(n instanceof jsts.geom.Polygon)this.addPolygon(n);else if(n instanceof jsts.geom.GeometryCollection)for(var t=0;t<n.getNumGeometries();t++)this.add(n.getGeometryN(t))};jsts.algorithm.Centroid.prototype.getCentroid=function(){var n=new jsts.geom.Coordinate;if(Math.abs(this.areasum2)>0)n.x=this.cg3.x/3/this.areasum2,n.y=this.cg3.y/3/this.areasum2;else if(this.totalLength>0)n.x=this.lineCentSum.x/this.totalLength,n.y=this.lineCentSum.y/this.totalLength;else{if(!(this.ptCount>0))return null;n.x=this.ptCentSum.x/this.ptCount;n.y=this.ptCentSum.y/this.ptCount}return n};jsts.algorithm.Centroid.prototype.setBasePoint=function(n){null===this.areaBasePt&&(this.areaBasePt=n)};jsts.algorithm.Centroid.prototype.addPolygon=function(n){this.addShell(n.getExteriorRing().getCoordinates());for(var t=0;t<n.getNumInteriorRing();t++)this.addHole(n.getInteriorRingN(t).getCoordinates())};jsts.algorithm.Centroid.prototype.addShell=function(n){n.length>0&&this.setBasePoint(n[0]);for(var i=!jsts.algorithm.CGAlgorithms.isCCW(n),t=0;t<n.length-1;t++)this.addTriangle(this.areaBasePt,n[t],n[t+1],i);this.addLineSegments(n)};jsts.algorithm.Centroid.prototype.addHole=function(n){for(var i=jsts.algorithm.CGAlgorithms.isCCW(n),t=0;t<n.length-1;t++)this.addTriangle(this.areaBasePt,n[t],n[t+1],i);this.addLineSegments(n)};jsts.algorithm.Centroid.prototype.addTriangle=function(n,t,i,r){var f=r?1:-1,u;jsts.algorithm.Centroid.centroid3(n,t,i,this.triangleCent3);u=jsts.algorithm.Centroid.area2(n,t,i);this.cg3.x+=f*u*this.triangleCent3.x;this.cg3.y+=f*u*this.triangleCent3.y;this.areasum2+=f*u};jsts.algorithm.Centroid.prototype.addLineSegments=function(n){for(var i,u,f,r=0,t=0;t<n.length-1;t++)i=n[t].distance(n[t+1]),0!==i&&(r+=i,u=(n[t].x+n[t+1].x)/2,this.lineCentSum.x+=i*u,f=(n[t].y+n[t+1].y)/2,this.lineCentSum.y+=i*f);this.totalLength+=r;0===r&&n.length>0&&this.addPoint(n[0])};jsts.algorithm.Centroid.prototype.addPoint=function(n){this.ptCount+=1;this.ptCentSum.x+=n.x;this.ptCentSum.y+=n.y},function(){var n=function(n){this.deList=new javascript.util.ArrayList;this.factory=n};n.findEdgeRingContaining=function(n,t){for(var e,r=n.getRing(),o=r.getEnvelopeInternal(),s=r.getCoordinateN(0),i=null,h=null,c=t.iterator();c.hasNext();){var l=c.next(),u=l.getRing(),f=u.getEnvelopeInternal();null!=i&&(h=i.getRing().getEnvelopeInternal());e=!1;f.equals(o)||(s=jsts.geom.CoordinateArrays.ptNotInList(r.getCoordinates(),u.getCoordinates()),f.contains(o)&&jsts.algorithm.CGAlgorithms.isPointInRing(s,u.getCoordinates())&&(e=!0),e&&(null==i||h.contains(f))&&(i=l))}return i};n.ptNotInList=function(n,t){for(var r,i=0;i<n.length;i++)if(r=n[i],!isInList(r,t))return r;return null};n.isInList=function(n,t){for(var i=0;i<t.length;i++)if(n.equals(t[i]))return!0;return!1};n.prototype.factory=null;n.prototype.deList=null;n.prototype.ring=null;n.prototype.ringPts=null;n.prototype.holes=null;n.prototype.add=function(n){this.deList.add(n)};n.prototype.isHole=function(){var n=this.getRing();return jsts.algorithm.CGAlgorithms.isCCW(n.getCoordinates())};n.prototype.addHole=function(n){null==this.holes&&(this.holes=new javascript.util.ArrayList);this.holes.add(n)};n.prototype.getPolygon=function(){var t=null,n;if(null!=this.holes)for(t=[],n=0;n<this.holes.size();n++)t[n]=this.holes.get(n);return this.factory.createPolygon(this.ring,t)};n.prototype.isValid=function(){return this.getCoordinates(),this.ringPts.length<=3?!1:(this.getRing(),this.ring.isValid())};n.prototype.getCoordinates=function(){var t,i,r,u;if(null==this.ringPts){for(t=new jsts.geom.CoordinateList,i=this.deList.iterator();i.hasNext();)r=i.next(),u=r.getEdge(),n.addEdge(u.getLine().getCoordinates(),r.getEdgeDirection(),t);this.ringPts=t.toCoordinateArray()}return this.ringPts};n.prototype.getLineString=function(){return this.getCoordinates(),this.factory.createLineString(this.ringPts)};n.prototype.getRing=function(){if(null!=this.ring)return this.ring;this.getCoordinates();this.ringPts.length<3&&console.log(this.ringPts);try{this.ring=this.factory.createLinearRing(this.ringPts)}catch(n){console.log(this.ringPts)}return this.ring};n.addEdge=function(n,t,i){var r;if(t)for(r=0;r<n.length;r++)i.add(n[r],!1);else for(r=n.length-1;r>=0;r--)i.add(n[r],!1)};jsts.operation.polygonize.EdgeRing=n}(),function(){var n=function(){};n.setVisited=function(n,t){for(;n.hasNext();){var i=n.next();i.setVisited(t)}};n.setMarked=function(n,t){for(;n.hasNext();){var i=n.next();i.setMarked(t)}};n.getComponentWithVisitedState=function(n,t){for(;n.hasNext();){var i=n.next();if(i.isVisited()==t)return i}return null};n.prototype._isMarked=!1;n.prototype._isVisited=!1;n.prototype.data;n.prototype.isVisited=function(){return this._isVisited};n.prototype.setVisited=function(n){this._isVisited=n};n.prototype.isMarked=function(){return this._isMarked};n.prototype.setMarked=function(n){this._isMarked=n};n.prototype.setContext=function(n){this.data=n};n.prototype.getContext=function(){return data};n.prototype.setData=function(n){this.data=n};n.prototype.getData=function(){return data};n.prototype.isRemoved=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.planargraph.GraphComponent=n}(),function(){var t=jsts.planargraph.GraphComponent,n=function(n,t){void 0!==n&&this.setDirectedEdges(n,t)};n.prototype=new t;n.prototype.dirEdge=null;n.prototype.setDirectedEdges=function(n,t){this.dirEdge=[n,t];n.setEdge(this);t.setEdge(this);n.setSym(t);t.setSym(n);n.getFromNode().addOutEdge(n);t.getFromNode().addOutEdge(t)};n.prototype.getDirEdge=function(n){return n instanceof jsts.planargraph.Node&&this.getDirEdge2(n),this.dirEdge[n]};n.prototype.getDirEdge2=function(n){return this.dirEdge[0].getFromNode()==n?this.dirEdge[0]:this.dirEdge[1].getFromNode()==n?this.dirEdge[1]:null};n.prototype.getOppositeNode=function(n){return this.dirEdge[0].getFromNode()==n?this.dirEdge[0].getToNode():this.dirEdge[1].getFromNode()==n?this.dirEdge[1].getToNode():null};n.prototype.remove=function(){this.dirEdge=null};n.prototype.isRemoved=function(){return null==dirEdge};jsts.planargraph.Edge=n}();jsts.operation.polygonize.PolygonizeEdge=function(n){this.line=n};jsts.operation.polygonize.PolygonizeEdge.prototype=new jsts.planargraph.Edge;jsts.operation.polygonize.PolygonizeEdge.prototype.line=null;jsts.operation.polygonize.PolygonizeEdge.prototype.getLine=function(){return this.line},function(){var t=javascript.util.ArrayList,i=jsts.planargraph.GraphComponent,n=function(n,t,i,r){if(void 0!==n){this.from=n;this.to=t;this.edgeDirection=r;this.p0=n.getCoordinate();this.p1=i;var u=this.p1.x-this.p0.x,f=this.p1.y-this.p0.y;this.quadrant=jsts.geomgraph.Quadrant.quadrant(u,f);this.angle=Math.atan2(f,u)}};n.prototype=new i;n.toEdges=function(n){for(var i=new t,r=n.iterator();r.hasNext();)i.add(r.next().parentEdge);return i};n.prototype.parentEdge=null;n.prototype.from=null;n.prototype.to=null;n.prototype.p0=null;n.prototype.p1=null;n.prototype.sym=null;n.prototype.edgeDirection=null;n.prototype.quadrant=null;n.prototype.angle=null;n.prototype.getEdge=function(){return this.parentEdge};n.prototype.setEdge=function(n){this.parentEdge=n};n.prototype.getQuadrant=function(){return this.quadrant};n.prototype.getDirectionPt=function(){return this.p1};n.prototype.getEdgeDirection=function(){return this.edgeDirection};n.prototype.getFromNode=function(){return this.from};n.prototype.getToNode=function(){return this.to};n.prototype.getCoordinate=function(){return this.from.getCoordinate()};n.prototype.getAngle=function(){return this.angle};n.prototype.getSym=function(){return this.sym};n.prototype.setSym=function(n){this.sym=n};n.prototype.remove=function(){this.sym=null;this.parentEdge=null};n.prototype.isRemoved=function(){return null==this.parentEdge};n.prototype.compareTo=function(n){var t=n;return this.compareDirection(t)};n.prototype.compareDirection=function(n){return this.quadrant>n.quadrant?1:this.quadrant<n.quadrant?-1:jsts.algorithm.CGAlgorithms.computeOrientation(n.p0,n.p1,this.p1)};jsts.planargraph.DirectedEdge=n}(),function(){var t=jsts.planargraph.DirectedEdge,n=function(){t.apply(this,arguments)};n.prototype=new t;n.prototype.edgeRing=null;n.prototype.next=null;n.prototype.label=-1;n.prototype.getLabel=function(){return this.label};n.prototype.setLabel=function(n){this.label=n};n.prototype.getNext=function(){return this.next};n.prototype.setNext=function(n){this.next=n};n.prototype.isInRing=function(){return null!=this.edgeRing};n.prototype.setRing=function(n){this.edgeRing=n};jsts.operation.polygonize.PolygonizeDirectedEdge=n}(),function(){var t=javascript.util.ArrayList,n=function(){this.outEdges=new t};n.prototype.outEdges=null;n.prototype.sorted=!1;n.prototype.add=function(n){this.outEdges.add(n);this.sorted=!1};n.prototype.remove=function(n){this.outEdges.remove(n)};n.prototype.iterator=function(){return this.sortEdges(),this.outEdges.iterator()};n.prototype.getDegree=function(){return this.outEdges.size()};n.prototype.getCoordinate=function(){var n=iterator(),t;return n.hasNext()?(t=n.next(),t.getCoordinate()):null};n.prototype.getEdges=function(){return this.sortEdges(),this.outEdges};n.prototype.sortEdges=function(){if(!this.sorted){var n=this.outEdges.toArray();n.sort(function(n,t){return n.compareTo(t)});this.outEdges=javascript.util.Arrays.asList(n);this.sorted=!0}};n.prototype.getIndex=function(n){var t,i;if(n instanceof jsts.planargraph.DirectedEdge)return this.getIndex2(n);if("number"==typeof n)return this.getIndex3(n);for(this.sortEdges(),t=0;t<this.outEdges.size();t++)if(i=this.outEdges.get(t),i.getEdge()==n)return t;return-1};n.prototype.getIndex2=function(n){var t,i;for(this.sortEdges(),t=0;t<this.outEdges.size();t++)if(i=this.outEdges.get(t),i==n)return t;return-1};n.prototype.getIndex3=function(n){var t=toInt(n%this.outEdges.size());return 0>t&&(t+=this.outEdges.size()),t};n.prototype.getNextEdge=function(n){var t=this.getIndex(n);return this.outEdges.get(getIndex(t+1))};n.prototype.getNextCWEdge=function(n){var t=this.getIndex(n);return this.outEdges.get(getIndex(t-1))};jsts.planargraph.DirectedEdgeStar=n}(),function(){var t=jsts.planargraph.GraphComponent,i=jsts.planargraph.DirectedEdgeStar,n=function(n,t){this.pt=n;this.deStar=t||new i};n.prototype=new t;n.getEdgesBetween=function(n,t){var r=DirectedEdge.toEdges(n.getOutEdges().getEdges()),i=new javascript.util.HashSet(r),u=DirectedEdge.toEdges(t.getOutEdges().getEdges());return i.retainAll(u),i};n.prototype.pt=null;n.prototype.deStar=null;n.prototype.getCoordinate=function(){return this.pt};n.prototype.addOutEdge=function(n){this.deStar.add(n)};n.prototype.getOutEdges=function(){return this.deStar};n.prototype.getDegree=function(){return this.deStar.getDegree()};n.prototype.getIndex=function(n){return this.deStar.getIndex(n)};n.prototype.remove=function(n){return void 0===n?this.remove2():void this.deStar.remove(n)};n.prototype.remove2=function(){this.pt=null};n.prototype.isRemoved=function(){return null==this.pt};jsts.planargraph.Node=n}(),function(){var n=function(){this.nodeMap=new javascript.util.TreeMap};n.prototype.nodeMap=null;n.prototype.add=function(n){return this.nodeMap.put(n.getCoordinate(),n),n};n.prototype.remove=function(n){return this.nodeMap.remove(n)};n.prototype.find=function(n){return this.nodeMap.get(n)};n.prototype.iterator=function(){return this.nodeMap.values().iterator()};n.prototype.values=function(){return this.nodeMap.values()};jsts.planargraph.NodeMap=n}(),function(){var t=javascript.util.ArrayList,n=function(){this.edges=new javascript.util.HashSet;this.dirEdges=new javascript.util.HashSet;this.nodeMap=new jsts.planargraph.NodeMap};n.prototype.edges=null;n.prototype.dirEdges=null;n.prototype.nodeMap=null;n.prototype.findNode=function(n){return this.nodeMap.find(n)};n.prototype.add=function(n){return n instanceof jsts.planargraph.Edge?this.add2(n):n instanceof jsts.planargraph.DirectedEdge?this.add3(n):void this.nodeMap.add(n)};n.prototype.add2=function(n){this.edges.add(n);this.add(n.getDirEdge(0));this.add(n.getDirEdge(1))};n.prototype.add3=function(n){this.dirEdges.add(n)};n.prototype.nodeIterator=function(){return this.nodeMap.iterator()};n.prototype.contains=function(n){return n instanceof jsts.planargraph.DirectedEdge?this.contains2(n):this.edges.contains(n)};n.prototype.contains2=function(n){return this.dirEdges.contains(n)};n.prototype.getNodes=function(){return this.nodeMap.values()};n.prototype.dirEdgeIterator=function(){return this.dirEdges.iterator()};n.prototype.edgeIterator=function(){return this.edges.iterator()};n.prototype.getEdges=function(){return this.edges};n.prototype.remove=function(n){return n instanceof jsts.planargraph.DirectedEdge?this.remove2(n):(this.remove(n.getDirEdge(0)),this.remove(n.getDirEdge(1)),this.edges.remove(n),void this.edge.remove())};n.prototype.remove2=function(n){if(n instanceof jsts.planargraph.Node)return this.remove3(n);var t=n.getSym();null!=t&&t.setSym(null);n.getFromNode().remove(n);n.remove();this.dirEdges.remove(n)};n.prototype.remove3=function(n){for(var t,r,u,f=n.getOutEdges().getEdges(),i=f.iterator();i.hasNext();)t=i.next(),r=t.getSym(),null!=r&&this.remove(r),this.dirEdges.remove(t),u=t.getEdge(),null!=u&&this.edges.remove(u);this.nodeMap.remove(n.getCoordinate());n.remove()};n.prototype.findNodesOfDegree=function(n){for(var u,i=new t,r=this.nodeIterator();r.hasNext();)u=r.next(),u.getDegree()==n&&i.add(u);return i};jsts.planargraph.PlanarGraph=n}(),function(){var i=javascript.util.ArrayList,f=javascript.util.Stack,e=javascript.util.HashSet,t=jsts.util.Assert,o=jsts.operation.polygonize.EdgeRing,s=jsts.operation.polygonize.PolygonizeEdge,r=jsts.operation.polygonize.PolygonizeDirectedEdge,u=jsts.planargraph.PlanarGraph,h=jsts.planargraph.Node,n=function(n){u.apply(this);this.factory=n};n.prototype=new u;n.getDegreeNonDeleted=function(n){for(var r,u=n.getOutEdges().getEdges(),t=0,i=u.iterator();i.hasNext();)r=i.next(),r.isMarked()||t++;return t};n.getDegree=function(n,t){for(var u,f=n.getOutEdges().getEdges(),i=0,r=f.iterator();r.hasNext();)u=r.next(),u.getLabel()==t&&i++;return i};n.deleteAllEdges=function(n){for(var i,r,u=n.getOutEdges().getEdges(),t=u.iterator();t.hasNext();)i=t.next(),i.setMarked(!0),r=i.getSym(),null!=r&&r.setMarked(!0)};n.prototype.factory=null;n.prototype.addEdge=function(n){var t;if(!n.isEmpty()&&(t=jsts.geom.CoordinateArrays.removeRepeatedPoints(n.getCoordinates()),!(t.length<2))){var e=t[0],o=t[t.length-1],i=this.getNode(e),u=this.getNode(o),h=new r(i,u,t[1],!0),c=new r(u,i,t[t.length-2],!1),f=new s(n);f.setDirectedEdges(h,c);this.add(f)}};n.prototype.getNode=function(n){var t=this.findNode(n);return null==t&&(t=new h(n),this.add(t)),t};n.prototype.computeNextCWEdges=function(){for(var i,t=this.nodeIterator();t.hasNext();)i=t.next(),n.computeNextCWEdges(i)};n.prototype.convertMaximalToMinimalEdgeRings=function(t){for(var r,o,i=t.iterator();i.hasNext();){var u=i.next(),f=u.getLabel(),e=n.findIntersectionNodes(u,f);if(null!=e)for(r=e.iterator();r.hasNext();)o=r.next(),n.computeNextCCWEdges(o,f)}};n.findIntersectionNodes=function(r,u){var f=r,e=null,o;do o=f.getFromNode(),n.getDegree(o,u)>1&&(null==e&&(e=new i),e.add(o)),f=f.getNext(),t.isTrue(null!=f,"found null DE in ring"),t.isTrue(f==r||!f.isInRing(),"found DE already in ring");while(f!=r);return e};n.prototype.getEdgeRings=function(){var f,r,u,t,e;for(this.computeNextCWEdges(),n.label(this.dirEdges,-1),f=n.findLabeledEdgeRings(this.dirEdges),this.convertMaximalToMinimalEdgeRings(f),r=new i,u=this.dirEdges.iterator();u.hasNext();)t=u.next(),t.isMarked()||t.isInRing()||(e=this.findEdgeRing(t),r.add(e));return r};n.findLabeledEdgeRings=function(t){for(var r,o,u=new i,f=1,e=t.iterator();e.hasNext();)r=e.next(),r.isMarked()||r.getLabel()>=0||(u.add(r),o=n.findDirEdgesInRing(r),n.label(o,f),f++);return u};n.prototype.deleteCutEdges=function(){var r,u,t,f,e;for(this.computeNextCWEdges(),n.findLabeledEdgeRings(this.dirEdges),r=new i,u=this.dirEdges.iterator();u.hasNext();)t=u.next(),t.isMarked()||(f=t.getSym(),t.getLabel()==f.getLabel()&&(t.setMarked(!0),f.setMarked(!0),e=t.getEdge(),r.add(e.getLine())));return r};n.label=function(n,t){for(var r,i=n.iterator();i.hasNext();)r=i.next(),r.setLabel(t)};n.computeNextCWEdges=function(n){for(var i,r,e=n.getOutEdges(),u=null,t=null,f=e.getEdges().iterator();f.hasNext();)i=f.next(),i.isMarked()||((null==u&&(u=i),null!=t)&&(r=t.getSym(),r.setNext(i)),t=i);null!=t&&(r=t.getSym(),r.setNext(u))};n.computeNextCCWEdges=function(n,i){for(var f,l=n.getOutEdges(),e=null,r=null,h=l.getEdges(),o=h.size()-1;o>=0;o--){var s=h.get(o),c=s.getSym(),u=null;s.getLabel()==i&&(u=s);f=null;c.getLabel()==i&&(f=c);(null!=u||null!=f)&&(null!=f&&(r=f),null!=u&&(null!=r&&(r.setNext(u),r=null),null==e&&(e=u)))}null!=r&&(t.isTrue(null!=e),r.setNext(e))};n.findDirEdgesInRing=function(n){var r=n,u=new i;do u.add(r),r=r.getNext(),t.isTrue(null!=r,"found null DE in ring"),t.isTrue(r==n||!r.isInRing(),"found DE already in ring");while(r!=n);return u};n.prototype.findEdgeRing=function(n){var i=n,r=new o(this.factory);do r.add(i),i.setRing(r),i=i.getNext(),t.isTrue(null!=i,"found null DE in ring"),t.isTrue(i==n||!i.isInRing(),"found DE already in ring");while(i!=n);return r};n.prototype.deleteDangles=function(){for(var u,c,i,o,l,s,a=this.findNodesOfDegree(1),h=new e,r=new f,t=a.iterator();t.hasNext();)r.push(t.next());for(;!r.isEmpty();)for(u=r.pop(),n.deleteAllEdges(u),c=u.getOutEdges().getEdges(),t=c.iterator();t.hasNext();)i=t.next(),i.setMarked(!0),o=i.getSym(),null!=o&&o.setMarked(!0),l=i.getEdge(),h.add(l.getLine()),s=i.getToNode(),1==n.getDegreeNonDeleted(s)&&r.push(s);return h};n.prototype.computeDepthParity=function(){for(;;){var n=null;if(null==n)return;this.computeDepthParity(n)}};n.prototype.computeDepthParity=function(){};jsts.operation.polygonize.PolygonizeGraph=n}();jsts.index.strtree.Interval=function(){var n;return 1===arguments.length?(n=arguments[0],jsts.index.strtree.Interval(n.min,n.max)):void(2===arguments.length&&(jsts.util.Assert.isTrue(this.min<=this.max),this.min=arguments[0],this.max=arguments[1]))};jsts.index.strtree.Interval.prototype.min=null;jsts.index.strtree.Interval.prototype.max=null;jsts.index.strtree.Interval.prototype.getCentre=function(){return(this.min+this.max)/2};jsts.index.strtree.Interval.prototype.expandToInclude=function(n){return this.max=Math.max(this.max,n.max),this.min=Math.min(this.min,n.min),this};jsts.index.strtree.Interval.prototype.intersects=function(n){return!(n.min>this.max||n.max<this.min)};jsts.index.strtree.Interval.prototype.equals=function(n){return n instanceof jsts.index.strtree.Interval?(other=n,this.min===other.min&&this.max===other.max):!1};jsts.geom.GeometryFactory=function(n){this.precisionModel=n||new jsts.geom.PrecisionModel};jsts.geom.GeometryFactory.prototype.precisionModel=null;jsts.geom.GeometryFactory.prototype.getPrecisionModel=function(){return this.precisionModel};jsts.geom.GeometryFactory.prototype.createPoint=function(n){return new jsts.geom.Point(n,this)};jsts.geom.GeometryFactory.prototype.createLineString=function(n){return new jsts.geom.LineString(n,this)};jsts.geom.GeometryFactory.prototype.createLinearRing=function(n){return new jsts.geom.LinearRing(n,this)};jsts.geom.GeometryFactory.prototype.createPolygon=function(n,t){return new jsts.geom.Polygon(n,t,this)};jsts.geom.GeometryFactory.prototype.createMultiPoint=function(n){if(n&&n[0]instanceof jsts.geom.Coordinate){for(var i=[],t=0;t<n.length;t++)i.push(this.createPoint(n[t]));n=i}return new jsts.geom.MultiPoint(n,this)};jsts.geom.GeometryFactory.prototype.createMultiLineString=function(n){return new jsts.geom.MultiLineString(n,this)};jsts.geom.GeometryFactory.prototype.createMultiPolygon=function(n){return new jsts.geom.MultiPolygon(n,this)};jsts.geom.GeometryFactory.prototype.buildGeometry=function(n){for(var r,u,t,s,i=null,f=!1,e=!1,o=n.iterator();o.hasNext();)r=o.next(),u=r.CLASS_NAME,null===i&&(i=u),u!==i&&(f=!0),r.isGeometryCollectionBase()&&(e=!0);if(null===i)return this.createGeometryCollection(null);if(f||e)return this.createGeometryCollection(n.toArray());if(t=n.get(0),s=n.size()>1,s){if(t instanceof jsts.geom.Polygon)return this.createMultiPolygon(n.toArray());if(t instanceof jsts.geom.LineString)return this.createMultiLineString(n.toArray());if(t instanceof jsts.geom.Point)return this.createMultiPoint(n.toArray());jsts.util.Assert.shouldNeverReachHere("Unhandled class: "+t)}return t};jsts.geom.GeometryFactory.prototype.createGeometryCollection=function(n){return new jsts.geom.GeometryCollection(n,this)};jsts.geom.GeometryFactory.prototype.toGeometry=function(n){return n.isNull()?this.createPoint(null):n.getMinX()===n.getMaxX()&&n.getMinY()===n.getMaxY()?this.createPoint(new jsts.geom.Coordinate(n.getMinX(),n.getMinY())):n.getMinX()===n.getMaxX()||n.getMinY()===n.getMaxY()?this.createLineString([new jsts.geom.Coordinate(n.getMinX(),n.getMinY()),new jsts.geom.Coordinate(n.getMaxX(),n.getMaxY())]):this.createPolygon(this.createLinearRing([new jsts.geom.Coordinate(n.getMinX(),n.getMinY()),new jsts.geom.Coordinate(n.getMinX(),n.getMaxY()),new jsts.geom.Coordinate(n.getMaxX(),n.getMaxY()),new jsts.geom.Coordinate(n.getMaxX(),n.getMinY()),new jsts.geom.Coordinate(n.getMinX(),n.getMinY())]),null)};jsts.geomgraph.NodeFactory=function(){};jsts.geomgraph.NodeFactory.prototype.createNode=function(n){return new jsts.geomgraph.Node(n,null)},function(){jsts.geomgraph.Position=function(){};jsts.geomgraph.Position.ON=0;jsts.geomgraph.Position.LEFT=1;jsts.geomgraph.Position.RIGHT=2;jsts.geomgraph.Position.opposite=function(n){return n===jsts.geomgraph.Position.LEFT?jsts.geomgraph.Position.RIGHT:n===jsts.geomgraph.Position.RIGHT?jsts.geomgraph.Position.LEFT:n}}();jsts.geomgraph.TopologyLocation=function(){var t,n,i,r;if(this.location=[],3===arguments.length){var i=arguments[0],u=arguments[1],f=arguments[2];this.init(3);this.location[jsts.geomgraph.Position.ON]=i;this.location[jsts.geomgraph.Position.LEFT]=u;this.location[jsts.geomgraph.Position.RIGHT]=f}else if(arguments[0]instanceof jsts.geomgraph.TopologyLocation){if(t=arguments[0],this.init(t.location.length),null!=t)for(n=0;n<this.location.length;n++)this.location[n]=t.location[n]}else"number"==typeof arguments[0]?(i=arguments[0],this.init(1),this.location[jsts.geomgraph.Position.ON]=i):arguments[0]instanceof Array&&(r=arguments[0],this.init(r.length))};jsts.geomgraph.TopologyLocation.prototype.location=null;jsts.geomgraph.TopologyLocation.prototype.init=function(n){this.location[n-1]=null;this.setAllLocations(jsts.geom.Location.NONE)};jsts.geomgraph.TopologyLocation.prototype.get=function(n){return n<this.location.length?this.location[n]:jsts.geom.Location.NONE};jsts.geomgraph.TopologyLocation.prototype.isNull=function(){for(var n=0;n<this.location.length;n++)if(this.location[n]!==jsts.geom.Location.NONE)return!1;return!0};jsts.geomgraph.TopologyLocation.prototype.isAnyNull=function(){for(var n=0;n<this.location.length;n++)if(this.location[n]===jsts.geom.Location.NONE)return!0;return!1};jsts.geomgraph.TopologyLocation.prototype.isEqualOnSide=function(n,t){return this.location[t]==n.location[t]};jsts.geomgraph.TopologyLocation.prototype.isArea=function(){return this.location.length>1};jsts.geomgraph.TopologyLocation.prototype.isLine=function(){return 1===this.location.length};jsts.geomgraph.TopologyLocation.prototype.flip=function(){if(!(this.location.length<=1)){var n=this.location[jsts.geomgraph.Position.LEFT];this.location[jsts.geomgraph.Position.LEFT]=this.location[jsts.geomgraph.Position.RIGHT];this.location[jsts.geomgraph.Position.RIGHT]=n}};jsts.geomgraph.TopologyLocation.prototype.setAllLocations=function(n){for(var t=0;t<this.location.length;t++)this.location[t]=n};jsts.geomgraph.TopologyLocation.prototype.setAllLocationsIfNull=function(n){for(var t=0;t<this.location.length;t++)this.location[t]===jsts.geom.Location.NONE&&(this.location[t]=n)};jsts.geomgraph.TopologyLocation.prototype.setLocation=function(n,t){void 0!==t?this.location[n]=t:this.setLocation(jsts.geomgraph.Position.ON,n)};jsts.geomgraph.TopologyLocation.prototype.getLocations=function(){return location};jsts.geomgraph.TopologyLocation.prototype.setLocations=function(n,t,i){this.location[jsts.geomgraph.Position.ON]=n;this.location[jsts.geomgraph.Position.LEFT]=t;this.location[jsts.geomgraph.Position.RIGHT]=i};jsts.geomgraph.TopologyLocation.prototype.allPositionsEqual=function(n){for(var t=0;t<this.location.length;t++)if(this.location[t]!==n)return!1;return!0};jsts.geomgraph.TopologyLocation.prototype.merge=function(n){var i,t;for(n.location.length>this.location.length&&(i=[],i[jsts.geomgraph.Position.ON]=this.location[jsts.geomgraph.Position.ON],i[jsts.geomgraph.Position.LEFT]=jsts.geom.Location.NONE,i[jsts.geomgraph.Position.RIGHT]=jsts.geom.Location.NONE,this.location=i),t=0;t<this.location.length;t++)this.location[t]===jsts.geom.Location.NONE&&t<n.location.length&&(this.location[t]=n.location[t])};jsts.geomgraph.Label=function(){this.elt=[];var r,n,t,u,i;4===arguments.length?(r=arguments[0],n=arguments[1],t=arguments[2],i=arguments[3],this.elt[0]=new jsts.geomgraph.TopologyLocation(jsts.geom.Location.NONE,jsts.geom.Location.NONE,jsts.geom.Location.NONE),this.elt[1]=new jsts.geomgraph.TopologyLocation(jsts.geom.Location.NONE,jsts.geom.Location.NONE,jsts.geom.Location.NONE),this.elt[r].setLocations(n,t,i)):3===arguments.length?(n=arguments[0],t=arguments[1],i=arguments[2],this.elt[0]=new jsts.geomgraph.TopologyLocation(n,t,i),this.elt[1]=new jsts.geomgraph.TopologyLocation(n,t,i)):2===arguments.length?(r=arguments[0],n=arguments[1],this.elt[0]=new jsts.geomgraph.TopologyLocation(jsts.geom.Location.NONE),this.elt[1]=new jsts.geomgraph.TopologyLocation(jsts.geom.Location.NONE),this.elt[r].setLocation(n)):arguments[0]instanceof jsts.geomgraph.Label?(u=arguments[0],this.elt[0]=new jsts.geomgraph.TopologyLocation(u.elt[0]),this.elt[1]=new jsts.geomgraph.TopologyLocation(u.elt[1])):"number"==typeof arguments[0]&&(n=arguments[0],this.elt[0]=new jsts.geomgraph.TopologyLocation(n),this.elt[1]=new jsts.geomgraph.TopologyLocation(n))};jsts.geomgraph.Label.toLineLabel=function(n){for(var i=new jsts.geomgraph.Label(jsts.geom.Location.NONE),t=0;2>t;t++)i.setLocation(t,n.getLocation(t));return i};jsts.geomgraph.Label.prototype.elt=null;jsts.geomgraph.Label.prototype.flip=function(){this.elt[0].flip();this.elt[1].flip()};jsts.geomgraph.Label.prototype.getLocation=function(n,t){return 1==arguments.length?this.getLocation2.apply(this,arguments):this.elt[n].get(t)};jsts.geomgraph.Label.prototype.getLocation2=function(n){return this.elt[n].get(jsts.geomgraph.Position.ON)};jsts.geomgraph.Label.prototype.setLocation=function(n,t,i){return 2==arguments.length?void this.setLocation2.apply(this,arguments):void this.elt[n].setLocation(t,i)};jsts.geomgraph.Label.prototype.setLocation2=function(n,t){this.elt[n].setLocation(jsts.geomgraph.Position.ON,t)};jsts.geomgraph.Label.prototype.setAllLocations=function(n,t){this.elt[n].setAllLocations(t)};jsts.geomgraph.Label.prototype.setAllLocationsIfNull=function(n,t){return 1==arguments.length?void this.setAllLocationsIfNull2.apply(this,arguments):void this.elt[n].setAllLocationsIfNull(t)};jsts.geomgraph.Label.prototype.setAllLocationsIfNull2=function(n){this.setAllLocationsIfNull(0,n);this.setAllLocationsIfNull(1,n)};jsts.geomgraph.Label.prototype.merge=function(n){for(var t=0;2>t;t++)null===this.elt[t]&&null!==n.elt[t]?this.elt[t]=new jsts.geomgraph.TopologyLocation(n.elt[t]):this.elt[t].merge(n.elt[t])};jsts.geomgraph.Label.prototype.getGeometryCount=function(){var n=0;return this.elt[0].isNull()||n++,this.elt[1].isNull()||n++,n};jsts.geomgraph.Label.prototype.isNull=function(n){return this.elt[n].isNull()};jsts.geomgraph.Label.prototype.isAnyNull=function(n){return this.elt[n].isAnyNull()};jsts.geomgraph.Label.prototype.isArea=function(){return 1==arguments.length?this.isArea2(arguments[0]):this.elt[0].isArea()||this.elt[1].isArea()};jsts.geomgraph.Label.prototype.isArea2=function(n){return this.elt[n].isArea()};jsts.geomgraph.Label.prototype.isLine=function(n){return this.elt[n].isLine()};jsts.geomgraph.Label.prototype.isEqualOnSide=function(n,t){return this.elt[0].isEqualOnSide(n.elt[0],t)&&this.elt[1].isEqualOnSide(n.elt[1],t)};jsts.geomgraph.Label.prototype.allPositionsEqual=function(n,t){return this.elt[n].allPositionsEqual(t)};jsts.geomgraph.Label.prototype.toLine=function(n){this.elt[n].isArea()&&(this.elt[n]=new jsts.geomgraph.TopologyLocation(this.elt[n].location[0]))};jsts.geomgraph.EdgeRing=function(n,t){this.edges=[];this.pts=[];this.holes=[];this.label=new jsts.geomgraph.Label(jsts.geom.Location.NONE);this.geometryFactory=t;n&&(this.computePoints(n),this.computeRing())};jsts.geomgraph.EdgeRing.prototype.startDe=null;jsts.geomgraph.EdgeRing.prototype.maxNodeDegree=-1;jsts.geomgraph.EdgeRing.prototype.edges=null;jsts.geomgraph.EdgeRing.prototype.pts=null;jsts.geomgraph.EdgeRing.prototype.label=null;jsts.geomgraph.EdgeRing.prototype.ring=null;jsts.geomgraph.EdgeRing.prototype._isHole=null;jsts.geomgraph.EdgeRing.prototype.shell=null;jsts.geomgraph.EdgeRing.prototype.holes=null;jsts.geomgraph.EdgeRing.prototype.geometryFactory=null;jsts.geomgraph.EdgeRing.prototype.isIsolated=function(){return 1==this.label.getGeometryCount()};jsts.geomgraph.EdgeRing.prototype.isHole=function(){return this._isHole};jsts.geomgraph.EdgeRing.prototype.getCoordinate=function(n){return this.pts[n]};jsts.geomgraph.EdgeRing.prototype.getLinearRing=function(){return this.ring};jsts.geomgraph.EdgeRing.prototype.getLabel=function(){return this.label};jsts.geomgraph.EdgeRing.prototype.isShell=function(){return null===this.shell};jsts.geomgraph.EdgeRing.prototype.getShell=function(){return this.shell};jsts.geomgraph.EdgeRing.prototype.setShell=function(n){this.shell=n;null!==n&&n.addHole(this)};jsts.geomgraph.EdgeRing.prototype.addHole=function(n){this.holes.push(n)};jsts.geomgraph.EdgeRing.prototype.toPolygon=function(){for(var t=[],n=0;n<this.holes.length;n++)t[n]=this.holes[n].getLinearRing();return this.geometryFactory.createPolygon(this.getLinearRing(),t)};jsts.geomgraph.EdgeRing.prototype.computeRing=function(){if(null===this.ring){for(var t=[],n=0;n<this.pts.length;n++)t[n]=this.pts[n];this.ring=this.geometryFactory.createLinearRing(t);this._isHole=jsts.algorithm.CGAlgorithms.isCCW(this.ring.getCoordinates())}};jsts.geomgraph.EdgeRing.prototype.getNext=function(){throw new jsts.error.AbstractInvocationError;};jsts.geomgraph.EdgeRing.prototype.setEdgeRing=function(){throw new jsts.error.AbstractInvocationError;};jsts.geomgraph.EdgeRing.prototype.getEdges=function(){return this.edges};jsts.geomgraph.EdgeRing.prototype.computePoints=function(n){var t,i,r;this.startDe=n;t=n;i=!0;do{if(null===t)throw new jsts.error.TopologyError("Found null DirectedEdge");if(t.getEdgeRing()===this)throw new jsts.error.TopologyError("Directed Edge visited twice during ring-building at "+t.getCoordinate());this.edges.push(t);r=t.getLabel();jsts.util.Assert.isTrue(r.isArea());this.mergeLabel(r);this.addPoints(t.getEdge(),t.isForward(),i);i=!1;this.setEdgeRing(t,this);t=this.getNext(t)}while(t!==this.startDe)};jsts.geomgraph.EdgeRing.prototype.getMaxNodeDegree=function(){return this.maxNodeDegree<0&&this.computeMaxNodeDegree(),this.maxNodeDegree};jsts.geomgraph.EdgeRing.prototype.computeMaxNodeDegree=function(){var n,i,t;this.maxNodeDegree=0;n=this.startDe;do i=n.getNode(),t=i.getEdges().getOutgoingDegree(this),t>this.maxNodeDegree&&(this.maxNodeDegree=t),n=this.getNext(n);while(n!==this.startDe);this.maxNodeDegree*=2};jsts.geomgraph.EdgeRing.prototype.setInResult=function(){var n=this.startDe;do n.getEdge().setInResult(!0),n=n.getNext();while(n!=this.startDe)};jsts.geomgraph.EdgeRing.prototype.mergeLabel=function(n){this.mergeLabel2(n,0);this.mergeLabel2(n,1)};jsts.geomgraph.EdgeRing.prototype.mergeLabel2=function(n,t){var i=n.getLocation(t,jsts.geomgraph.Position.RIGHT);if(i!=jsts.geom.Location.NONE){this.label.getLocation(t)===jsts.geom.Location.NONE;return}};jsts.geomgraph.EdgeRing.prototype.addPoints=function(n,t,i){var f=n.getCoordinates(),u,r;if(t)for(u=1,i&&(u=0),r=u;r<f.length;r++)this.pts.push(f[r]);else for(u=f.length-2,i&&(u=f.length-1),r=u;r>=0;r--)this.pts.push(f[r])};jsts.geomgraph.EdgeRing.prototype.containsPoint=function(n){var i=this.getLinearRing(),u=i.getEnvelopeInternal(),t,r;if(!u.contains(n)||!jsts.algorithm.CGAlgorithms.isPointInRing(n,i.getCoordinates()))return!1;for(t=0;t<this.holes.length;t++)if(r=this.holes[t],r.containsPoint(n))return!1;return!0},function(){jsts.geom.LinearRing=function(){jsts.geom.LineString.apply(this,arguments)};jsts.geom.LinearRing.prototype=new jsts.geom.LineString;jsts.geom.LinearRing.constructor=jsts.geom.LinearRing;jsts.geom.LinearRing.prototype.getBoundaryDimension=function(){return jsts.geom.Dimension.FALSE};jsts.geom.LinearRing.prototype.isSimple=function(){return!0};jsts.geom.LinearRing.prototype.getGeometryType=function(){return"LinearRing"};jsts.geom.LinearRing.MINIMUM_VALID_SIZE=4;jsts.geom.LinearRing.prototype.CLASS_NAME="jsts.geom.LinearRing"}();jsts.index.strtree.Boundable=function(){};jsts.index.strtree.Boundable.prototype.getBounds=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.index.strtree.AbstractNode=function(n){this.level=n;this.childBoundables=[]};jsts.index.strtree.AbstractNode.prototype=new jsts.index.strtree.Boundable;jsts.index.strtree.AbstractNode.constructor=jsts.index.strtree.AbstractNode;jsts.index.strtree.AbstractNode.prototype.childBoundables=null;jsts.index.strtree.AbstractNode.prototype.bounds=null;jsts.index.strtree.AbstractNode.prototype.level=null;jsts.index.strtree.AbstractNode.prototype.getChildBoundables=function(){return this.childBoundables};jsts.index.strtree.AbstractNode.prototype.computeBounds=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.index.strtree.AbstractNode.prototype.getBounds=function(){return null===this.bounds&&(this.bounds=this.computeBounds()),this.bounds};jsts.index.strtree.AbstractNode.prototype.getLevel=function(){return this.level};jsts.index.strtree.AbstractNode.prototype.addChildBoundable=function(n){this.childBoundables.push(n)},function(){jsts.noding.Noder=function(){};jsts.noding.Noder.prototype.computeNodes=jsts.abstractFunc;jsts.noding.Noder.prototype.getNodedSubstrings=jsts.abstractFunc}(),function(){var n=jsts.noding.Noder;jsts.noding.SinglePassNoder=function(){};jsts.noding.SinglePassNoder.prototype=new n;jsts.noding.SinglePassNoder.constructor=jsts.noding.SinglePassNoder;jsts.noding.SinglePassNoder.prototype.segInt=null;jsts.noding.SinglePassNoder.prototype.setSegmentIntersector=function(n){this.segInt=n}}();jsts.index.SpatialIndex=function(){};jsts.index.SpatialIndex.prototype.insert=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.index.SpatialIndex.prototype.query=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.index.SpatialIndex.prototype.remove=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.index.strtree.AbstractSTRtree=function(n){void 0!==n&&(this.itemBoundables=[],jsts.util.Assert.isTrue(n>1,"Node capacity must be greater than 1"),this.nodeCapacity=n)};jsts.index.strtree.AbstractSTRtree.IntersectsOp=function(){};jsts.index.strtree.AbstractSTRtree.IntersectsOp.prototype.intersects=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.index.strtree.AbstractSTRtree.prototype.root=null;jsts.index.strtree.AbstractSTRtree.prototype.built=!1;jsts.index.strtree.AbstractSTRtree.prototype.itemBoundables=null;jsts.index.strtree.AbstractSTRtree.prototype.nodeCapacity=null;jsts.index.strtree.AbstractSTRtree.prototype.build=function(){jsts.util.Assert.isTrue(!this.built);this.root=0===this.itemBoundables.length?this.createNode(0):this.createHigherLevels(this.itemBoundables,-1);this.built=!0};jsts.index.strtree.AbstractSTRtree.prototype.createNode=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.index.strtree.AbstractSTRtree.prototype.createParentBoundables=function(n,t){var r,u,i,f;for(jsts.util.Assert.isTrue(!(0===n.length)),r=[],r.push(this.createNode(t)),u=[],i=0;i<n.length;i++)u.push(n[i]);for(u.sort(this.getComparator()),i=0;i<u.length;i++)f=u[i],this.lastNode(r).getChildBoundables().length===this.getNodeCapacity()&&r.push(this.createNode(t)),this.lastNode(r).addChildBoundable(f);return r};jsts.index.strtree.AbstractSTRtree.prototype.lastNode=function(n){return n[n.length-1]};jsts.index.strtree.AbstractSTRtree.prototype.compareDoubles=function(n,t){return n>t?1:t>n?-1:0};jsts.index.strtree.AbstractSTRtree.prototype.createHigherLevels=function(n,t){jsts.util.Assert.isTrue(!(0===n.length));var i=this.createParentBoundables(n,t+1);return 1===i.length?i[0]:this.createHigherLevels(i,t+1)};jsts.index.strtree.AbstractSTRtree.prototype.getRoot=function(){return this.built||this.build(),this.root};jsts.index.strtree.AbstractSTRtree.prototype.getNodeCapacity=function(){return this.nodeCapacity};jsts.index.strtree.AbstractSTRtree.prototype.size=function(){return 1===arguments.length?this.size2(arguments[0]):(this.built||this.build(),0===this.itemBoundables.length?0:this.size2(root))};jsts.index.strtree.AbstractSTRtree.prototype.size2=function(n){for(var t,i=0,u=n.getChildBoundables(),r=0;r<u.length;r++)t=u[r],t instanceof jsts.index.strtree.AbstractNode?i+=this.size(t):t instanceof jsts.index.strtree.ItemBoundable&&(i+=1);return i};jsts.index.strtree.AbstractSTRtree.prototype.depth=function(){return 1===arguments.length?this.depth2(arguments[0]):(this.built||this.build(),0===this.itemBoundables.length?0:this.depth2(root))};jsts.index.strtree.AbstractSTRtree.prototype.depth2=function(){for(var i,r,n=0,u=node.getChildBoundables(),t=0;t<u.length;t++)i=u[t],i instanceof jsts.index.strtree.AbstractNode&&(r=this.depth(i),r>n&&(n=r));return n+1};jsts.index.strtree.AbstractSTRtree.prototype.insert=function(n,t){jsts.util.Assert.isTrue(!this.built,"Cannot insert items into an STR packed R-tree after it has been built.");this.itemBoundables.push(new jsts.index.strtree.ItemBoundable(n,t))};jsts.index.strtree.AbstractSTRtree.prototype.query=function(n){arguments.length>1&&this.query2.apply(this,arguments);this.built||this.build();var t=[];return 0===this.itemBoundables.length?(jsts.util.Assert.isTrue(null===this.root.getBounds()),t):(this.getIntersectsOp().intersects(this.root.getBounds(),n)&&this.query3(n,this.root,t),t)};jsts.index.strtree.AbstractSTRtree.prototype.query2=function(n,t){arguments.length>2&&this.query3.apply(this,arguments);this.built||this.build();0===this.itemBoundables.length&&jsts.util.Assert.isTrue(null===this.root.getBounds());this.getIntersectsOp().intersects(this.root.getBounds(),n)&&this.query4(n,this.root,t)};jsts.index.strtree.AbstractSTRtree.prototype.query3=function(n,t,i){var f,u,r;for(arguments[2]instanceof Array||this.query4.apply(this,arguments),f=t.getChildBoundables(),u=0;u<f.length;u++)r=f[u],this.getIntersectsOp().intersects(r.getBounds(),n)&&(r instanceof jsts.index.strtree.AbstractNode?this.query3(n,r,i):r instanceof jsts.index.strtree.ItemBoundable?i.push(r.getItem()):jsts.util.Assert.shouldNeverReachHere())};jsts.index.strtree.AbstractSTRtree.prototype.query4=function(n,t,i){for(var r,f=t.getChildBoundables(),u=0;u<f.length;u++)r=f[u],this.getIntersectsOp().intersects(r.getBounds(),n)&&(r instanceof jsts.index.strtree.AbstractNode?this.query4(n,r,i):r instanceof jsts.index.strtree.ItemBoundable?i.visitItem(r.getItem()):jsts.util.Assert.shouldNeverReachHere())};jsts.index.strtree.AbstractSTRtree.prototype.getIntersectsOp=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.index.strtree.AbstractSTRtree.prototype.itemsTree=function(){if(1===arguments.length)return this.itemsTree2.apply(this,arguments);this.built||this.build();var n=this.itemsTree2(this.root);return null===n?[]:n};jsts.index.strtree.AbstractSTRtree.prototype.itemsTree2=function(n){for(var t,u,i=[],f=n.getChildBoundables(),r=0;r<f.length;r++)t=f[r],t instanceof jsts.index.strtree.AbstractNode?(u=this.itemsTree(t),null!=u&&i.push(u)):t instanceof jsts.index.strtree.ItemBoundable?i.push(t.getItem()):jsts.util.Assert.shouldNeverReachHere();return i.length<=0?null:i};jsts.index.strtree.AbstractSTRtree.prototype.remove=function(n,t){return this.built||this.build(),0===this.itemBoundables.length&&jsts.util.Assert.isTrue(null==this.root.getBounds()),this.getIntersectsOp().intersects(this.root.getBounds(),n)?this.remove2(n,this.root,t):!1};jsts.index.strtree.AbstractSTRtree.prototype.remove2=function(n,t,i){var e=this.removeItem(t,i),r;if(e)return!0;for(var u=null,f=t.getChildBoundables(),o=0;o<f.length;o++)if(r=f[o],this.getIntersectsOp().intersects(r.getBounds(),n)&&r instanceof jsts.index.strtree.AbstractNode&&(e=this.remove(n,r,i))){u=r;break}return null!=u&&0===u.getChildBoundables().length&&f.splice(f.indexOf(u),1),e};jsts.index.strtree.AbstractSTRtree.prototype.removeItem=function(n,t){for(var r,u=null,i=n.getChildBoundables(),f=0;f<i.length;f++)r=i[f],r instanceof jsts.index.strtree.ItemBoundable&&r.getItem()===t&&(u=r);return null!==u?(i.splice(i.indexOf(u),1),!0):!1};jsts.index.strtree.AbstractSTRtree.prototype.boundablesAtLevel=function(n){if(arguments.length>1)return void this.boundablesAtLevel2.apply(this,arguments);var t=[];return this.boundablesAtLevel2(n,this.root,t),t};jsts.index.strtree.AbstractSTRtree.prototype.boundablesAtLevel2=function(n,t,i){var f,u,r;if(jsts.util.Assert.isTrue(n>-2),t.getLevel()===n)return void i.add(t);for(f=node.getChildBoundables(),u=0;u<f.length;u++)r=f[u],r instanceof jsts.index.strtree.AbstractNode?this.boundablesAtLevel(n,r,i):(jsts.util.Assert.isTrue(r instanceof jsts.index.strtree.ItemBoundable),-1===n&&i.add(r))};jsts.index.strtree.AbstractSTRtree.prototype.getComparator=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.index.strtree.STRtree=function(n){n=n||jsts.index.strtree.STRtree.DEFAULT_NODE_CAPACITY;jsts.index.strtree.AbstractSTRtree.call(this,n)};jsts.index.strtree.STRtree.prototype=new jsts.index.strtree.AbstractSTRtree;jsts.index.strtree.STRtree.constructor=jsts.index.strtree.STRtree;jsts.index.strtree.STRtree.prototype.xComparator=function(n,t){return jsts.index.strtree.AbstractSTRtree.prototype.compareDoubles(jsts.index.strtree.STRtree.prototype.centreX(n.getBounds()),jsts.index.strtree.STRtree.prototype.centreX(t.getBounds()))};jsts.index.strtree.STRtree.prototype.yComparator=function(n,t){return jsts.index.strtree.AbstractSTRtree.prototype.compareDoubles(jsts.index.strtree.STRtree.prototype.centreY(n.getBounds()),jsts.index.strtree.STRtree.prototype.centreY(t.getBounds()))};jsts.index.strtree.STRtree.prototype.centreX=function(n){return jsts.index.strtree.STRtree.prototype.avg(n.getMinX(),n.getMaxX())};jsts.index.strtree.STRtree.prototype.centreY=function(n){return jsts.index.strtree.STRtree.prototype.avg(n.getMinY(),n.getMaxY())};jsts.index.strtree.STRtree.prototype.avg=function(n,t){return(n+t)/2};jsts.index.strtree.STRtree.prototype.intersectsOp={intersects:function(n,t){return n.intersects(t)}};jsts.index.strtree.STRtree.prototype.createParentBoundables=function(n,t){var u;jsts.util.Assert.isTrue(!(0===n.length));for(var f=Math.ceil(n.length/this.getNodeCapacity()),i=[],r=0;r<n.length;r++)i.push(n[r]);return i.sort(this.xComparator),u=this.verticalSlices(i,Math.ceil(Math.sqrt(f))),this.createParentBoundablesFromVerticalSlices(u,t)};jsts.index.strtree.STRtree.prototype.createParentBoundablesFromVerticalSlices=function(n,t){jsts.util.Assert.isTrue(n.length>0);for(var i=[],r=0;r<n.length;r++)i=i.concat(this.createParentBoundablesFromVerticalSlice(n[r],t));return i};jsts.index.strtree.STRtree.prototype.createParentBoundablesFromVerticalSlice=function(n,t){return jsts.index.strtree.AbstractSTRtree.prototype.createParentBoundables.call(this,n,t)};jsts.index.strtree.STRtree.prototype.verticalSlices=function(n,t){for(var r,f,o=Math.ceil(n.length/t),u=[],e=0,i=0;t>i;i++)for(u[i]=[],r=0;e<n.length&&o>r;)f=n[e++],u[i].push(f),r++;return u};jsts.index.strtree.STRtree.DEFAULT_NODE_CAPACITY=10;jsts.index.strtree.STRtree.prototype.createNode=function(n){var t=new jsts.index.strtree.AbstractNode(n);return t.computeBounds=function(){for(var i,n=null,r=this.getChildBoundables(),t=0;t<r.length;t++)i=r[t],null===n?n=new jsts.geom.Envelope(i.getBounds()):n.expandToInclude(i.getBounds());return n},t};jsts.index.strtree.STRtree.prototype.getIntersectsOp=function(){return this.intersectsOp};jsts.index.strtree.STRtree.prototype.insert=function(n,t){n.isNull()||jsts.index.strtree.AbstractSTRtree.prototype.insert.call(this,n,t)};jsts.index.strtree.STRtree.prototype.query=function(){return jsts.index.strtree.AbstractSTRtree.prototype.query.apply(this,arguments)};jsts.index.strtree.STRtree.prototype.remove=function(n,t){return jsts.index.strtree.AbstractSTRtree.prototype.remove.call(this,n,t)};jsts.index.strtree.STRtree.prototype.size=function(){return jsts.index.strtree.AbstractSTRtree.prototype.size.call(this)};jsts.index.strtree.STRtree.prototype.depth=function(){return jsts.index.strtree.AbstractSTRtree.prototype.depth.call(this)};jsts.index.strtree.STRtree.prototype.getComparator=function(){return this.yComparator};jsts.index.strtree.STRtree.prototype.nearestNeighbour=function(n){var t=new jsts.index.strtree.BoundablePair(this.getRoot(),this.getRoot(),n);return this.nearestNeighbour4(t)};jsts.index.strtree.STRtree.prototype.nearestNeighbour2=function(n,t,i){var r=new jsts.index.strtree.ItemBoundable(n,t),u=new jsts.index.strtree.BoundablePair(this.getRoot(),r,i);return this.nearestNeighbour4(u)[0]};jsts.index.strtree.STRtree.prototype.nearestNeighbour3=function(n,t){var i=new jsts.index.strtree.BoundablePair(this.getRoot(),n.getRoot(),t);return this.nearestNeighbour4(i)};jsts.index.strtree.STRtree.prototype.nearestNeighbour4=function(n){return this.nearestNeighbour5(n,Double.POSITIVE_INFINITY)};jsts.index.strtree.STRtree.prototype.nearestNeighbour5=function(n,t){var r=t,f=null,u=[],i,e;for(u.push(n);!u.isEmpty()&&r>0;){if(i=u.pop(),e=i.getDistance(),e>=r)break;i.isLeaves()?(r=e,f=i):i.expandToQueue(u,r)}return[f.getBoundable(0).getItem(),f.getBoundable(1).getItem()]};jsts.noding.SegmentString=function(){};jsts.noding.SegmentString.prototype.getData=jsts.abstractFunc;jsts.noding.SegmentString.prototype.setData=jsts.abstractFunc;jsts.noding.SegmentString.prototype.size=jsts.abstractFunc;jsts.noding.SegmentString.prototype.getCoordinate=jsts.abstractFunc;jsts.noding.SegmentString.prototype.getCoordinates=jsts.abstractFunc;jsts.noding.SegmentString.prototype.isClosed=jsts.abstractFunc;jsts.noding.NodableSegmentString=function(){};jsts.noding.NodableSegmentString.prototype=new jsts.noding.SegmentString;jsts.noding.NodableSegmentString.prototype.addIntersection=jsts.abstractFunc;jsts.noding.NodedSegmentString=function(n,t){this.nodeList=new jsts.noding.SegmentNodeList(this);this.pts=n;this.data=t};jsts.noding.NodedSegmentString.prototype=new jsts.noding.NodableSegmentString;jsts.noding.NodedSegmentString.constructor=jsts.noding.NodedSegmentString;jsts.noding.NodedSegmentString.getNodedSubstrings=function(n){if(2===arguments.length)return void jsts.noding.NodedSegmentString.getNodedSubstrings2.apply(this,arguments);var t=new javascript.util.ArrayList;return jsts.noding.NodedSegmentString.getNodedSubstrings2(n,t),t};jsts.noding.NodedSegmentString.getNodedSubstrings2=function(n,t){for(var r,i=n.iterator();i.hasNext();)r=i.next(),r.getNodeList().addSplitEdges(t)};jsts.noding.NodedSegmentString.prototype.nodeList=null;jsts.noding.NodedSegmentString.prototype.pts=null;jsts.noding.NodedSegmentString.prototype.data=null;jsts.noding.NodedSegmentString.prototype.getData=function(){return this.data};jsts.noding.NodedSegmentString.prototype.setData=function(n){this.data=n};jsts.noding.NodedSegmentString.prototype.getNodeList=function(){return this.nodeList};jsts.noding.NodedSegmentString.prototype.size=function(){return this.pts.length};jsts.noding.NodedSegmentString.prototype.getCoordinate=function(n){return this.pts[n]};jsts.noding.NodedSegmentString.prototype.getCoordinates=function(){return this.pts};jsts.noding.NodedSegmentString.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])};jsts.noding.NodedSegmentString.prototype.getSegmentOctant=function(n){return n===this.pts.length-1?-1:this.safeOctant(this.getCoordinate(n),this.getCoordinate(n+1))};jsts.noding.NodedSegmentString.prototype.safeOctant=function(n,t){return n.equals2D(t)?0:jsts.noding.Octant.octant(n,t)};jsts.noding.NodedSegmentString.prototype.addIntersections=function(n,t,i){for(var r=0;r<n.getIntersectionNum();r++)this.addIntersection(n,t,i,r)};jsts.noding.NodedSegmentString.prototype.addIntersection=function(n,t,i,r){if(n instanceof jsts.geom.Coordinate)return void this.addIntersection2.apply(this,arguments);var u=new jsts.geom.Coordinate(n.getIntersection(r));this.addIntersection2(u,t)};jsts.noding.NodedSegmentString.prototype.addIntersection2=function(n,t){this.addIntersectionNode(n,t)};jsts.noding.NodedSegmentString.prototype.addIntersectionNode=function(n,t){var i=t,r=i+1,u;return r<this.pts.length&&(u=this.pts[r],n.equals2D(u)&&(i=r)),this.nodeList.add(n,i)};jsts.noding.NodedSegmentString.prototype.toString=function(){var n=new jsts.geom.GeometryFactory;return(new jsts.io.WKTWriter).write(n.createLineString(this.pts))};jsts.index.chain.MonotoneChainBuilder=function(){};jsts.index.chain.MonotoneChainBuilder.toIntArray=function(n){for(var i=[],t=0;t<n.length;t++)i[t]=n[t];return i};jsts.index.chain.MonotoneChainBuilder.getChains=function(n){return 2===arguments.length?jsts.index.chain.MonotoneChainBuilder.getChains2.apply(this,arguments):jsts.index.chain.MonotoneChainBuilder.getChains2(n,null)};jsts.index.chain.MonotoneChainBuilder.getChains2=function(n,t){for(var f,u=[],r=jsts.index.chain.MonotoneChainBuilder.getChainStartIndices(n),i=0;i<r.length-1;i++)f=new jsts.index.chain.MonotoneChain(n,r[i],r[i+1],t),u.push(f);return u};jsts.index.chain.MonotoneChainBuilder.getChainStartIndices=function(n){var t=0,i=[],r;i.push(t);do r=jsts.index.chain.MonotoneChainBuilder.findChainEnd(n,t),i.push(r),t=r;while(t<n.length-1);return jsts.index.chain.MonotoneChainBuilder.toIntArray(i)};jsts.index.chain.MonotoneChainBuilder.findChainEnd=function(n,t){for(var u,r,f,i=t;i<n.length-1&&n[i].equals2D(n[i+1]);)i++;if(i>=n.length-1)return n.length-1;for(u=jsts.geomgraph.Quadrant.quadrant(n[i],n[i+1]),r=t+1;r<n.length;){if(!n[r-1].equals2D(n[r])&&(f=jsts.geomgraph.Quadrant.quadrant(n[r-1],n[r]),f!==u))break;r++}return r-1};jsts.algorithm.LineIntersector=function(){this.inputLines=[[],[]];this.intPt=[null,null];this.pa=this.intPt[0];this.pb=this.intPt[1];this.result=jsts.algorithm.LineIntersector.NO_INTERSECTION};jsts.algorithm.LineIntersector.NO_INTERSECTION=0;jsts.algorithm.LineIntersector.POINT_INTERSECTION=1;jsts.algorithm.LineIntersector.COLLINEAR_INTERSECTION=2;jsts.algorithm.LineIntersector.prototype.setPrecisionModel=function(n){this.precisionModel=n};jsts.algorithm.LineIntersector.prototype.getEndpoint=function(n,t){return this.inputLines[n][t]};jsts.algorithm.LineIntersector.computeEdgeDistance=function(n,t,i){var u=Math.abs(i.x-t.x),f=Math.abs(i.y-t.y),r=-1,e,o;if(n.equals(t)?r=0:n.equals(i)?r=u>f?u:f:(e=Math.abs(n.x-t.x),o=Math.abs(n.y-t.y),r=u>f?e:o,0!==r||n.equals(t)||(r=Math.max(e,o))),0===r&&!n.equals(t))throw new jsts.error.IllegalArgumentError("Bad distance calculation");return r};jsts.algorithm.LineIntersector.nonRobustComputeEdgeDistance=function(n,t){var i=n.x-t.x,r=n.y-t.y,u=Math.sqrt(i*i+r*r);if(0!==u||n.equals(t))throw new jsts.error.IllegalArgumentError("Invalid distance calculation");return u};jsts.algorithm.LineIntersector.prototype.result=null;jsts.algorithm.LineIntersector.prototype.inputLines=null;jsts.algorithm.LineIntersector.prototype.intPt=null;jsts.algorithm.LineIntersector.prototype.intLineIndex=null;jsts.algorithm.LineIntersector.prototype._isProper=null;jsts.algorithm.LineIntersector.prototype.pa=null;jsts.algorithm.LineIntersector.prototype.pb=null;jsts.algorithm.LineIntersector.prototype.precisionModel=null;jsts.algorithm.LineIntersector.prototype.computeIntersection=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.algorithm.LineIntersector.prototype.isCollinear=function(){return this.result===jsts.algorithm.LineIntersector.COLLINEAR_INTERSECTION};jsts.algorithm.LineIntersector.prototype.computeIntersection=function(n,t,i,r){this.inputLines[0][0]=n;this.inputLines[0][1]=t;this.inputLines[1][0]=i;this.inputLines[1][1]=r;this.result=this.computeIntersect(n,t,i,r)};jsts.algorithm.LineIntersector.prototype.computeIntersect=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.algorithm.LineIntersector.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper};jsts.algorithm.LineIntersector.prototype.hasIntersection=function(){return this.result!==jsts.algorithm.LineIntersector.NO_INTERSECTION};jsts.algorithm.LineIntersector.prototype.getIntersectionNum=function(){return this.result};jsts.algorithm.LineIntersector.prototype.getIntersection=function(n){return this.intPt[n]};jsts.algorithm.LineIntersector.prototype.computeIntLineIndex=function(){null===this.intLineIndex&&(this.intLineIndex=[[],[]],this.computeIntLineIndex(0),this.computeIntLineIndex(1))};jsts.algorithm.LineIntersector.prototype.isIntersection=function(n){for(var t=0;t<this.result;t++)if(this.intPt[t].equals2D(n))return!0;return!1};jsts.algorithm.LineIntersector.prototype.isInteriorIntersection=function(){return 1===arguments.length?this.isInteriorIntersection2.apply(this,arguments):this.isInteriorIntersection(0)?!0:this.isInteriorIntersection(1)?!0:!1};jsts.algorithm.LineIntersector.prototype.isInteriorIntersection2=function(n){for(var t=0;t<this.result;t++)if(!this.intPt[t].equals2D(this.inputLines[n][0])&&!this.intPt[t].equals2D(this.inputLines[n][1]))return!0;return!1};jsts.algorithm.LineIntersector.prototype.isProper=function(){return this.hasIntersection()&&this._isProper};jsts.algorithm.LineIntersector.prototype.getIntersectionAlongSegment=function(n,t){return this.computeIntLineIndex(),this.intPt[intLineIndex[n][t]]};jsts.algorithm.LineIntersector.prototype.getIndexAlongSegment=function(n,t){return this.computeIntLineIndex(),this.intLineIndex[n][t]};jsts.algorithm.LineIntersector.prototype.computeIntLineIndex=function(n){var t=this.getEdgeDistance(n,0),i=this.getEdgeDistance(n,1);t>i?(this.intLineIndex[n][0]=0,this.intLineIndex[n][1]=1):(this.intLineIndex[n][0]=1,this.intLineIndex[n][1]=0)};jsts.algorithm.LineIntersector.prototype.getEdgeDistance=function(n,t){return jsts.algorithm.LineIntersector.computeEdgeDistance(this.intPt[t],this.inputLines[n][0],this.inputLines[n][1])};jsts.algorithm.RobustLineIntersector=function(){jsts.algorithm.RobustLineIntersector.prototype.constructor.call(this)};jsts.algorithm.RobustLineIntersector.prototype=new jsts.algorithm.LineIntersector;jsts.algorithm.RobustLineIntersector.prototype.computeIntersection=function(n,t,i){return 4===arguments.length?void jsts.algorithm.LineIntersector.prototype.computeIntersection.apply(this,arguments):(this._isProper=!1,jsts.geom.Envelope.intersects(t,i,n)&&0===jsts.algorithm.CGAlgorithms.orientationIndex(t,i,n)&&0===jsts.algorithm.CGAlgorithms.orientationIndex(i,t,n)?(this._isProper=!0,(n.equals(t)||n.equals(i))&&(this._isProper=!1),void(this.result=jsts.algorithm.LineIntersector.POINT_INTERSECTION)):void(this.result=jsts.algorithm.LineIntersector.NO_INTERSECTION))};jsts.algorithm.RobustLineIntersector.prototype.computeIntersect=function(n,t,i,r){var u,f,e,o,s;return(this._isProper=!1,!jsts.geom.Envelope.intersects(n,t,i,r))?jsts.algorithm.LineIntersector.NO_INTERSECTION:(u=jsts.algorithm.CGAlgorithms.orientationIndex(n,t,i),f=jsts.algorithm.CGAlgorithms.orientationIndex(n,t,r),u>0&&f>0||0>u&&0>f)?jsts.algorithm.LineIntersector.NO_INTERSECTION:(e=jsts.algorithm.CGAlgorithms.orientationIndex(i,r,n),o=jsts.algorithm.CGAlgorithms.orientationIndex(i,r,t),e>0&&o>0||0>e&&0>o)?jsts.algorithm.LineIntersector.NO_INTERSECTION:(s=0===u&&0===f&&0===e&&0===o,s?this.computeCollinearIntersection(n,t,i,r):(0===u||0===f||0===e||0===o?(this._isProper=!1,n.equals2D(i)||n.equals2D(r)?this.intPt[0]=n:t.equals2D(i)||t.equals2D(r)?this.intPt[0]=t:0===u?this.intPt[0]=new jsts.geom.Coordinate(i):0===f?this.intPt[0]=new jsts.geom.Coordinate(r):0===e?this.intPt[0]=new jsts.geom.Coordinate(n):0===o&&(this.intPt[0]=new jsts.geom.Coordinate(t))):(this._isProper=!0,this.intPt[0]=this.intersection(n,t,i,r)),jsts.algorithm.LineIntersector.POINT_INTERSECTION))};jsts.algorithm.RobustLineIntersector.prototype.computeCollinearIntersection=function(n,t,i,r){var u=jsts.geom.Envelope.intersects(n,t,i),f=jsts.geom.Envelope.intersects(n,t,r),e=jsts.geom.Envelope.intersects(i,r,n),o=jsts.geom.Envelope.intersects(i,r,t);return u&&f?(this.intPt[0]=i,this.intPt[1]=r,jsts.algorithm.LineIntersector.COLLINEAR_INTERSECTION):e&&o?(this.intPt[0]=n,this.intPt[1]=t,jsts.algorithm.LineIntersector.COLLINEAR_INTERSECTION):u&&e?(this.intPt[0]=i,this.intPt[1]=n,!i.equals(n)||f||o?jsts.algorithm.LineIntersector.COLLINEAR_INTERSECTION:jsts.algorithm.LineIntersector.POINT_INTERSECTION):u&&o?(this.intPt[0]=i,this.intPt[1]=t,!i.equals(t)||f||e?jsts.algorithm.LineIntersector.COLLINEAR_INTERSECTION:jsts.algorithm.LineIntersector.POINT_INTERSECTION):f&&e?(this.intPt[0]=r,this.intPt[1]=n,!r.equals(n)||u||o?jsts.algorithm.LineIntersector.COLLINEAR_INTERSECTION:jsts.algorithm.LineIntersector.POINT_INTERSECTION):f&&o?(this.intPt[0]=r,this.intPt[1]=t,!r.equals(t)||u||e?jsts.algorithm.LineIntersector.COLLINEAR_INTERSECTION:jsts.algorithm.LineIntersector.POINT_INTERSECTION):jsts.algorithm.LineIntersector.NO_INTERSECTION};jsts.algorithm.RobustLineIntersector.prototype.intersection=function(n,t,i,r){var u=this.intersectionWithNormalization(n,t,i,r);return this.isInSegmentEnvelopes(u)||(u=jsts.algorithm.CentralEndpointIntersector.getIntersection(n,t,i,r)),null!==this.precisionModel&&this.precisionModel.makePrecise(u),u};jsts.algorithm.RobustLineIntersector.prototype.intersectionWithNormalization=function(n,t,i,r){var e=new jsts.geom.Coordinate(n),o=new jsts.geom.Coordinate(t),s=new jsts.geom.Coordinate(i),h=new jsts.geom.Coordinate(r),f=new jsts.geom.Coordinate,u;return this.normalizeToEnvCentre(e,o,s,h,f),u=this.safeHCoordinateIntersection(e,o,s,h),u.x+=f.x,u.y+=f.y,u};jsts.algorithm.RobustLineIntersector.prototype.safeHCoordinateIntersection=function(n,t,i,r){var u=null;try{u=jsts.algorithm.HCoordinate.intersection(n,t,i,r)}catch(f){if(!(f instanceof jsts.error.NotRepresentableError))throw f;u=jsts.algorithm.CentralEndpointIntersector.getIntersection(n,t,i,r)}return u};jsts.algorithm.RobustLineIntersector.prototype.normalizeToMinimum=function(n,t,i,r,u){u.x=this.smallestInAbsValue(n.x,t.x,i.x,r.x);u.y=this.smallestInAbsValue(n.y,t.y,i.y,r.y);n.x-=u.x;n.y-=u.y;t.x-=u.x;t.y-=u.y;i.x-=u.x;i.y-=u.y;r.x-=u.x;r.y-=u.y};jsts.algorithm.RobustLineIntersector.prototype.normalizeToEnvCentre=function(n,t,i,r,u){var f=n.x<t.x?n.x:t.x,e=n.y<t.y?n.y:t.y,o=n.x>t.x?n.x:t.x,s=n.y>t.y?n.y:t.y,h=i.x<r.x?i.x:r.x,c=i.y<r.y?i.y:r.y,l=i.x>r.x?i.x:r.x,a=i.y>r.y?i.y:r.y,v=f>h?f:h,y=l>o?o:l,p=e>c?e:c,w=a>s?s:a,b=(v+y)/2,k=(p+w)/2;u.x=b;u.y=k;n.x-=u.x;n.y-=u.y;t.x-=u.x;t.y-=u.y;i.x-=u.x;i.y-=u.y;r.x-=u.x;r.y-=u.y};jsts.algorithm.RobustLineIntersector.prototype.smallestInAbsValue=function(n,t,i,r){var u=n,f=Math.abs(u);return Math.abs(t)<f&&(u=t,f=Math.abs(t)),Math.abs(i)<f&&(u=i,f=Math.abs(i)),Math.abs(r)<f&&(u=r),u};jsts.algorithm.RobustLineIntersector.prototype.isInSegmentEnvelopes=function(n){var t=new jsts.geom.Envelope(this.inputLines[0][0],this.inputLines[0][1]),i=new jsts.geom.Envelope(this.inputLines[1][0],this.inputLines[1][1]);return t.contains(n)&&i.contains(n)};jsts.algorithm.HCoordinate=function(){this.x=0;this.y=0;this.w=1;1===arguments.length?this.initFrom1Coordinate(arguments[0]):2===arguments.length&&arguments[0]instanceof jsts.geom.Coordinate?this.initFrom2Coordinates(arguments[0],arguments[1]):2===arguments.length&&arguments[0]instanceof jsts.algorithm.HCoordinate?this.initFrom2HCoordinates(arguments[0],arguments[1]):2===arguments.length?this.initFromXY(arguments[0],arguments[1]):3===arguments.length?this.initFromXYW(arguments[0],arguments[1],arguments[2]):4===arguments.length&&this.initFromXYW(arguments[0],arguments[1],arguments[2],arguments[3])};jsts.algorithm.HCoordinate.intersection=function(n,t,i,r){var u,f,e,o,s,h,v,y,c,l,a;if(u=n.y-t.y,f=t.x-n.x,e=n.x*t.y-t.x*n.y,o=i.y-r.y,s=r.x-i.x,h=i.x*r.y-r.x*i.y,v=f*h-s*e,y=o*e-u*h,c=u*s-o*f,l=v/c,a=y/c,!isFinite(l)||!isFinite(a))throw new jsts.error.NotRepresentableError;return new jsts.geom.Coordinate(l,a)};jsts.algorithm.HCoordinate.prototype.initFrom1Coordinate=function(n){this.x=n.x;this.y=n.y;this.w=1};jsts.algorithm.HCoordinate.prototype.initFrom2Coordinates=function(n,t){this.x=n.y-t.y;this.y=t.x-n.x;this.w=n.x*t.y-t.x*n.y};jsts.algorithm.HCoordinate.prototype.initFrom2HCoordinates=function(n,t){this.x=n.y*t.w-t.y*n.w;this.y=t.x*n.w-n.x*t.w;this.w=n.x*t.y-t.x*n.y};jsts.algorithm.HCoordinate.prototype.initFromXYW=function(n,t,i){this.x=n;this.y=t;this.w=i};jsts.algorithm.HCoordinate.prototype.initFromXY=function(n,t){this.x=n;this.y=t;this.w=1};jsts.algorithm.HCoordinate.prototype.initFrom4Coordinates=function(n,t,i,r){var u,f,e,o,s,h;u=n.y-t.y;f=t.x-n.x;e=n.x*t.y-t.x*n.y;o=i.y-r.y;s=r.x-i.x;h=i.x*r.y-r.x*i.y;this.x=f*h-s*e;this.y=o*e-u*h;this.w=u*s-o*f};jsts.algorithm.HCoordinate.prototype.getX=function(){var n=this.x/this.w;if(!isFinite(n))throw new jsts.error.NotRepresentableError;return n};jsts.algorithm.HCoordinate.prototype.getY=function(){var n=this.y/this.w;if(!isFinite(n))throw new jsts.error.NotRepresentableError;return n};jsts.algorithm.HCoordinate.prototype.getCoordinate=function(){var n=new jsts.geom.Coordinate;return n.x=this.getX(),n.y=this.getY(),n};jsts.geom.LineSegment=function(){0===arguments.length?(this.p0=new jsts.geom.Coordinate,this.p1=new jsts.geom.Coordinate):1===arguments.length?(this.p0=arguments[0].p0,this.p1=arguments[0].p1):2===arguments.length?(this.p0=arguments[0],this.p1=arguments[1]):4===arguments.length&&(this.p0=new jsts.geom.Coordinate(arguments[0],arguments[1]),this.p1=new jsts.geom.Coordinate(arguments[2],arguments[3]))};jsts.geom.LineSegment.prototype.p0=null;jsts.geom.LineSegment.prototype.p1=null;jsts.geom.LineSegment.midPoint=function(n,t){return new jsts.geom.Coordinate((n.x+t.x)/2,(n.y+t.y)/2)};jsts.geom.LineSegment.prototype.getCoordinate=function(n){return 0===n?this.p0:this.p1};jsts.geom.LineSegment.prototype.getLength=function(){return this.p0.distance(this.p1)};jsts.geom.LineSegment.prototype.isHorizontal=function(){return this.p0.y===this.p1.y};jsts.geom.LineSegment.prototype.isVertical=function(){return this.p0.x===this.p1.x};jsts.geom.LineSegment.prototype.orientationIndex=function(n){return n instanceof jsts.geom.LineSegment?this.orientationIndex1(n):n instanceof jsts.geom.Coordinate?this.orientationIndex2(n):void 0};jsts.geom.LineSegment.prototype.orientationIndex1=function(n){var t=jsts.algorithm.CGAlgorithms.orientationIndex(this.p0,this.p1,n.p0),i=jsts.algorithm.CGAlgorithms.orientationIndex(this.p0,this.p1,n.p1);return t>=0&&i>=0?Math.max(t,i):0>=t&&0>=i?Math.max(t,i):0};jsts.geom.LineSegment.prototype.orientationIndex2=function(n){return jsts.algorithm.CGAlgorithms.orientationIndex(this.p0,this.p1,n)};jsts.geom.LineSegment.prototype.reverse=function(){var n=this.p0;this.p0=this.p1;this.p1=n};jsts.geom.LineSegment.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()};jsts.geom.LineSegment.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)};jsts.geom.LineSegment.prototype.midPoint=function(){return jsts.geom.LineSegment.midPoint(this.p0,this.p1)};jsts.geom.LineSegment.prototype.distance=function(n){return n instanceof jsts.geom.LineSegment?this.distance1(n):n instanceof jsts.geom.Coordinate?this.distance2(n):void 0};jsts.geom.LineSegment.prototype.distance1=function(n){return jsts.algorithm.CGAlgorithms.distanceLineLine(this.p0,this.p1,n.p0,n.p1)};jsts.geom.LineSegment.prototype.distance2=function(n){return jsts.algorithm.CGAlgorithms.distancePointLine(n,this.p0,this.p1)};jsts.geom.LineSegment.prototype.pointAlong=function(n){var t=new jsts.geom.Coordinate;return t.x=this.p0.x+n*(this.p1.x-this.p0.x),t.y=this.p0.y+n*(this.p1.y-this.p0.y),t};jsts.geom.LineSegment.prototype.pointAlongOffset=function(n,t){var o=this.p0.x+n*(this.p1.x-this.p0.x),s=this.p0.y+n*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,r=this.p1.y-this.p0.y,u=Math.sqrt(i*i+r*r),f=0,e=0;if(0!==t){if(0>=u)throw"Cannot compute offset from zero-length line segment";f=t*i/u;e=t*r/u}var h=o-e,c=s+f;return new jsts.geom.Coordinate(h,c)};jsts.geom.LineSegment.prototype.projectionFactor=function(n){if(n.equals(this.p0))return 0;if(n.equals(this.p1))return 1;var t=this.p1.x-this.p0.x,i=this.p1.y-this.p0.y,r=t*t+i*i;return((n.x-this.p0.x)*t+(n.y-this.p0.y)*i)/r};jsts.geom.LineSegment.prototype.segmentFraction=function(n){var t=this.projectionFactor(n);return 0>t?t=0:(t>1||isNaN(t))&&(t=1),t};jsts.geom.LineSegment.prototype.project=function(n){return n instanceof jsts.geom.Coordinate?this.project1(n):n instanceof jsts.geom.LineSegment?this.project2(n):void 0};jsts.geom.LineSegment.prototype.project1=function(n){if(n.equals(this.p0)||n.equals(this.p1))return new jsts.geom.Coordinate(n);var i=this.projectionFactor(n),t=new jsts.geom.Coordinate;return t.x=this.p0.x+i*(this.p1.x-this.p0.x),t.y=this.p0.y+i*(this.p1.y-this.p0.y),t};jsts.geom.LineSegment.prototype.project2=function(n){var t=this.projectionFactor(n.p0),i=this.projectionFactor(n.p1),r,u;return t>=1&&i>=1?null:0>=t&&0>=i?null:(r=this.project(n.p0),0>t&&(r=p0),t>1&&(r=p1),u=this.project(n.p1),0>i&&(u=p0),i>1&&(u=p1),new jsts.geom.LineSegment(r,u))};jsts.geom.LineSegment.prototype.closestPoint=function(n){var t=this.projectionFactor(n),i,r;return t>0&&1>t?this.project(n):(i=this.p0.distance(n),r=this.p1.distance(n),r>i?this.p0:this.p1)};jsts.geom.LineSegment.prototype.closestPoints=function(n){var u=this.intersection(n),f,e,o;if(null!==u)return[u,u];var t,i=[],r=Number.MAX_VALUE,s=this.closestPoint(n.p0);return r=s.distance(n.p0),i[0]=s,i[1]=n.p0,f=this.closestPoint(n.p1),t=f.distance(n.p1),r>t&&(r=t,i[0]=f,i[1]=n.p1),e=n.closestPoint(this.p0),t=e.distance(this.p0),r>t&&(r=t,i[0]=this.p0,i[1]=e),o=n.closestPoint(this.p1),t=o.distance(this.p1),r>t&&(r=t,i[0]=this.p1,i[1]=o),i};jsts.geom.LineSegment.prototype.intersection=function(n){var t=new jsts.algorithm.RobustLineIntersector;return t.computeIntersection(this.p0,this.p1,n.p0,n.p1),t.hasIntersection()?t.getIntersection(0):null};jsts.geom.LineSegment.prototype.setCoordinates=function(n){return n instanceof jsts.geom.Coordinate?void this.setCoordinates2.apply(this,arguments):void this.setCoordinates2(n.p0,n.p1)};jsts.geom.LineSegment.prototype.setCoordinates2=function(n,t){this.p0.x=n.x;this.p0.y=n.y;this.p1.x=t.x;this.p1.y=t.y};jsts.geom.LineSegment.prototype.distancePerpendicular=function(n){return jsts.algorithm.CGAlgorithms.distancePointLinePerpendicular(n,this.p0,this.p1)};jsts.geom.LineSegment.prototype.lineIntersection=function(n){try{return jsts.algorithm.HCoordinate.intersection(this.p0,this.p1,n.p0,n.p1)}catch(i){}return null};jsts.geom.LineSegment.prototype.toGeometry=function(n){return n.createLineString([this.p0,this.p1])};jsts.geom.LineSegment.prototype.equals=function(n){return n instanceof jsts.geom.LineSegment?this.p0.equals(n.p0)&&this.p1.equals(n.p1):!1};jsts.geom.LineSegment.prototype.compareTo=function(n){var t=this.p0.compareTo(n.p0);return 0!==t?t:this.p1.compareTo(n.p1)};jsts.geom.LineSegment.prototype.equalsTopo=function(n){return this.p0.equals(n.p0)&&this.p1.equals(n.p1)||this.p0.equals(n.p1)&&this.p1.equals(n.p0)};jsts.geom.LineSegment.prototype.toString=function(){return"LINESTRING("+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"};jsts.index.chain.MonotoneChainOverlapAction=function(){this.tempEnv1=new jsts.geom.Envelope;this.tempEnv2=new jsts.geom.Envelope;this.overlapSeg1=new jsts.geom.LineSegment;this.overlapSeg2=new jsts.geom.LineSegment};jsts.index.chain.MonotoneChainOverlapAction.prototype.tempEnv1=null;jsts.index.chain.MonotoneChainOverlapAction.prototype.tempEnv2=null;jsts.index.chain.MonotoneChainOverlapAction.prototype.overlapSeg1=null;jsts.index.chain.MonotoneChainOverlapAction.prototype.overlapSeg2=null;jsts.index.chain.MonotoneChainOverlapAction.prototype.overlap=function(n,t,i,r){this.mc1.getLineSegment(t,this.overlapSeg1);this.mc2.getLineSegment(r,this.overlapSeg2);this.overlap2(this.overlapSeg1,this.overlapSeg2)};jsts.index.chain.MonotoneChainOverlapAction.prototype.overlap2=function(){},function(){var t=jsts.index.chain.MonotoneChainOverlapAction,i=jsts.noding.SinglePassNoder,r=jsts.index.strtree.STRtree,u=jsts.noding.NodedSegmentString,f=jsts.index.chain.MonotoneChainBuilder,n=function(n){this.si=n};n.prototype=new t;n.constructor=n;n.prototype.si=null;n.prototype.overlap=function(n,t,i,r){var u=n.getContext(),f=i.getContext();this.si.processIntersections(u,t,f,r)};jsts.noding.MCIndexNoder=function(){this.monoChains=[];this.index=new r};jsts.noding.MCIndexNoder.prototype=new i;jsts.noding.MCIndexNoder.constructor=jsts.noding.MCIndexNoder;jsts.noding.MCIndexNoder.prototype.monoChains=null;jsts.noding.MCIndexNoder.prototype.index=null;jsts.noding.MCIndexNoder.prototype.idCounter=0;jsts.noding.MCIndexNoder.prototype.nodedSegStrings=null;jsts.noding.MCIndexNoder.prototype.nOverlaps=0;jsts.noding.MCIndexNoder.prototype.getMonotoneChains=function(){return this.monoChains};jsts.noding.MCIndexNoder.prototype.getIndex=function(){return this.index};jsts.noding.MCIndexNoder.prototype.getNodedSubstrings=function(){return u.getNodedSubstrings(this.nodedSegStrings)};jsts.noding.MCIndexNoder.prototype.computeNodes=function(n){this.nodedSegStrings=n;for(var t=n.iterator();t.hasNext();)this.add(t.next());this.intersectChains()};jsts.noding.MCIndexNoder.prototype.intersectChains=function(){for(var u,f=new n(this.segInt),t=0;t<this.monoChains.length;t++)for(var i=this.monoChains[t],e=this.index.query(i.getEnvelope()),r=0;r<e.length;r++)if(u=e[r],u.getId()>i.getId()&&(i.computeOverlaps(u,f),this.nOverlaps++),this.segInt.isDone())return};jsts.noding.MCIndexNoder.prototype.add=function(n){for(var t,r=f.getChains(n.getCoordinates(),n),i=0;i<r.length;i++)t=r[i],t.setId(this.idCounter++),this.index.insert(t.getEnvelope(),t),this.monoChains.push(t)}}();jsts.simplify.LineSegmentIndex=function(){this.index=new jsts.index.quadtree.Quadtree};jsts.simplify.LineSegmentIndex.prototype.index=null;jsts.simplify.LineSegmentIndex.prototype.add=function(n){var i,t,r;if(n instanceof jsts.geom.LineSegment)return void this.add2(n);for(i=n.getSegments(),t=0;t<i.length;t++)r=i[t],this.add2(r)};jsts.simplify.LineSegmentIndex.prototype.add2=function(n){this.index.insert(new jsts.geom.Envelope(n.p0,n.p1),n)};jsts.simplify.LineSegmentIndex.prototype.remove=function(n){this.index.remove(new jsts.geom.Envelope(n.p0,n.p1),n)};jsts.simplify.LineSegmentIndex.prototype.query=function(n){var i=new jsts.geom.Envelope(n.p0,n.p1),t=new jsts.simplify.LineSegmentIndex.LineSegmentVisitor(n);return this.index.query(i,t),t.getItems()};jsts.simplify.LineSegmentIndex.LineSegmentVisitor=function(n){this.items=[];this.querySeg=n};jsts.simplify.LineSegmentIndex.LineSegmentVisitor.prototype=new jsts.index.ItemVisitor;jsts.simplify.LineSegmentIndex.LineSegmentVisitor.prototype.querySeg=null;jsts.simplify.LineSegmentIndex.LineSegmentVisitor.prototype.items=null;jsts.simplify.LineSegmentIndex.LineSegmentVisitor.prototype.visitItem=function(n){var t=n;jsts.geom.Envelope.intersects(t.p0,t.p1,this.querySeg.p0,this.querySeg.p1)&&this.items.push(n)};jsts.simplify.LineSegmentIndex.LineSegmentVisitor.prototype.getItems=function(){return this.items};jsts.geomgraph.EdgeEndStar=function(){this.edgeMap=new javascript.util.TreeMap;this.edgeList=null;this.ptInAreaLocation=[jsts.geom.Location.NONE,jsts.geom.Location.NONE]};jsts.geomgraph.EdgeEndStar.prototype.edgeMap=null;jsts.geomgraph.EdgeEndStar.prototype.edgeList=null;jsts.geomgraph.EdgeEndStar.prototype.ptInAreaLocation=null;jsts.geomgraph.EdgeEndStar.prototype.insert=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.geomgraph.EdgeEndStar.prototype.insertEdgeEnd=function(n,t){this.edgeMap.put(n,t);this.edgeList=null};jsts.geomgraph.EdgeEndStar.prototype.getCoordinate=function(){var n=this.iterator(),t;return n.hasNext()?(t=n.next(),t.getCoordinate()):null};jsts.geomgraph.EdgeEndStar.prototype.getDegree=function(){return this.edgeMap.size()};jsts.geomgraph.EdgeEndStar.prototype.iterator=function(){return this.getEdges().iterator()};jsts.geomgraph.EdgeEndStar.prototype.getEdges=function(){return null===this.edgeList&&(this.edgeList=new javascript.util.ArrayList(this.edgeMap.values())),this.edgeList};jsts.geomgraph.EdgeEndStar.prototype.getNextCW=function(n){this.getEdges();var t=this.edgeList.indexOf(n),i=t-1;return 0===t&&(i=this.edgeList.length-1),this.edgeList[i]};jsts.geomgraph.EdgeEndStar.prototype.computeLabelling=function(n){var f,i,u,o;for(this.computeEdgeEndLabels(n[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1),f=[!1,!1],i=this.iterator();i.hasNext();)for(var e=i.next(),r=e.getLabel(),t=0;2>t;t++)r.isLine(t)&&r.getLocation(t)===jsts.geom.Location.BOUNDARY&&(f[t]=!0);for(i=this.iterator();i.hasNext();)for(var e=i.next(),r=e.getLabel(),t=0;2>t;t++)r.isAnyNull(t)&&(u=jsts.geom.Location.NONE,f[t]?u=jsts.geom.Location.EXTERIOR:(o=e.getCoordinate(),u=this.getLocation(t,o,n)),r.setAllLocationsIfNull(t,u))};jsts.geomgraph.EdgeEndStar.prototype.computeEdgeEndLabels=function(n){for(var i,t=this.iterator();t.hasNext();)i=t.next(),i.computeLabel(n)};jsts.geomgraph.EdgeEndStar.prototype.getLocation=function(n,t,i){return this.ptInAreaLocation[n]===jsts.geom.Location.NONE&&(this.ptInAreaLocation[n]=jsts.algorithm.locate.SimplePointInAreaLocator.locate(t,i[n].getGeometry())),this.ptInAreaLocation[n]};jsts.geomgraph.EdgeEndStar.prototype.isAreaLabelsConsistent=function(n){return this.computeEdgeEndLabels(n.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)};jsts.geomgraph.EdgeEndStar.prototype.checkAreaLabelsConsistent=function(n){var i=this.getEdges(),r,u,s,t,f,e;if(i.size()<=0)return!0;var h=i.size()-1,c=i.get(h).getLabel(),o=c.getLocation(n,jsts.geomgraph.Position.LEFT);for(jsts.util.Assert.isTrue(o!=jsts.geom.Location.NONE,"Found unlabelled area edge"),r=o,u=this.iterator();u.hasNext();){if((s=u.next(),t=s.getLabel(),jsts.util.Assert.isTrue(t.isArea(n),"Found non-area edge"),f=t.getLocation(n,jsts.geomgraph.Position.LEFT),e=t.getLocation(n,jsts.geomgraph.Position.RIGHT),f===e)||e!==r)return!1;r=f}return!0};jsts.geomgraph.EdgeEndStar.prototype.propagateSideLabels=function(n){for(var u,r,t,e,o,f=jsts.geom.Location.NONE,i=this.iterator();i.hasNext();)r=i.next(),t=r.getLabel(),t.isArea(n)&&t.getLocation(n,jsts.geomgraph.Position.LEFT)!==jsts.geom.Location.NONE&&(f=t.getLocation(n,jsts.geomgraph.Position.LEFT));if(f!==jsts.geom.Location.NONE)for(u=f,i=this.iterator();i.hasNext();)if(r=i.next(),t=r.getLabel(),t.getLocation(n,jsts.geomgraph.Position.ON)===jsts.geom.Location.NONE&&t.setLocation(n,jsts.geomgraph.Position.ON,u),t.isArea(n))if(e=t.getLocation(n,jsts.geomgraph.Position.LEFT),o=t.getLocation(n,jsts.geomgraph.Position.RIGHT),o!==jsts.geom.Location.NONE){if(o!==u)throw new jsts.error.TopologyError("side location conflict",r.getCoordinate());e===jsts.geom.Location.NONE&&jsts.util.Assert.shouldNeverReachHere("found single null side (at "+r.getCoordinate()+")");u=e}else jsts.util.Assert.isTrue(t.getLocation(n,jsts.geomgraph.Position.LEFT)===jsts.geom.Location.NONE,"found single null side"),t.setLocation(n,jsts.geomgraph.Position.RIGHT,u),t.setLocation(n,jsts.geomgraph.Position.LEFT,u)};jsts.geomgraph.EdgeEndStar.prototype.findIndex=function(n){var t,i;for(this.iterator(),t=0;t<this.edgeList.size();t++)if(i=this.edgeList.get(t),i===n)return t;return-1};jsts.operation.relate.EdgeEndBundleStar=function(){jsts.geomgraph.EdgeEndStar.apply(this,arguments)};jsts.operation.relate.EdgeEndBundleStar.prototype=new jsts.geomgraph.EdgeEndStar;jsts.operation.relate.EdgeEndBundleStar.prototype.insert=function(n){var t=this.edgeMap.get(n);null===t?(t=new jsts.operation.relate.EdgeEndBundle(n),this.insertEdgeEnd(n,t)):t.insert(n)};jsts.operation.relate.EdgeEndBundleStar.prototype.updateIM=function(n){for(var i,t=this.iterator();t.hasNext();)i=t.next(),i.updateIM(n)};jsts.index.ArrayListVisitor=function(){this.items=[]};jsts.index.ArrayListVisitor.prototype.visitItem=function(n){this.items.push(n)};jsts.index.ArrayListVisitor.prototype.getItems=function(){return this.items};jsts.algorithm.distance.DistanceToPoint=function(){};jsts.algorithm.distance.DistanceToPoint.computeDistance=function(n,t,i){var u,r,f;if(n instanceof jsts.geom.LineString)jsts.algorithm.distance.DistanceToPoint.computeDistance2(n,t,i);else if(n instanceof jsts.geom.Polygon)jsts.algorithm.distance.DistanceToPoint.computeDistance4(n,t,i);else if(n instanceof jsts.geom.GeometryCollection)for(u=n,r=0;r<u.getNumGeometries();r++)f=u.getGeometryN(r),jsts.algorithm.distance.DistanceToPoint.computeDistance(f,t,i);else i.setMinimum(n.getCoordinate(),t)};jsts.algorithm.distance.DistanceToPoint.computeDistance2=function(n,t,i){for(var e,f=new jsts.geom.LineSegment,u=n.getCoordinates(),r=0;r<u.length-1;r++)f.setCoordinates(u[r],u[r+1]),e=f.closestPoint(t),i.setMinimum(e,t)};jsts.algorithm.distance.DistanceToPoint.computeDistance3=function(n,t,i){var r=n.closestPoint(t);i.setMinimum(r,t)};jsts.algorithm.distance.DistanceToPoint.computeDistance4=function(n,t,i){jsts.algorithm.distance.DistanceToPoint.computeDistance2(n.getExteriorRing(),t,i);for(var r=0;r<n.getNumInteriorRing();r++)jsts.algorithm.distance.DistanceToPoint.computeDistance2(n.getInteriorRingN(r),t,i)};jsts.index.strtree.ItemBoundable=function(n,t){this.bounds=n;this.item=t};jsts.index.strtree.ItemBoundable.prototype=new jsts.index.strtree.Boundable;jsts.index.strtree.ItemBoundable.constructor=jsts.index.strtree.ItemBoundable;jsts.index.strtree.ItemBoundable.prototype.bounds=null;jsts.index.strtree.ItemBoundable.prototype.item=null;jsts.index.strtree.ItemBoundable.prototype.getBounds=function(){return this.bounds};jsts.index.strtree.ItemBoundable.prototype.getItem=function(){return this.item},function(){var n=javascript.util.ArrayList,t=javascript.util.TreeMap;jsts.geomgraph.EdgeList=function(){this.edges=new n;this.ocaMap=new t};jsts.geomgraph.EdgeList.prototype.edges=null;jsts.geomgraph.EdgeList.prototype.ocaMap=null;jsts.geomgraph.EdgeList.prototype.add=function(n){this.edges.add(n);var t=new jsts.noding.OrientedCoordinateArray(n.getCoordinates());this.ocaMap.put(t,n)};jsts.geomgraph.EdgeList.prototype.addAll=function(n){for(var t=n.iterator();t.hasNext();)this.add(t.next())};jsts.geomgraph.EdgeList.prototype.getEdges=function(){return this.edges};jsts.geomgraph.EdgeList.prototype.findEqualEdge=function(n){var t=new jsts.noding.OrientedCoordinateArray(n.getCoordinates());return this.ocaMap.get(t)};jsts.geomgraph.EdgeList.prototype.getEdges=function(){return this.edges};jsts.geomgraph.EdgeList.prototype.iterator=function(){return this.edges.iterator()};jsts.geomgraph.EdgeList.prototype.get=function(n){return this.edges.get(n)};jsts.geomgraph.EdgeList.prototype.findEdgeIndex=function(n){for(var t=0;t<this.edges.size();t++)if(this.edges.get(t).equals(n))return t;return-1}}();jsts.operation.IsSimpleOp=function(n){this.geom=n};jsts.operation.IsSimpleOp.prototype.geom=null;jsts.operation.IsSimpleOp.prototype.isClosedEndpointsInInterior=!0;jsts.operation.IsSimpleOp.prototype.nonSimpleLocation=null;jsts.operation.IsSimpleOp.prototype.IsSimpleOp=function(n){this.geom=n};jsts.operation.IsSimpleOp.prototype.isSimple=function(){return this.nonSimpleLocation=null,this.geom instanceof jsts.geom.LineString?this.isSimpleLinearGeometry(this.geom):this.geom instanceof jsts.geom.MultiLineString?this.isSimpleLinearGeometry(this.geom):this.geom instanceof jsts.geom.MultiPoint?this.isSimpleMultiPoint(this.geom):!0};jsts.operation.IsSimpleOp.prototype.isSimpleMultiPoint=function(n){var t,i,f;if(n.isEmpty())return!0;for(t=[],i=0;i<n.getNumGeometries();i++){for(var e=n.getGeometryN(i),r=e.getCoordinate(),u=0;u<t.length;u++)if(f=t[u],r.equals2D(f))return this.nonSimpleLocation=r,!1;t.push(r)}return!0};jsts.operation.IsSimpleOp.prototype.isSimpleLinearGeometry=function(n){if(n.isEmpty())return!0;var t=new jsts.geomgraph.GeometryGraph(0,n),r=new jsts.algorithm.RobustLineIntersector,i=t.computeSelfNodes(r,!0);return i.hasIntersection()?i.hasProperIntersection()?(this.nonSimpleLocation=i.getProperIntersectionPoint(),!1):this.hasNonEndpointIntersection(t)?!1:this.isClosedEndpointsInInterior&&this.hasClosedEndpointIntersection(t)?!1:!0:!0};jsts.operation.IsSimpleOp.prototype.hasNonEndpointIntersection=function(n){for(var i,t=n.getEdgeIterator();t.hasNext();)for(var r=t.next(),f=r.getMaximumSegmentIndex(),u=r.getEdgeIntersectionList().iterator();u.hasNext();)if(i=u.next(),!i.isEndPoint(f))return this.nonSimpleLocation=i.getCoordinate(),!0;return!1};jsts.operation.IsSimpleOp.prototype.hasClosedEndpointIntersection=function(n){for(var e,u,r=new javascript.util.TreeMap,t=n.getEdgeIterator();t.hasNext();){var i=t.next(),f=(i.getMaximumSegmentIndex(),i.isClosed()),o=i.getCoordinate(0);this.addEndpoint(r,o,f);e=i.getCoordinate(i.getNumPoints()-1);this.addEndpoint(r,e,f)}for(t=r.values().iterator();t.hasNext();)if(u=t.next(),u.isClosed&&2!=u.degree)return this.nonSimpleLocation=u.getCoordinate(),!0;return!1};jsts.operation.IsSimpleOp.EndpointInfo=function(n){this.pt=n;this.isClosed=!1;this.degree=0};jsts.operation.IsSimpleOp.EndpointInfo.prototype.pt=null;jsts.operation.IsSimpleOp.EndpointInfo.prototype.isClosed=null;jsts.operation.IsSimpleOp.EndpointInfo.prototype.degree=null;jsts.operation.IsSimpleOp.EndpointInfo.prototype.getCoordinate=function(){return this.pt};jsts.operation.IsSimpleOp.EndpointInfo.prototype.addEndpoint=function(n){this.degree++;this.isClosed=this.isClosed||n};jsts.operation.IsSimpleOp.prototype.addEndpoint=function(n,t,i){var r=n.get(t);null===r&&(r=new jsts.operation.IsSimpleOp.EndpointInfo(t),n.put(t,r));r.addEndpoint(i)},function(){var n=function(){this.snapTolerance=0;this.seg=new jsts.geom.LineSegment;this.allowSnappingToSourceVertices=!1;this.isClosed=!1;this.srcPts=[];arguments[0]instanceof jsts.geom.LineString?this.initFromLine.apply(this,arguments):this.initFromPoints.apply(this,arguments)};n.prototype.initFromLine=function(n,t){this.initFromPoints(n.getCoordinates(),t)};n.prototype.initFromPoints=function(n,t){this.srcPts=n;this.isClosed=this.calcIsClosed(n);this.snapTolerance=t};n.prototype.setAllowSnappingToSourceVertices=function(n){this.allowSnappingToSourceVertices=n};n.prototype.calcIsClosed=function(n){return n.length<=1?!1:n[0].equals(n[n.length-1])};n.prototype.snapTo=function(n){var t=new jsts.geom.CoordinateList(this.srcPts);return this.snapVertices(t,n),this.snapSegments(t,n),t.toCoordinateArray()};n.prototype.snapVertices=function(n,t){var u,r,f=this.isClosed?n.size()-1:n.size(),i=0;for(i;f>i;i++)u=n.get(i),r=this.findSnapForVertex(u,t),null!==r&&(n.set(i,new jsts.geom.Coordinate(r)),0===i&&this.isClosed&&n.set(n.size()-1,new jsts.geom.Coordinate(r)))};n.prototype.findSnapForVertex=function(n,t){for(var i=0,r=t.length,i=0;r>i;i++){if(n.equals(t[i]))return null;if(n.distance(t[i])<this.snapTolerance)return t[i]}return null};n.prototype.snapSegments=function(n,t){if(0!==t.length){var i,r,u,f=t.length;for(t.length>1&&t[0].equals2D(t[t.length-1])&&(f=t.length-1),i=0;f>i;i++)r=t[i],u=this.findSegmentIndexToSnap(r,n),u>=0&&n.add(u+1,new jsts.geom.Coordinate(r),!1)}};n.prototype.findSegmentIndexToSnap=function(n,t){var r,u=Number.MAX_VALUE,f=-1,i=0;for(i;i<t.size()-1;i++){if(this.seg.p0=t.get(i),this.seg.p1=t.get(i+1),this.seg.p0.equals(n)||this.seg.p1.equals(n)){if(this.allowSnappingToSourceVertices)continue;return-1}r=this.seg.distance(n);r<this.snapTolerance&&u>r&&(u=r,f=i)}return f};jsts.operation.overlay.snap.LineStringSnapper=n}(),function(){var t=javascript.util.ArrayList,i=jsts.geom.GeometryComponentFilter,r=jsts.geom.LineString,u=jsts.operation.polygonize.EdgeRing,f=jsts.operation.polygonize.PolygonizeGraph,n=function(){var u=this,n=function(){};n.prototype=new i;n.prototype.filter=function(n){n instanceof r&&u.add(n)};this.lineStringAdder=new n;this.dangles=new t;this.cutEdges=new t;this.invalidRingLines=new t};n.prototype.lineStringAdder=null;n.prototype.graph=null;n.prototype.dangles=null;n.prototype.cutEdges=null;n.prototype.invalidRingLines=null;n.prototype.holeList=null;n.prototype.shellList=null;n.prototype.polyList=null;n.prototype.add=function(n){var t,i;if(n instanceof jsts.geom.LineString)return this.add3(n);if(n instanceof jsts.geom.Geometry)return this.add2(n);for(t=n.iterator();t.hasNext();)i=t.next(),this.add2(i)};n.prototype.add2=function(n){n.apply(this.lineStringAdder)};n.prototype.add3=function(n){null==this.graph&&(this.graph=new f(n.getFactory()));this.graph.addEdge(n)};n.prototype.getPolygons=function(){return this.polygonize(),this.polyList};n.prototype.getDangles=function(){return this.polygonize(),this.dangles};n.prototype.getCutEdges=function(){return this.polygonize(),this.cutEdges};n.prototype.getInvalidRingLines=function(){return this.polygonize(),this.invalidRingLines};n.prototype.polygonize=function(){var u,i,r,f;if(null==this.polyList&&(this.polyList=new t,null!=this.graph))for(this.dangles=this.graph.deleteDangles(),this.cutEdges=this.graph.deleteCutEdges(),u=this.graph.getEdgeRings(),i=new t,this.invalidRingLines=new t,this.findValidRings(u,i,this.invalidRingLines),this.findShellsAndHoles(i),n.assignHolesToShells(this.holeList,this.shellList),this.polyList=new t,r=this.shellList.iterator();r.hasNext();)f=r.next(),this.polyList.add(f.getPolygon())};n.prototype.findValidRings=function(n,t,i){for(var r,u=n.iterator();u.hasNext();)r=u.next(),r.isValid()?t.add(r):i.add(r.getLineString())};n.prototype.findShellsAndHoles=function(n){var r,i;for(this.holeList=new t,this.shellList=new t,r=n.iterator();r.hasNext();)i=r.next(),i.isHole()?this.holeList.add(i):this.shellList.add(i)};n.assignHolesToShells=function(t,i){for(var u,r=t.iterator();r.hasNext();)u=r.next(),n.assignHoleToShell(u,i)};n.assignHoleToShell=function(n,t){var i=u.findEdgeRingContaining(n,t);null!=i&&i.addHole(n.getRing())};jsts.operation.polygonize.Polygonizer=n}(),function(){var t=javascript.util.ArrayList,n=function(){};n.prototype.inputGeom=null;n.prototype.factory=null;n.prototype.pruneEmptyGeometry=!0;n.prototype.preserveGeometryCollectionType=!0;n.prototype.preserveCollections=!1;n.prototype.reserveType=!1;n.prototype.getInputGeometry=function(){return this.inputGeom};n.prototype.transform=function(n){if(this.inputGeom=n,this.factory=n.getFactory(),n instanceof jsts.geom.Point)return this.transformPoint(n,null);if(n instanceof jsts.geom.MultiPoint)return this.transformMultiPoint(n,null);if(n instanceof jsts.geom.LinearRing)return this.transformLinearRing(n,null);if(n instanceof jsts.geom.LineString)return this.transformLineString(n,null);if(n instanceof jsts.geom.MultiLineString)return this.transformMultiLineString(n,null);if(n instanceof jsts.geom.Polygon)return this.transformPolygon(n,null);if(n instanceof jsts.geom.MultiPolygon)return this.transformMultiPolygon(n,null);if(n instanceof jsts.geom.GeometryCollection)return this.transformGeometryCollection(n,null);throw new jsts.error.IllegalArgumentException("Unknown Geometry subtype: "+n.getClass().getName());};n.prototype.createCoordinateSequence=function(n){return this.factory.getCoordinateSequenceFactory().create(n)};n.prototype.copy=function(n){return n.clone()};n.prototype.transformCoordinates=function(n){return this.copy(n)};n.prototype.transformPoint=function(n){return this.factory.createPoint(this.transformCoordinates(n.getCoordinateSequence(),n))};n.prototype.transformMultiPoint=function(n){for(var r,u=new t,i=0;i<n.getNumGeometries();i++)r=this.transformPoint(n.getGeometryN(i),n),null!=r&&(r.isEmpty()||u.add(r));return this.factory.buildGeometry(u)};n.prototype.transformLinearRing=function(n){var t=this.transformCoordinates(n.getCoordinateSequence(),n),i=t.length;return i>0&&4>i&&!this.preserveType?this.factory.createLineString(t):this.factory.createLinearRing(t)};n.prototype.transformLineString=function(n){return this.factory.createLineString(this.transformCoordinates(n.getCoordinateSequence(),n))};n.prototype.transformMultiLineString=function(n){for(var r,u=new t,i=0;i<n.getNumGeometries();i++)r=this.transformLineString(n.getGeometryN(i),n),null!=r&&(r.isEmpty()||u.add(r));return this.factory.buildGeometry(u)};n.prototype.transformPolygon=function(n){var o=!0,i=this.transformLinearRing(n.getExteriorRing(),n),u,f,r,e;for(null!=i&&i instanceof jsts.geom.LinearRing&&!i.isEmpty()||(o=!1),u=new t,f=0;f<n.getNumInteriorRing();f++)r=this.transformLinearRing(n.getInteriorRingN(f),n),null==r||r.isEmpty()||(r instanceof jsts.geom.LinearRing||(o=!1),u.add(r));return o?this.factory.createPolygon(i,u.toArray()):(e=new t,null!=i&&e.add(i),e.addAll(u),this.factory.buildGeometry(e))};n.prototype.transformMultiPolygon=function(n){for(var r,u=new t,i=0;i<n.getNumGeometries();i++)r=this.transformPolygon(n.getGeometryN(i),n),null!=r&&(r.isEmpty()||u.add(r));return this.factory.buildGeometry(u)};n.prototype.transformGeometryCollection=function(n){for(var u,i=new t,r=0;r<n.getNumGeometries();r++)u=this.transform(n.getGeometryN(r)),null!=u&&(this.pruneEmptyGeometry&&u.isEmpty()||i.add(u));return this.preserveGeometryCollectionType?this.factory.createGeometryCollection(GeometryFactory.toGeometryArray(i)):this.factory.buildGeometry(i)};jsts.geom.util.GeometryTransformer=n}(),function(){var i=jsts.operation.overlay.snap.LineStringSnapper,r=jsts.geom.PrecisionModel,u=javascript.util.TreeSet,t=function(n,t,i){this.snapTolerance=n;this.snapPts=t;this.isSelfSnap=i||!1},n;t.prototype=new jsts.geom.util.GeometryTransformer;t.prototype.snapTolerance=null;t.prototype.snapPts=null;t.prototype.isSelfSnap=!1;t.prototype.transformCoordinates=function(n){var t=n;return this.snapLine(t,this.snapPts)};t.prototype.snapLine=function(n,t){var r=new i(n,this.snapTolerance);return r.setAllowSnappingToSourceVertices(this.isSelfSnap),r.snapTo(t)};n=function(n){this.srcGeom=n};n.SNAP_PRECISION_FACTOR=1e-9;n.computeOverlaySnapTolerance=function(t){var i,u,f;return 2===arguments.length?n.computeOverlaySnapTolerance2.apply(this,arguments):(i=this.computeSizeBasedSnapTolerance(t),u=t.getPrecisionModel(),u.getType()==r.FIXED&&(f=2/u.getScale()/1.415,f>i&&(i=f)),i)};n.computeSizeBasedSnapTolerance=function(t){var i=t.getEnvelopeInternal(),r=Math.min(i.getHeight(),i.getWidth());return r*n.SNAP_PRECISION_FACTOR};n.computeOverlaySnapTolerance2=function(n,t){return Math.min(this.computeOverlaySnapTolerance(n),this.computeOverlaySnapTolerance(t))};n.snap=function(t,i,r){var u=[],e=new n(t),f;return u[0]=e.snapTo(i,r),f=new n(i),u[1]=f.snapTo(u[0],r),u};n.snapToSelf=function(t,i,r){var u=new n(t);return u.snapToSelf(i,r)};n.prototype.srcGeom=null;n.prototype.snapTo=function(n,i){var r=this.extractTargetCoordinates(n),u=new t(i,r);return u.transform(this.srcGeom)};n.prototype.snapToSelf=function(n,i){var f=this.extractTargetCoordinates(srcGeom),e=new t(n,f,!0),u=e.transform(srcGeom),r=u;return i&&r instanceof Polygonal&&(r=u.buffer(0)),r};n.prototype.extractTargetCoordinates=function(n){for(var i=new u,r=n.getCoordinates(),t=0;t<r.length;t++)i.add(r[t]);return i.toArray()};n.prototype.computeSnapTolerance=function(n){var t=this.computeMinimumSegmentLength(n);return t/10};n.prototype.computeMinimumSegmentLength=function(n){for(var r,i=Number.MAX_VALUE,t=0;t<n.length-1;t++)r=n[t].distance(n[t+1]),i>r&&(i=r);return i};jsts.operation.overlay.snap.GeometrySnapper=n}();jsts.algorithm.PointLocator=function(n){this.boundaryRule=n?n:jsts.algorithm.BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE};jsts.algorithm.PointLocator.prototype.boundaryRule=null;jsts.algorithm.PointLocator.prototype.isIn=null;jsts.algorithm.PointLocator.prototype.numBoundaries=null;jsts.algorithm.PointLocator.prototype.intersects=function(n,t){return this.locate(n,t)!==jsts.geom.Location.EXTERIOR};jsts.algorithm.PointLocator.prototype.locate=function(n,t){return t.isEmpty()?jsts.geom.Location.EXTERIOR:t instanceof jsts.geom.Point?this.locate2(n,t):t instanceof jsts.geom.LineString?this.locate3(n,t):t instanceof jsts.geom.Polygon?this.locate4(n,t):(this.isIn=!1,this.numBoundaries=0,this.computeLocation(n,t),this.boundaryRule.isInBoundary(this.numBoundaries)?jsts.geom.Location.BOUNDARY:this.numBoundaries>0||this.isIn?jsts.geom.Location.INTERIOR:jsts.geom.Location.EXTERIOR)};jsts.algorithm.PointLocator.prototype.computeLocation=function(n,t){var r,e,u,o,i,f;if(t instanceof jsts.geom.Point||t instanceof jsts.geom.LineString||t instanceof jsts.geom.Polygon)this.updateLocationInfo(this.locate(n,t));else if(t instanceof jsts.geom.MultiLineString)for(r=t,i=0;i<r.getNumGeometries();i++)e=r.getGeometryN(i),this.updateLocationInfo(this.locate(n,e));else if(t instanceof jsts.geom.MultiPolygon)for(u=t,i=0;i<u.getNumGeometries();i++)o=u.getGeometryN(i),this.updateLocationInfo(this.locate(n,o));else if(t instanceof jsts.geom.MultiPoint||t instanceof jsts.geom.GeometryCollection)for(i=0;i<t.getNumGeometries();i++)f=t.getGeometryN(i),f!==t&&this.computeLocation(n,f)};jsts.algorithm.PointLocator.prototype.updateLocationInfo=function(n){n===jsts.geom.Location.INTERIOR&&(this.isIn=!0);n===jsts.geom.Location.BOUNDARY&&this.numBoundaries++};jsts.algorithm.PointLocator.prototype.locate2=function(n,t){var i=t.getCoordinate();return i.equals2D(n)?jsts.geom.Location.INTERIOR:jsts.geom.Location.EXTERIOR};jsts.algorithm.PointLocator.prototype.locate3=function(n,t){if(!t.getEnvelopeInternal().intersects(n))return jsts.geom.Location.EXTERIOR;var i=t.getCoordinates();return t.isClosed()||!n.equals(i[0])&&!n.equals(i[i.length-1])?jsts.algorithm.CGAlgorithms.isOnLine(n,i)?jsts.geom.Location.INTERIOR:jsts.geom.Location.EXTERIOR:jsts.geom.Location.BOUNDARY};jsts.algorithm.PointLocator.prototype.locateInPolygonRing=function(n,t){return t.getEnvelopeInternal().intersects(n)?jsts.algorithm.CGAlgorithms.locatePointInRing(n,t.getCoordinates()):jsts.geom.Location.EXTERIOR};jsts.algorithm.PointLocator.prototype.locate4=function(n,t){var f,r,i,e,u;if(t.isEmpty()||(f=t.getExteriorRing(),r=this.locateInPolygonRing(n,f),r===jsts.geom.Location.EXTERIOR))return jsts.geom.Location.EXTERIOR;if(r===jsts.geom.Location.BOUNDARY)return jsts.geom.Location.BOUNDARY;for(i=0;i<t.getNumInteriorRing();i++){if(e=t.getInteriorRingN(i),u=this.locateInPolygonRing(n,e),u===jsts.geom.Location.INTERIOR)return jsts.geom.Location.EXTERIOR;if(u===jsts.geom.Location.BOUNDARY)return jsts.geom.Location.BOUNDARY}return jsts.geom.Location.INTERIOR},function(){var n=jsts.geom.Location,t=javascript.util.ArrayList,i=javascript.util.TreeMap;jsts.geomgraph.NodeMap=function(n){this.nodeMap=new i;this.nodeFact=n};jsts.geomgraph.NodeMap.prototype.nodeMap=null;jsts.geomgraph.NodeMap.prototype.nodeFact=null;jsts.geomgraph.NodeMap.prototype.addNode=function(n){var t,i,r;return n instanceof jsts.geom.Coordinate?(i=n,t=this.nodeMap.get(i),null===t&&(t=this.nodeFact.createNode(i),this.nodeMap.put(i,t)),t):n instanceof jsts.geomgraph.Node?(r=n,i=r.getCoordinate(),t=this.nodeMap.get(i),null===t?(this.nodeMap.put(i,r),r):(t.mergeLabel(r),t)):void 0};jsts.geomgraph.NodeMap.prototype.add=function(n){var t=n.getCoordinate(),i=this.addNode(t);i.add(n)};jsts.geomgraph.NodeMap.prototype.find=function(n){return this.nodeMap.get(n)};jsts.geomgraph.NodeMap.prototype.values=function(){return this.nodeMap.values()};jsts.geomgraph.NodeMap.prototype.iterator=function(){return this.values().iterator()};jsts.geomgraph.NodeMap.prototype.getBoundaryNodes=function(i){for(var f,r=new t,u=this.iterator();u.hasNext();)f=u.next(),f.getLabel().getLocation(i)===n.BOUNDARY&&r.add(f);return r}}(),function(){var n=javascript.util.ArrayList;jsts.geomgraph.PlanarGraph=function(t){this.edges=new n;this.edgeEndList=new n;this.nodes=new jsts.geomgraph.NodeMap(t||new jsts.geomgraph.NodeFactory)};jsts.geomgraph.PlanarGraph.prototype.edges=null;jsts.geomgraph.PlanarGraph.prototype.nodes=null;jsts.geomgraph.PlanarGraph.prototype.edgeEndList=null;jsts.geomgraph.PlanarGraph.linkResultDirectedEdges=function(n){for(var i,t=n.iterator();t.hasNext();)i=t.next(),i.getEdges().linkResultDirectedEdges()};jsts.geomgraph.PlanarGraph.prototype.getEdgeIterator=function(){return this.edges.iterator()};jsts.geomgraph.PlanarGraph.prototype.getEdgeEnds=function(){return this.edgeEndList};jsts.geomgraph.PlanarGraph.prototype.isBoundaryNode=function(n,t){var r=this.nodes.find(t),i;return null===r?!1:(i=r.getLabel(),null!==i&&i.getLocation(n)===jsts.geom.Location.BOUNDARY?!0:!1)};jsts.geomgraph.PlanarGraph.prototype.insertEdge=function(n){this.edges.add(n)};jsts.geomgraph.PlanarGraph.prototype.add=function(n){this.nodes.add(n);this.edgeEndList.add(n)};jsts.geomgraph.PlanarGraph.prototype.getNodeIterator=function(){return this.nodes.iterator()};jsts.geomgraph.PlanarGraph.prototype.getNodes=function(){return this.nodes.values()};jsts.geomgraph.PlanarGraph.prototype.addNode=function(n){return this.nodes.addNode(n)};jsts.geomgraph.PlanarGraph.prototype.addEdges=function(n){for(var t,i,r,u=n.iterator();u.hasNext();)t=u.next(),this.edges.add(t),i=new jsts.geomgraph.DirectedEdge(t,!0),r=new jsts.geomgraph.DirectedEdge(t,!1),i.setSym(r),r.setSym(i),this.add(i),this.add(r)};jsts.geomgraph.PlanarGraph.prototype.linkResultDirectedEdges=function(){for(var t,n=this.nodes.iterator();n.hasNext();)t=n.next(),t.getEdges().linkResultDirectedEdges()};jsts.geomgraph.PlanarGraph.prototype.findEdgeInSameDirection=function(n,t){var u,i,r=0,f=this.edges.size();for(r;f>r;r++)if((u=this.edges.get(r),i=u.getCoordinates(),this.matchInSameDirection(n,t,i[0],i[1]))||this.matchInSameDirection(n,t,i[i.length-1],i[i.length-2]))return u;return null};jsts.geomgraph.PlanarGraph.prototype.matchInSameDirection=function(n,t,i,r){return n.equals(i)&&jsts.algorithm.CGAlgorithms.computeOrientation(n,t,r)===jsts.algorithm.CGAlgorithms.COLLINEAR&&jsts.geomgraph.Quadrant.quadrant(n,t)===jsts.geomgraph.Quadrant.quadrant(i,r)?!0:!1};jsts.geomgraph.PlanarGraph.prototype.findEdgeEnd=function(n){for(var i,t=this.getEdgeEnds().iterator();t.hasNext();)if(i=t.next(),i.getEdge()===n)return i;return null}}();jsts.noding.SegmentIntersector=function(){};jsts.noding.SegmentIntersector.prototype.processIntersections=jsts.abstractFunc;jsts.noding.SegmentIntersector.prototype.isDone=jsts.abstractFunc,function(){var n=jsts.noding.SegmentIntersector,t=javascript.util.ArrayList;jsts.noding.InteriorIntersectionFinder=function(n){this.li=n;this.intersections=new t;this.interiorIntersection=null};jsts.noding.InteriorIntersectionFinder.prototype=new n;jsts.noding.InteriorIntersectionFinder.constructor=jsts.noding.InteriorIntersectionFinder;jsts.noding.InteriorIntersectionFinder.prototype.findAllIntersections=!1;jsts.noding.InteriorIntersectionFinder.prototype.isCheckEndSegmentsOnly=!1;jsts.noding.InteriorIntersectionFinder.prototype.li=null;jsts.noding.InteriorIntersectionFinder.prototype.interiorIntersection=null;jsts.noding.InteriorIntersectionFinder.prototype.intSegments=null;jsts.noding.InteriorIntersectionFinder.prototype.intersections=null;jsts.noding.InteriorIntersectionFinder.prototype.setFindAllIntersections=function(n){this.findAllIntersections=n};jsts.noding.InteriorIntersectionFinder.prototype.getIntersections=function(){return intersections};jsts.noding.InteriorIntersectionFinder.prototype.setCheckEndSegmentsOnly=function(n){this.isCheckEndSegmentsOnly=n};jsts.noding.InteriorIntersectionFinder.prototype.hasIntersection=function(){return null!=this.interiorIntersection};jsts.noding.InteriorIntersectionFinder.prototype.getInteriorIntersection=function(){return this.interiorIntersection};jsts.noding.InteriorIntersectionFinder.prototype.getIntersectionSegments=function(){return this.intSegments};jsts.noding.InteriorIntersectionFinder.prototype.processIntersections=function(n,t,i,r){var u;if(!this.hasIntersection()&&(n!=i||t!=r)){if(this.isCheckEndSegmentsOnly&&(u=this.isEndSegment(n,t)||isEndSegment(i,r),!u))return;var f=n.getCoordinates()[t],e=n.getCoordinates()[t+1],o=i.getCoordinates()[r],s=i.getCoordinates()[r+1];this.li.computeIntersection(f,e,o,s);this.li.hasIntersection()&&this.li.isInteriorIntersection()&&(this.intSegments=[],this.intSegments[0]=f,this.intSegments[1]=e,this.intSegments[2]=o,this.intSegments[3]=s,this.interiorIntersection=this.li.getIntersection(0),this.intersections.add(this.interiorIntersection))}};jsts.noding.InteriorIntersectionFinder.prototype.isEndSegment=function(n,t){return 0==t?!0:t>=n.size()-2?!0:!1};jsts.noding.InteriorIntersectionFinder.prototype.isDone=function(){return this.findAllIntersections?!1:null!=this.interiorIntersection}}(),function(){var n=jsts.algorithm.RobustLineIntersector,t=jsts.noding.InteriorIntersectionFinder,i=jsts.noding.MCIndexNoder;jsts.noding.FastNodingValidator=function(t){this.li=new n;this.segStrings=t};jsts.noding.FastNodingValidator.prototype.li=null;jsts.noding.FastNodingValidator.prototype.segStrings=null;jsts.noding.FastNodingValidator.prototype.findAllIntersections=!1;jsts.noding.FastNodingValidator.prototype.segInt=null;jsts.noding.FastNodingValidator.prototype._isValid=!0;jsts.noding.FastNodingValidator.prototype.setFindAllIntersections=function(n){this.findAllIntersections=n};jsts.noding.FastNodingValidator.prototype.getIntersections=function(){return segInt.getIntersections()};jsts.noding.FastNodingValidator.prototype.isValid=function(){return this.execute(),this._isValid};jsts.noding.FastNodingValidator.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var n=this.segInt.getIntersectionSegments();return"found non-noded intersection between "+jsts.io.WKTWriter.toLineString(n[0],n[1])+" and "+jsts.io.WKTWriter.toLineString(n[2],n[3])};jsts.noding.FastNodingValidator.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new jsts.error.TopologyError(this.getErrorMessage(),this.segInt.getInteriorIntersection());};jsts.noding.FastNodingValidator.prototype.execute=function(){null==this.segInt&&this.checkInteriorIntersections()};jsts.noding.FastNodingValidator.prototype.checkInteriorIntersections=function(){this._isValid=!0;this.segInt=new t(this.li);this.segInt.setFindAllIntersections(this.findAllIntersections);var n=new i;return n.setSegmentIntersector(this.segInt),n.computeNodes(this.segStrings),this.segInt.hasIntersection()?void(this._isValid=!1):void 0}}(),function(){jsts.noding.BasicSegmentString=function(n,t){this.pts=n;this.data=t};jsts.noding.BasicSegmentString.prototype=new jsts.noding.SegmentString;jsts.noding.BasicSegmentString.prototype.pts=null;jsts.noding.BasicSegmentString.prototype.data=null;jsts.noding.BasicSegmentString.prototype.getData=function(){return this.data};jsts.noding.BasicSegmentString.prototype.setData=function(n){this.data=n};jsts.noding.BasicSegmentString.prototype.size=function(){return this.pts.length};jsts.noding.BasicSegmentString.prototype.getCoordinate=function(n){return this.pts[n]};jsts.noding.BasicSegmentString.prototype.getCoordinates=function(){return this.pts};jsts.noding.BasicSegmentString.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])};jsts.noding.BasicSegmentString.prototype.getSegmentOctant=function(n){return n==this.pts.length-1?-1:jsts.noding.Octant.octant(this.getCoordinate(n),this.getCoordinate(n+1))}}(),function(){var n=jsts.noding.FastNodingValidator,t=jsts.noding.BasicSegmentString,i=javascript.util.ArrayList;jsts.geomgraph.EdgeNodingValidator=function(t){this.nv=new n(jsts.geomgraph.EdgeNodingValidator.toSegmentStrings(t))};jsts.geomgraph.EdgeNodingValidator.checkValid=function(n){var t=new jsts.geomgraph.EdgeNodingValidator(n);t.checkValid()};jsts.geomgraph.EdgeNodingValidator.toSegmentStrings=function(n){for(var f,r=new i,u=n.iterator();u.hasNext();)f=u.next(),r.add(new t(f.getCoordinates(),f));return r};jsts.geomgraph.EdgeNodingValidator.prototype.nv=null;jsts.geomgraph.EdgeNodingValidator.prototype.checkValid=function(){this.nv.checkValid()}}();jsts.operation.GeometryGraphOperation=function(n,t,i){if(this.li=new jsts.algorithm.RobustLineIntersector,this.arg=[],void 0!==n){if(void 0===t)return this.setComputationPrecision(n.getPrecisionModel()),void(this.arg[0]=new jsts.geomgraph.GeometryGraph(0,n));i=i||jsts.algorithm.BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE;this.setComputationPrecision(n.getPrecisionModel().compareTo(t.getPrecisionModel())>=0?n.getPrecisionModel():t.getPrecisionModel());this.arg[0]=new jsts.geomgraph.GeometryGraph(0,n,i);this.arg[1]=new jsts.geomgraph.GeometryGraph(1,t,i)}};jsts.operation.GeometryGraphOperation.prototype.li=null;jsts.operation.GeometryGraphOperation.prototype.resultPrecisionModel=null;jsts.operation.GeometryGraphOperation.prototype.arg=null;jsts.operation.GeometryGraphOperation.prototype.getArgGeometry=function(n){return arg[n].getGeometry()};jsts.operation.GeometryGraphOperation.prototype.setComputationPrecision=function(n){this.resultPrecisionModel=n;this.li.setPrecisionModel(this.resultPrecisionModel)};jsts.operation.overlay.OverlayNodeFactory=function(){};jsts.operation.overlay.OverlayNodeFactory.prototype=new jsts.geomgraph.NodeFactory;jsts.operation.overlay.OverlayNodeFactory.constructor=jsts.operation.overlay.OverlayNodeFactory;jsts.operation.overlay.OverlayNodeFactory.prototype.createNode=function(n){return new jsts.geomgraph.Node(n,new jsts.geomgraph.DirectedEdgeStar)};jsts.operation.overlay.PolygonBuilder=function(n){this.shellList=[];this.geometryFactory=n};jsts.operation.overlay.PolygonBuilder.prototype.geometryFactory=null;jsts.operation.overlay.PolygonBuilder.prototype.shellList=null;jsts.operation.overlay.PolygonBuilder.prototype.add=function(n){return 2===arguments.length?void this.add2.apply(this,arguments):void this.add2(n.getEdgeEnds(),n.getNodes())};jsts.operation.overlay.PolygonBuilder.prototype.add2=function(n,t){jsts.geomgraph.PlanarGraph.linkResultDirectedEdges(t);var r=this.buildMaximalEdgeRings(n),i=[],u=this.buildMinimalEdgeRings(r,this.shellList,i);this.sortShellsAndHoles(u,this.shellList,i);this.placeFreeHoles(this.shellList,i)};jsts.operation.overlay.PolygonBuilder.prototype.getPolygons=function(){return this.computePolygons(this.shellList)};jsts.operation.overlay.PolygonBuilder.prototype.buildMaximalEdgeRings=function(n){for(var t,u,i=[],r=n.iterator();r.hasNext();)t=r.next(),t.isInResult()&&t.getLabel().isArea()&&null==t.getEdgeRing()&&(u=new jsts.operation.overlay.MaximalEdgeRing(t,this.geometryFactory),i.push(u),u.setInResult());return i};jsts.operation.overlay.PolygonBuilder.prototype.buildMinimalEdgeRings=function(n,t,i){for(var r,f,e,o=[],u=0;u<n.length;u++)r=n[u],r.getMaxNodeDegree()>2?(r.linkDirectedEdgesForMinimalEdgeRings(),f=r.buildMinimalRings(),e=this.findShell(f),null!==e?(this.placePolygonHoles(e,f),t.push(e)):i=i.concat(f)):o.push(r);return o};jsts.operation.overlay.PolygonBuilder.prototype.findShell=function(n){for(var i,r=0,u=null,t=0;t<n.length;t++)i=n[t],i.isHole()||(u=i,r++);return jsts.util.Assert.isTrue(1>=r,"found two shells in MinimalEdgeRing list"),u};jsts.operation.overlay.PolygonBuilder.prototype.placePolygonHoles=function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],r.isHole()&&r.setShell(n)};jsts.operation.overlay.PolygonBuilder.prototype.sortShellsAndHoles=function(n,t,i){for(var u,r=0;r<n.length;r++)u=n[r],u.isHole()?i.push(u):t.push(u)};jsts.operation.overlay.PolygonBuilder.prototype.placeFreeHoles=function(n,t){for(var i,u,r=0;r<t.length;r++)if(i=t[r],null==i.getShell()){if(u=this.findEdgeRingContaining(i,n),null===u)throw new jsts.error.TopologyError("unable to assign hole to a shell",i.getCoordinate(0));i.setShell(u)}};jsts.operation.overlay.PolygonBuilder.prototype.findEdgeRingContaining=function(n,t){for(var u,f=n.getLinearRing(),c=f.getEnvelopeInternal(),l=f.getCoordinateN(0),i=null,e=null,r=0;r<t.length;r++){var o=t[r],s=o.getLinearRing(),h=s.getEnvelopeInternal();null!==i&&(e=i.getLinearRing().getEnvelopeInternal());u=!1;h.contains(c)&&jsts.algorithm.CGAlgorithms.isPointInRing(l,s.getCoordinates())&&(u=!0);u&&(null==i||e.contains(h))&&(i=o)}return i};jsts.operation.overlay.PolygonBuilder.prototype.computePolygons=function(n){for(var r,u,i=new javascript.util.ArrayList,t=0;t<n.length;t++)r=n[t],u=r.toPolygon(this.geometryFactory),i.add(u);return i};jsts.operation.overlay.PolygonBuilder.prototype.containsPoint=function(n){for(var i,t=0;t<this.shellList.length;t++)if(i=this.shellList[t],i.containsPoint(n))return!0;return!1},function(){var i=jsts.util.Assert,t=javascript.util.ArrayList,n=function(n,i,r){this.lineEdgesList=new t;this.resultLineList=new t;this.op=n;this.geometryFactory=i;this.ptLocator=r};n.prototype.op=null;n.prototype.geometryFactory=null;n.prototype.ptLocator=null;n.prototype.lineEdgesList=null;n.prototype.resultLineList=null;n.prototype.build=function(n){return this.findCoveredLineEdges(),this.collectLines(n),this.buildLines(n),this.resultLineList};n.prototype.findCoveredLineEdges=function(){for(var u,i,n,r,f,t=this.op.getGraph().getNodes().iterator();t.hasNext();)u=t.next(),u.getEdges().findCoveredLineEdges();for(i=this.op.getGraph().getEdgeEnds().iterator();i.hasNext();)n=i.next(),r=n.getEdge(),n.isLineEdge()&&!r.isCoveredSet()&&(f=this.op.isCoveredByA(n.getCoordinate()),r.setCovered(f))};n.prototype.collectLines=function(n){for(var i,t=this.op.getGraph().getEdgeEnds().iterator();t.hasNext();)i=t.next(),this.collectLineEdge(i,n,this.lineEdgesList),this.collectBoundaryTouchEdge(i,n,this.lineEdgesList)};n.prototype.collectLineEdge=function(n,t,i){var u=n.getLabel(),r=n.getEdge();n.isLineEdge()&&(n.isVisited()||!jsts.operation.overlay.OverlayOp.isResultOfOp(u,t)||r.isCovered()||(i.add(r),n.setVisitedEdge(!0)))};n.prototype.collectBoundaryTouchEdge=function(n,t,r){var u=n.getLabel();n.isLineEdge()||n.isVisited()||n.isInteriorAreaEdge()||n.getEdge().isInResult()||(i.isTrue(!(n.isInResult()||n.getSym().isInResult())||!n.getEdge().isInResult()),jsts.operation.overlay.OverlayOp.isResultOfOp(u,t)&&t===jsts.operation.overlay.OverlayOp.INTERSECTION&&(r.add(n.getEdge()),n.setVisitedEdge(!0)))};n.prototype.buildLines=function(){for(var n,i,t=this.lineEdgesList.iterator();t.hasNext();)n=t.next(),i=(n.getLabel(),this.geometryFactory.createLineString(n.getCoordinates())),this.resultLineList.add(i),n.setInResult(!0)};n.prototype.labelIsolatedLines=function(n){for(var t,r,i=n.iterator();i.hasNext();)t=i.next(),r=t.getLabel(),t.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(t,0):this.labelIsolatedLine(t,1))};n.prototype.labelIsolatedLine=function(n,t){var i=ptLocator.locate(n.getCoordinate(),op.getArgGeometry(t));n.getLabel().setLocation(t,i)};jsts.operation.overlay.LineBuilder=n}(),function(){var t=javascript.util.ArrayList,n=function(n,i){this.resultPointList=new t;this.op=n;this.geometryFactory=i};n.prototype.op=null;n.prototype.geometryFactory=null;n.prototype.resultPointList=null;n.prototype.build=function(n){return this.extractNonCoveredResultNodes(n),this.resultPointList};n.prototype.extractNonCoveredResultNodes=function(n){for(var t,r,i=this.op.getGraph().getNodes().iterator();i.hasNext();)t=i.next(),t.isInResult()||t.isIncidentEdgeInResult()||0!==t.getEdges().getDegree()&&n!==jsts.operation.overlay.OverlayOp.INTERSECTION||(r=t.getLabel(),jsts.operation.overlay.OverlayOp.isResultOfOp(r,n)&&this.filterCoveredNodeToPoint(t))};n.prototype.filterCoveredNodeToPoint=function(n){var t=n.getCoordinate(),i;this.op.isCoveredByLA(t)||(i=this.geometryFactory.createPoint(t),this.resultPointList.add(i))};jsts.operation.overlay.PointBuilder=n}(),function(){var f=jsts.algorithm.PointLocator,n=jsts.geom.Location,e=jsts.geomgraph.EdgeList,o=jsts.geomgraph.Label,s=jsts.geomgraph.PlanarGraph,t=jsts.geomgraph.Position,h=jsts.geomgraph.EdgeNodingValidator,r=jsts.operation.GeometryGraphOperation,c=jsts.operation.overlay.OverlayNodeFactory,l=jsts.operation.overlay.PolygonBuilder,a=jsts.operation.overlay.LineBuilder,v=jsts.operation.overlay.PointBuilder,u=jsts.util.Assert,i=javascript.util.ArrayList;jsts.operation.overlay.OverlayOp=function(n,t){this.ptLocator=new f;this.edgeList=new e;this.resultPolyList=new i;this.resultLineList=new i;this.resultPointList=new i;r.call(this,n,t);this.graph=new s(new c);this.geomFact=n.getFactory()};jsts.operation.overlay.OverlayOp.prototype=new r;jsts.operation.overlay.OverlayOp.constructor=jsts.operation.overlay.OverlayOp;jsts.operation.overlay.OverlayOp.INTERSECTION=1;jsts.operation.overlay.OverlayOp.UNION=2;jsts.operation.overlay.OverlayOp.DIFFERENCE=3;jsts.operation.overlay.OverlayOp.SYMDIFFERENCE=4;jsts.operation.overlay.OverlayOp.overlayOp=function(n,t,i){var r=new jsts.operation.overlay.OverlayOp(n,t);return r.getResultGeometry(i)};jsts.operation.overlay.OverlayOp.isResultOfOp=function(n,t){if(3===arguments.length)return jsts.operation.overlay.OverlayOp.isResultOfOp2.apply(this,arguments);var i=n.getLocation(0),r=n.getLocation(1);return jsts.operation.overlay.OverlayOp.isResultOfOp2(i,r,t)};jsts.operation.overlay.OverlayOp.isResultOfOp2=function(t,i,r){switch(t==n.BOUNDARY&&(t=n.INTERIOR),i==n.BOUNDARY&&(i=n.INTERIOR),r){case jsts.operation.overlay.OverlayOp.INTERSECTION:return t==n.INTERIOR&&i==n.INTERIOR;case jsts.operation.overlay.OverlayOp.UNION:return t==n.INTERIOR||i==n.INTERIOR;case jsts.operation.overlay.OverlayOp.DIFFERENCE:return t==n.INTERIOR&&i!=n.INTERIOR;case jsts.operation.overlay.OverlayOp.SYMDIFFERENCE:return t==n.INTERIOR&&i!=n.INTERIOR||t!=n.INTERIOR&&i==n.INTERIOR}return!1};jsts.operation.overlay.OverlayOp.prototype.ptLocator=null;jsts.operation.overlay.OverlayOp.prototype.geomFact=null;jsts.operation.overlay.OverlayOp.prototype.resultGeom=null;jsts.operation.overlay.OverlayOp.prototype.graph=null;jsts.operation.overlay.OverlayOp.prototype.edgeList=null;jsts.operation.overlay.OverlayOp.prototype.resultPolyList=null;jsts.operation.overlay.OverlayOp.prototype.resultLineList=null;jsts.operation.overlay.OverlayOp.prototype.resultPointList=null;jsts.operation.overlay.OverlayOp.prototype.getResultGeometry=function(n){return this.computeOverlay(n),this.resultGeom};jsts.operation.overlay.OverlayOp.prototype.getGraph=function(){return this.graph};jsts.operation.overlay.OverlayOp.prototype.computeOverlay=function(n){var t,r,u,f;this.copyPoints(0);this.copyPoints(1);this.arg[0].computeSelfNodes(this.li,!1);this.arg[1].computeSelfNodes(this.li,!1);this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!0);t=new i;this.arg[0].computeSplitEdges(t);this.arg[1].computeSplitEdges(t);this.insertUniqueEdges(t);this.computeLabelsFromDepths();this.replaceCollapsedEdges();h.checkValid(this.edgeList.getEdges());this.graph.addEdges(this.edgeList.getEdges());this.computeLabelling();this.labelIncompleteNodes();this.findResultAreaEdges(n);this.cancelDuplicateResultEdges();r=new l(this.geomFact);r.add(this.graph);this.resultPolyList=r.getPolygons();u=new a(this,this.geomFact,this.ptLocator);this.resultLineList=u.build(n);f=new v(this,this.geomFact,this.ptLocator);this.resultPointList=f.build(n);this.resultGeom=this.computeGeometry(this.resultPointList,this.resultLineList,this.resultPolyList,n)};jsts.operation.overlay.OverlayOp.prototype.insertUniqueEdges=function(n){for(var i,t=n.iterator();t.hasNext();)i=t.next(),this.insertUniqueEdge(i)};jsts.operation.overlay.OverlayOp.prototype.insertUniqueEdge=function(n){var i=this.edgeList.findEqualEdge(n),u,t,r;null!==i?(u=i.getLabel(),t=n.getLabel(),i.isPointwiseEqual(n)||(t=new o(n.getLabel()),t.flip()),r=i.getDepth(),r.isNull()&&r.add(u),r.add(t),u.merge(t)):this.edgeList.add(n)};jsts.operation.overlay.OverlayOp.prototype.computeLabelsFromDepths=function(){for(var n,f=this.edgeList.iterator();f.hasNext();){var e=f.next(),r=e.getLabel(),i=e.getDepth();if(!i.isNull())for(i.normalize(),n=0;2>n;n++)r.isNull(n)||!r.isArea()||i.isNull(n)||(0==i.getDelta(n)?r.toLine(n):(u.isTrue(!i.isNull(n,t.LEFT),"depth of LEFT side has not been initialized"),r.setLocation(n,t.LEFT,i.getLocation(n,t.LEFT)),u.isTrue(!i.isNull(n,t.RIGHT),"depth of RIGHT side has not been initialized"),r.setLocation(n,t.RIGHT,i.getLocation(n,t.RIGHT))))}};jsts.operation.overlay.OverlayOp.prototype.replaceCollapsedEdges=function(){for(var r,t=new i,n=this.edgeList.iterator();n.hasNext();)r=n.next(),r.isCollapsed()&&(n.remove(),t.add(r.getCollapsedEdge()));this.edgeList.addAll(t)};jsts.operation.overlay.OverlayOp.prototype.copyPoints=function(n){for(var i,r,t=this.arg[n].getNodeIterator();t.hasNext();)i=t.next(),r=this.graph.addNode(i.getCoordinate()),r.setLabel(n,i.getLabel().getLocation(n))};jsts.operation.overlay.OverlayOp.prototype.computeLabelling=function(){for(var t,n=this.graph.getNodes().iterator();n.hasNext();)t=n.next(),t.getEdges().computeLabelling(this.arg);this.mergeSymLabels();this.updateNodeLabelling()};jsts.operation.overlay.OverlayOp.prototype.mergeSymLabels=function(){for(var t,n=this.graph.getNodes().iterator();n.hasNext();)t=n.next(),t.getEdges().mergeSymLabels()};jsts.operation.overlay.OverlayOp.prototype.updateNodeLabelling=function(){for(var t,i,n=this.graph.getNodes().iterator();n.hasNext();)t=n.next(),i=t.getEdges().getLabel(),t.getLabel().merge(i)};jsts.operation.overlay.OverlayOp.prototype.labelIncompleteNodes=function(){for(var n,i,r=0,t=this.graph.getNodes().iterator();t.hasNext();)n=t.next(),i=n.getLabel(),n.isIsolated()&&(r++,i.isNull(0)?this.labelIncompleteNode(n,0):this.labelIncompleteNode(n,1)),n.getEdges().updateLabelling(i)};jsts.operation.overlay.OverlayOp.prototype.labelIncompleteNode=function(n,t){var i=this.ptLocator.locate(n.getCoordinate(),this.arg[t].getGeometry());n.getLabel().setLocation(t,i)};jsts.operation.overlay.OverlayOp.prototype.findResultAreaEdges=function(n){for(var i,r,u=this.graph.getEdgeEnds().iterator();u.hasNext();)i=u.next(),r=i.getLabel(),r.isArea()&&!i.isInteriorAreaEdge()&&jsts.operation.overlay.OverlayOp.isResultOfOp(r.getLocation(0,t.RIGHT),r.getLocation(1,t.RIGHT),n)&&i.setInResult(!0)};jsts.operation.overlay.OverlayOp.prototype.cancelDuplicateResultEdges=function(){for(var n,i,t=this.graph.getEdgeEnds().iterator();t.hasNext();)n=t.next(),i=n.getSym(),n.isInResult()&&i.isInResult()&&(n.setInResult(!1),i.setInResult(!1))};jsts.operation.overlay.OverlayOp.prototype.isCoveredByLA=function(n){return this.isCovered(n,this.resultLineList)?!0:this.isCovered(n,this.resultPolyList)?!0:!1};jsts.operation.overlay.OverlayOp.prototype.isCoveredByA=function(n){return this.isCovered(n,this.resultPolyList)?!0:!1};jsts.operation.overlay.OverlayOp.prototype.isCovered=function(t,i){for(var u,f,r=i.iterator();r.hasNext();)if(u=r.next(),f=this.ptLocator.locate(t,u),f!=n.EXTERIOR)return!0;return!1};jsts.operation.overlay.OverlayOp.prototype.computeGeometry=function(n,t,r){var u=new i;return u.addAll(n),u.addAll(t),u.addAll(r),this.geomFact.buildGeometry(u)};jsts.operation.overlay.OverlayOp.prototype.createEmptyResult=function(n){var t=null;switch(resultDimension(n,this.arg[0].getGeometry(),this.arg[1].getGeometry())){case-1:t=geomFact.createGeometryCollection();break;case 0:t=geomFact.createPoint(null);break;case 1:t=geomFact.createLineString(null);break;case 2:t=geomFact.createPolygon(null,null)}return t};jsts.operation.overlay.OverlayOp.prototype.resultDimension=function(n,t,i){var u=t.getDimension(),f=i.getDimension(),r=-1;switch(n){case jsts.operation.overlay.OverlayOp.INTERSECTION:r=Math.min(u,f);break;case jsts.operation.overlay.OverlayOp.UNION:r=Math.max(u,f);break;case jsts.operation.overlay.OverlayOp.DIFFERENCE:r=u;break;case jsts.operation.overlay.OverlayOp.SYMDIFFERENCE:r=Math.max(u,f)}return r}}(),function(){var t=jsts.operation.overlay.OverlayOp,i=jsts.operation.overlay.snap.GeometrySnapper,n=function(n,t){this.geom=[];this.geom[0]=n;this.geom[1]=t;this.computeSnapTolerance()};n.overlayOp=function(t,i,r){var u=new n(t,i);return u.getResultGeometry(r)};n.intersection=function(n,i){return this.overlayOp(n,i,t.INTERSECTION)};n.union=function(n,i){return this.overlayOp(n,i,t.UNION)};n.difference=function(n,i){return overlayOp(n,i,t.DIFFERENCE)};n.symDifference=function(n,i){return overlayOp(n,i,t.SYMDIFFERENCE)};n.prototype.geom=null;n.prototype.snapTolerance=null;n.prototype.computeSnapTolerance=function(){this.snapTolerance=i.computeOverlaySnapTolerance(this.geom[0],this.geom[1])};n.prototype.getResultGeometry=function(n){var i=this.snap(this.geom),r=t.overlayOp(i[0],i[1],n);return this.prepareResult(r)};n.prototype.selfSnap=function(n){var t=new i(n);return t.snapTo(n,this.snapTolerance)};n.prototype.snap=function(n){var t=n;return i.snap(t[0],t[1],this.snapTolerance)};n.prototype.prepareResult=function(n){return n};n.prototype.cbr=null;n.prototype.removeCommonBits=function(){this.cbr=new jsts.precision.CommonBitsRemover;this.cbr.add(this.geom[0]);this.cbr.add(this.geom[1]);var n=[];return n[0]=cbr.removeCommonBits(this.geom[0].clone()),n[1]=cbr.removeCommonBits(this.geom[1].clone()),n};jsts.operation.overlay.snap.SnapOverlayOp=n}();jsts.geomgraph.index.EdgeSetIntersector=function(){};jsts.geomgraph.index.EdgeSetIntersector.prototype.computeIntersections=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.geomgraph.index.EdgeSetIntersector.prototype.computeIntersections2=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.geomgraph.index.SimpleMCSweepLineIntersector=function(){this.events=[]};jsts.geomgraph.index.SimpleMCSweepLineIntersector.prototype=new jsts.geomgraph.index.EdgeSetIntersector;jsts.geomgraph.index.SimpleMCSweepLineIntersector.prototype.events=null;jsts.geomgraph.index.SimpleMCSweepLineIntersector.prototype.nOverlaps=0;jsts.geomgraph.index.SimpleMCSweepLineIntersector.prototype.computeIntersections=function(n,t,i){return t instanceof javascript.util.List?void this.computeIntersections2.apply(this,arguments):(i?this.addList2(n,null):this.addList(n),void this.computeIntersections3(t))};jsts.geomgraph.index.SimpleMCSweepLineIntersector.prototype.computeIntersections2=function(n,t,i){this.addList2(n,n);this.addList2(t,t);this.computeIntersections3(i)};jsts.geomgraph.index.SimpleMCSweepLineIntersector.prototype.add=function(n,t){var f,u;if(n instanceof javascript.util.List)return void this.addList.apply(this,arguments);for(var r=n.getMonotoneChainEdge(),e=r.getStartIndexes(),i=0;i<e.length-1;i++)f=new jsts.geomgraph.index.MonotoneChain(r,i),u=new jsts.geomgraph.index.SweepLineEvent(r.getMinX(i),f,t),this.events.push(u),this.events.push(new jsts.geomgraph.index.SweepLineEvent(r.getMaxX(i),u))};jsts.geomgraph.index.SimpleMCSweepLineIntersector.prototype.addList=function(n){for(var i,t=n.iterator();t.hasNext();)i=t.next(),this.add(i,i)};jsts.geomgraph.index.SimpleMCSweepLineIntersector.prototype.addList2=function(n,t){for(var r,i=n.iterator();i.hasNext();)r=i.next(),this.add(r,t)};jsts.geomgraph.index.SimpleMCSweepLineIntersector.prototype.prepareEvents=function(){var n,t;for(this.events.sort(function(n,t){return n.compareTo(t)}),n=0;n<this.events.length;n++)t=this.events[n],t.isDelete()&&t.getInsertEvent().setDeleteEventIndex(n)};jsts.geomgraph.index.SimpleMCSweepLineIntersector.prototype.computeIntersections3=function(n){var t,i;for(this.nOverlaps=0,this.prepareEvents(),t=0;t<this.events.length;t++)i=this.events[t],i.isInsert()&&this.processOverlaps(t,i.getDeleteEventIndex(),i,n)};jsts.geomgraph.index.SimpleMCSweepLineIntersector.prototype.processOverlaps=function(n,t,i,r){for(var f,o,e=i.getObject(),u=n;t>u;u++)f=this.events[u],f.isInsert()&&(o=f.getObject(),i.isSameLabel(f)||(e.computeIntersections(o,r),this.nOverlaps++))};jsts.algorithm.locate.SimplePointInAreaLocator=function(n){this.geom=n};jsts.algorithm.locate.SimplePointInAreaLocator.locate=function(n,t){return t.isEmpty()?jsts.geom.Location.EXTERIOR:jsts.algorithm.locate.SimplePointInAreaLocator.containsPoint(n,t)?jsts.geom.Location.INTERIOR:jsts.geom.Location.EXTERIOR};jsts.algorithm.locate.SimplePointInAreaLocator.containsPoint=function(n,t){var i,r;if(t instanceof jsts.geom.Polygon)return jsts.algorithm.locate.SimplePointInAreaLocator.containsPointInPolygon(n,t);if(t instanceof jsts.geom.GeometryCollection||t instanceof jsts.geom.MultiPoint||t instanceof jsts.geom.MultiLineString||t instanceof jsts.geom.MultiPolygon)for(i=0;i<t.geometries.length;i++)if(r=t.geometries[i],r!==t&&jsts.algorithm.locate.SimplePointInAreaLocator.containsPoint(n,r))return!0;return!1};jsts.algorithm.locate.SimplePointInAreaLocator.containsPointInPolygon=function(n,t){var r,i,u;if(t.isEmpty()||(r=t.getExteriorRing(),!jsts.algorithm.locate.SimplePointInAreaLocator.isPointInRing(n,r)))return!1;for(i=0;i<t.getNumInteriorRing();i++)if(u=t.getInteriorRingN(i),jsts.algorithm.locate.SimplePointInAreaLocator.isPointInRing(n,u))return!1;return!0};jsts.algorithm.locate.SimplePointInAreaLocator.isPointInRing=function(n,t){return t.getEnvelopeInternal().intersects(n)?jsts.algorithm.CGAlgorithms.isPointInRing(n,t.getCoordinates()):!1};jsts.algorithm.locate.SimplePointInAreaLocator.prototype.geom=null;jsts.algorithm.locate.SimplePointInAreaLocator.prototype.locate=function(n){return jsts.algorithm.locate.SimplePointInAreaLocator.locate(n,geom)},function(){var n=jsts.geom.Location,t=jsts.geomgraph.Position,r=jsts.geomgraph.EdgeEndStar,i=jsts.util.Assert;jsts.geomgraph.DirectedEdgeStar=function(){jsts.geomgraph.EdgeEndStar.call(this)};jsts.geomgraph.DirectedEdgeStar.prototype=new r;jsts.geomgraph.DirectedEdgeStar.constructor=jsts.geomgraph.DirectedEdgeStar;jsts.geomgraph.DirectedEdgeStar.prototype.resultAreaEdgeList=null;jsts.geomgraph.DirectedEdgeStar.prototype.label=null;jsts.geomgraph.DirectedEdgeStar.prototype.insert=function(n){var t=n;this.insertEdgeEnd(t,t)};jsts.geomgraph.DirectedEdgeStar.prototype.getLabel=function(){return this.label};jsts.geomgraph.DirectedEdgeStar.prototype.getOutgoingDegree=function(){for(var i,n=0,t=this.iterator();t.hasNext();)i=t.next(),i.isInResult()&&n++;return n};jsts.geomgraph.DirectedEdgeStar.prototype.getOutgoingDegree=function(n){for(var r,t=0,i=this.iterator();i.hasNext();)r=i.next(),r.getEdgeRing()===n&&t++;return t};jsts.geomgraph.DirectedEdgeStar.prototype.getRightmostEdge=function(){var r=this.getEdges(),u=r.size(),n;if(1>u)return null;if(n=r.get(0),1==u)return n;var t=r.get(u-1),f=n.getQuadrant(),e=t.getQuadrant();return jsts.geomgraph.Quadrant.isNorthern(f)&&jsts.geomgraph.Quadrant.isNorthern(e)?n:!jsts.geomgraph.Quadrant.isNorthern(f)&&!jsts.geomgraph.Quadrant.isNorthern(e)?t:0!=n.getDy()?n:0!=t.getDy()?t:(i.shouldNeverReachHere("found two horizontal edges incident on node"),null)};jsts.geomgraph.DirectedEdgeStar.prototype.computeLabelling=function(t){var u,f;for(r.prototype.computeLabelling.call(this,t),this.label=new jsts.geomgraph.Label(n.NONE),u=this.iterator();u.hasNext();)for(var e=u.next(),o=e.getEdge(),s=o.getLabel(),i=0;2>i;i++)f=s.getLocation(i),(f===n.INTERIOR||f===n.BOUNDARY)&&this.label.setLocation(i,n.INTERIOR)};jsts.geomgraph.DirectedEdgeStar.prototype.mergeSymLabels=function(){for(var t,i,n=this.iterator();n.hasNext();)t=n.next(),i=t.getLabel(),i.merge(t.getSym().getLabel())};jsts.geomgraph.DirectedEdgeStar.prototype.updateLabelling=function(n){for(var r,i,t=this.iterator();t.hasNext();)r=t.next(),i=r.getLabel(),i.setAllLocationsIfNull(0,n.getLocation(0)),i.setAllLocationsIfNull(1,n.getLocation(1))};jsts.geomgraph.DirectedEdgeStar.prototype.getResultAreaEdges=function(){var t,n;if(null!==this.resultAreaEdgeList)return this.resultAreaEdgeList;for(this.resultAreaEdgeList=new javascript.util.ArrayList,t=this.iterator();t.hasNext();)n=t.next(),(n.isInResult()||n.getSym().isInResult())&&this.resultAreaEdgeList.add(n);return this.resultAreaEdgeList};jsts.geomgraph.DirectedEdgeStar.prototype.SCANNING_FOR_INCOMING=1;jsts.geomgraph.DirectedEdgeStar.prototype.LINKING_TO_OUTGOING=2;jsts.geomgraph.DirectedEdgeStar.prototype.linkResultDirectedEdges=function(){var n,e;this.getResultAreaEdges();for(var t=null,u=null,r=this.SCANNING_FOR_INCOMING,f=0;f<this.resultAreaEdgeList.size();f++)if(n=this.resultAreaEdgeList.get(f),e=n.getSym(),n.getLabel().isArea())switch(null===t&&n.isInResult()&&(t=n),r){case this.SCANNING_FOR_INCOMING:if(!e.isInResult())continue;u=e;r=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(!n.isInResult())continue;u.setNext(n);r=this.SCANNING_FOR_INCOMING}if(r===this.LINKING_TO_OUTGOING){if(null===t)throw new jsts.error.TopologyError("no outgoing dirEdge found",this.getCoordinate());i.isTrue(t.isInResult(),"unable to link last incoming dirEdge");u.setNext(t)}};jsts.geomgraph.DirectedEdgeStar.prototype.linkMinimalDirectedEdges=function(n){for(var t,o,r=null,f=null,u=this.SCANNING_FOR_INCOMING,e=this.resultAreaEdgeList.size()-1;e>=0;e--){t=this.resultAreaEdgeList.get(e);o=t.getSym();switch(null===r&&t.getEdgeRing()===n&&(r=t),u){case this.SCANNING_FOR_INCOMING:if(o.getEdgeRing()!=n)continue;f=o;u=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(t.getEdgeRing()!==n)continue;f.setNextMin(t);u=this.SCANNING_FOR_INCOMING}}u===this.LINKING_TO_OUTGOING&&(i.isTrue(null!==r,"found null for first outgoing dirEdge"),i.isTrue(r.getEdgeRing()===n,"unable to link last incoming dirEdge"),f.setNextMin(r))};jsts.geomgraph.DirectedEdgeStar.prototype.linkAllDirectedEdges=function(){var r,u;this.getEdges();for(var n=null,t=null,i=this.edgeList.size()-1;i>=0;i--)r=this.edgeList.get(i),u=r.getSym(),null===t&&(t=u),null!==n&&u.setNext(n),n=r;t.setNext(n)};jsts.geomgraph.DirectedEdgeStar.prototype.findCoveredLineEdges=function(){for(var f,t,u,r=n.NONE,i=this.iterator();i.hasNext();)if(t=i.next(),u=t.getSym(),!t.isLineEdge()){if(t.isInResult()){r=n.INTERIOR;break}if(u.isInResult()){r=n.EXTERIOR;break}}if(r!==n.NONE)for(f=r,i=this.iterator();i.hasNext();)t=i.next(),u=t.getSym(),t.isLineEdge()?t.getEdge().setCovered(f===n.INTERIOR):(t.isInResult()&&(f=n.EXTERIOR),u.isInResult()&&(f=n.INTERIOR))};jsts.geomgraph.DirectedEdgeStar.prototype.computeDepths=function(n){if(2===arguments.length)return void this.computeDepths2.apply(this,arguments);var i=this.findIndex(n),r=(n.getLabel(),n.getDepth(t.LEFT)),u=n.getDepth(t.RIGHT),f=this.computeDepths2(i+1,this.edgeList.size(),r),e=this.computeDepths2(0,i,f);if(e!=u)throw new jsts.error.TopologyError("depth mismatch at "+n.getCoordinate());};jsts.geomgraph.DirectedEdgeStar.prototype.computeDepths2=function(n,i,r){for(var e,u=r,f=n;i>f;f++)e=this.edgeList.get(f),e.getLabel(),e.setEdgeDepths(t.RIGHT,u),u=e.getDepth(t.LEFT);return u}}();jsts.algorithm.CentroidLine=function(){this.centSum=new jsts.geom.Coordinate};jsts.algorithm.CentroidLine.prototype.centSum=null;jsts.algorithm.CentroidLine.prototype.totalLength=0;jsts.algorithm.CentroidLine.prototype.add=function(n){var i,r,t;if(n instanceof Array)return void this.add2.apply(this,arguments);if(n instanceof jsts.geom.LineString)this.add(n.getCoordinates());else if(n instanceof jsts.geom.Polygon)for(i=n,this.add(i.getExteriorRing().getCoordinates()),t=0;t<i.getNumInteriorRing();t++)this.add(i.getInteriorRingN(t).getCoordinates());else if(n instanceof jsts.geom.GeometryCollection||n instanceof jsts.geom.MultiPoint||n instanceof jsts.geom.MultiLineString||n instanceof jsts.geom.MultiPolygon)for(r=n,t=0;t<r.getNumGeometries();t++)this.add(r.getGeometryN(t))};jsts.algorithm.CentroidLine.prototype.getCentroid=function(){var n=new jsts.geom.Coordinate;return n.x=this.centSum.x/this.totalLength,n.y=this.centSum.y/this.totalLength,n};jsts.algorithm.CentroidLine.prototype.add2=function(n){for(var i,r,u,t=0;t<n.length-1;t++)i=n[t].distance(n[t+1]),this.totalLength+=i,r=(n[t].x+n[t+1].x)/2,this.centSum.x+=i*r,u=(n[t].y+n[t+1].y)/2,this.centSum.y+=i*u};jsts.index.IntervalSize=function(){};jsts.index.IntervalSize.MIN_BINARY_EXPONENT=-50;jsts.index.IntervalSize.isZeroWidth=function(n,t){var i=t-n,r,u,f;return 0===i?!0:(r=Math.max(Math.abs(n),Math.abs(t)),u=i/r,f=jsts.index.DoubleBits.exponent(u),f<=jsts.index.IntervalSize.MIN_BINARY_EXPONENT)};jsts.geomgraph.index.SimpleEdgeSetIntersector=function(){};jsts.geomgraph.index.SimpleEdgeSetIntersector.prototype=new jsts.geomgraph.index.EdgeSetIntersector;jsts.geomgraph.index.SimpleEdgeSetIntersector.prototype.nOverlaps=0;jsts.geomgraph.index.SimpleEdgeSetIntersector.prototype.computeIntersections=function(n,t,i){var r,u,f,e;if(t instanceof javascript.util.List)return void this.computeIntersections2.apply(this,arguments);for(this.nOverlaps=0,r=n.iterator();r.hasNext();)for(u=r.next(),f=n.iterator();f.hasNext();)e=f.next(),(i||u!=e)&&this.computeIntersects(u,e,t)};jsts.geomgraph.index.SimpleEdgeSetIntersector.prototype.computeIntersections2=function(n,t,i){var r,f,u,e;for(this.nOverlaps=0,r=n.iterator();r.hasNext();)for(f=r.next(),u=t.iterator();u.hasNext();)e=u.next(),this.computeIntersects(f,e,i)};jsts.geomgraph.index.SimpleEdgeSetIntersector.prototype.computeIntersects=function(n,t,i){for(var u,f=n.getCoordinates(),e=t.getCoordinates(),r=0;r<f.length-1;r++)for(u=0;u<e.length-1;u++)i.addIntersections(n,r,t,u)};jsts.geomgraph.Edge=function(n,t){this.pts=n;this.label=t;this.eiList=new jsts.geomgraph.EdgeIntersectionList(this);this.depth=new jsts.geomgraph.Depth};jsts.geomgraph.Edge.prototype=new jsts.geomgraph.GraphComponent;jsts.geomgraph.Edge.constructor=jsts.geomgraph.Edge;jsts.geomgraph.Edge.updateIM=function(n,t){t.setAtLeastIfValid(n.getLocation(0,jsts.geomgraph.Position.ON),n.getLocation(1,jsts.geomgraph.Position.ON),1);n.isArea()&&(t.setAtLeastIfValid(n.getLocation(0,jsts.geomgraph.Position.LEFT),n.getLocation(1,jsts.geomgraph.Position.LEFT),2),t.setAtLeastIfValid(n.getLocation(0,jsts.geomgraph.Position.RIGHT),n.getLocation(1,jsts.geomgraph.Position.RIGHT),2))};jsts.geomgraph.Edge.prototype.pts=null;jsts.geomgraph.Edge.prototype.env=null;jsts.geomgraph.Edge.prototype.name=null;jsts.geomgraph.Edge.prototype.mce=null;jsts.geomgraph.Edge.prototype._isIsolated=!0;jsts.geomgraph.Edge.prototype.depth=null;jsts.geomgraph.Edge.prototype.depthDelta=0;jsts.geomgraph.Edge.prototype.eiList=null;jsts.geomgraph.Edge.prototype.getNumPoints=function(){return this.pts.length};jsts.geomgraph.Edge.prototype.getEnvelope=function(){if(null===this.env){this.env=new jsts.geom.Envelope;for(var n=0;n<this.pts.length;n++)this.env.expandToInclude(pts[n])}return env};jsts.geomgraph.Edge.prototype.getDepth=function(){return this.depth};jsts.geomgraph.Edge.prototype.getDepthDelta=function(){return this.depthDelta};jsts.geomgraph.Edge.prototype.setDepthDelta=function(n){this.depthDelta=n};jsts.geomgraph.Edge.prototype.getCoordinates=function(){return this.pts};jsts.geomgraph.Edge.prototype.getCoordinate=function(n){return void 0===n?this.pts.length>0?this.pts[0]:null:this.pts[n]};jsts.geomgraph.Edge.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])};jsts.geomgraph.Edge.prototype.setIsolated=function(n){this._isIsolated=n};jsts.geomgraph.Edge.prototype.isIsolated=function(){return this._isIsolated};jsts.geomgraph.Edge.prototype.addIntersections=function(n,t,i){for(var r=0;r<n.getIntersectionNum();r++)this.addIntersection(n,t,i,r)};jsts.geomgraph.Edge.prototype.addIntersection=function(n,t,i,r){var e=new jsts.geom.Coordinate(n.getIntersection(r)),u=t,o=n.getEdgeDistance(i,r),f=u+1,s;f<this.pts.length&&(s=this.pts[f],e.equals2D(s)&&(u=f,o=0));this.eiList.add(e,u,o)};jsts.geomgraph.Edge.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1};jsts.geomgraph.Edge.prototype.getEdgeIntersectionList=function(){return this.eiList};jsts.geomgraph.Edge.prototype.getMonotoneChainEdge=function(){return null==this.mce&&(this.mce=new jsts.geomgraph.index.MonotoneChainEdge(this)),this.mce};jsts.geomgraph.Edge.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])};jsts.geomgraph.Edge.prototype.isCollapsed=function(){return this.label.isArea()?3!=this.pts.length?!1:this.pts[0].equals(this.pts[2])?!0:!1:!1};jsts.geomgraph.Edge.prototype.getCollapsedEdge=function(){var n=[];return n[0]=this.pts[0],n[1]=this.pts[1],new jsts.geomgraph.Edge(n,jsts.geomgraph.Label.toLineLabel(this.label))};jsts.geomgraph.Edge.prototype.computeIM=function(n){jsts.geomgraph.Edge.updateIM(this.label,n)};jsts.geomgraph.Edge.prototype.isPointwiseEqual=function(n){if(this.pts.length!=n.pts.length)return!1;for(var t=0;t<this.pts.length;t++)if(!this.pts[t].equals2D(n.pts[t]))return!1;return!0};jsts.noding.Octant=function(){throw jsts.error.AbstractMethodInvocationError();};jsts.noding.Octant.octant=function(n,t){if(n instanceof jsts.geom.Coordinate)return jsts.noding.Octant.octant2.apply(this,arguments);if(0===n&&0===t)throw new jsts.error.IllegalArgumentError("Cannot compute the octant for point ( "+n+", "+t+" )");var i=Math.abs(n),r=Math.abs(t);return n>=0?t>=0?i>=r?0:1:i>=r?7:6:t>=0?i>=r?3:2:i>=r?4:5};jsts.noding.Octant.octant2=function(n,t){var i=t.x-n.x,r=t.y-n.y;if(0===i&&0===r)throw new jsts.error.IllegalArgumentError("Cannot compute the octant for two identical points "+n);return jsts.noding.Octant.octant(i,r)};jsts.operation.union.UnionInteracting=function(n,t){this.g0=n;this.g1=t;this.geomFactory=n.getFactory();this.interacts0=[];this.interacts1=[]};jsts.operation.union.UnionInteracting.union=function(n,t){var i=new jsts.operation.union.UnionInteracting(n,t);return i.union()};jsts.operation.union.UnionInteracting.prototype.geomFactory=null;jsts.operation.union.UnionInteracting.prototype.g0=null;jsts.operation.union.UnionInteracting.prototype.g1=null;jsts.operation.union.UnionInteracting.prototype.interacts0=null;jsts.operation.union.UnionInteracting.prototype.interacts1=null;jsts.operation.union.UnionInteracting.prototype.union=function(){var t,n;this.computeInteracting();t=this.extractElements(this.g0,this.interacts0,!0);n=this.extractElements(this.g1,this.interacts1,!0);t.isEmpty()||n.isEmpty();var i=in0.union(n),r=this.extractElements(this.g0,this.interacts0,!1),u=this.extractElements(this.g1,this.interacts1,!1);return jsts.geom.util.GeometryCombiner.combine(i,r,u)};jsts.operation.union.UnionInteracting.prototype.bufferUnion=function(n,t){var i=n.getFactory(),r=i.createGeometryCollection([n,t]);return r.buffer(0)};jsts.operation.union.UnionInteracting.prototype.computeInteracting=function(n){var u,f,t,i,e;if(n){for(var r=!1,t=0,i=g1.getNumGeometries();i>t;t++)u=this.g1.getGeometryN(t),f=u.getEnvelopeInternal().intersects(n.getEnvelopeInternal()),f&&(this.interacts1[t]=!0,r=!0);return r}for(t=0,i=this.g0.getNumGeometries();i>t;t++)e=this.g0.getGeometryN(t),this.interacts0[t]=this.computeInteracting(e)};jsts.operation.union.UnionInteracting.prototype.extractElements=function(n,t,i){for(var f,u=[],r=0,e=n.getNumGeometries();e>r;r++)f=n.getGeometryN(r),t[r]===i&&u.push(f);return this.geomFactory.buildGeometry(u)};jsts.triangulate.quadedge.TrianglePredicate=function(){};jsts.triangulate.quadedge.TrianglePredicate.isInCircleNonRobust=function(n,t,i,r){return(n.x*n.x+n.y*n.y)*jsts.triangulate.quadedge.TrianglePredicate.triArea(t,i,r)-(t.x*t.x+t.y*t.y)*jsts.triangulate.quadedge.TrianglePredicate.triArea(n,i,r)+(i.x*i.x+i.y*i.y)*jsts.triangulate.quadedge.TrianglePredicate.triArea(n,t,r)-(r.x*r.x+r.y*r.y)*jsts.triangulate.quadedge.TrianglePredicate.triArea(n,t,i)>0};jsts.triangulate.quadedge.TrianglePredicate.isInCircleNormalized=function(n,t,i,r){var u,f,e,o,s,h,c,l,a,v,y,p,w;return u=n.x-r.x,f=n.y-r.y,e=t.x-r.x,o=t.y-r.y,s=i.x-r.x,h=i.y-r.y,c=u*o-e*f,l=e*h-s*o,a=s*f-u*h,v=u*u+f*f,y=e*e+o*o,p=s*s+h*h,w=v*l+y*a+p*c,w>0};jsts.triangulate.quadedge.TrianglePredicate.triArea=function(n,t,i){return(t.x-n.x)*(i.y-n.y)-(t.y-n.y)*(i.x-n.x)};jsts.triangulate.quadedge.TrianglePredicate.isInCircleRobust=function(n,t,i,r){return jsts.triangulate.quadedge.TrianglePredicate.isInCircleNormalized(n,t,i,r)};jsts.triangulate.quadedge.TrianglePredicate.isInCircleDDSlow=function(n,t,i,r){var u,f,e,o,s,h,c,l,a,v,y,p,w,b;return u=jsts.math.DD.valueOf(r.x),f=jsts.math.DD.valueOf(r.y),e=jsts.math.DD.valueOf(n.x),o=jsts.math.DD.valueOf(n.y),s=jsts.math.DD.valueOf(t.x),h=jsts.math.DD.valueOf(t.y),c=jsts.math.DD.valueOf(i.x),l=jsts.math.DD.valueOf(i.y),a=e.multiply(e).add(o.multiply(o)).multiply(jsts.triangulate.quadedge.TrianglePredicate.triAreaDDSlow(s,h,c,l,u,f)),v=s.multiply(s).add(h.multiply(h)).multiply(jsts.triangulate.quadedge.TrianglePredicate.triAreaDDSlow(e,o,c,l,u,f)),y=c.multiply(c).add(l.multiply(l)).multiply(jsts.triangulate.quadedge.TrianglePredicate.triAreaDDSlow(e,o,s,h,u,f)),p=u.multiply(u).add(f.multiply(f)).multiply(jsts.triangulate.quadedge.TrianglePredicate.triAreaDDSlow(e,o,s,h,c,l)),w=a.subtract(v).add(y).subtract(p),b=w.doubleValue()>0};jsts.triangulate.quadedge.TrianglePredicate.triAreaDDSlow=function(n,t,i,r,u,f){return i.subtract(n).multiply(f.subtract(t)).subtract(r.subtract(t).multiply(u.subtract(n)))};jsts.triangulate.quadedge.TrianglePredicate.isInCircleDDFast=function(n,t,i,r){var u,f,e,o,s,h;return u=jsts.math.DD.sqr(n.x).selfAdd(jsts.math.DD.sqr(n.y)).selfMultiply(jsts.triangulate.quadedge.TrianglePredicate.triAreaDDFast(t,i,r)),f=jsts.math.DD.sqr(t.x).selfAdd(jsts.math.DD.sqr(t.y)).selfMultiply(jsts.triangulate.quadedge.TrianglePredicate.triAreaDDFast(n,i,r)),e=jsts.math.DD.sqr(i.x).selfAdd(jsts.math.DD.sqr(i.y)).selfMultiply(jsts.triangulate.quadedge.TrianglePredicate.triAreaDDFast(n,t,r)),o=jsts.math.DD.sqr(r.x).selfAdd(jsts.math.DD.sqr(r.y)).selfMultiply(jsts.triangulate.quadedge.TrianglePredicate.triAreaDDFast(n,t,i)),s=u.selfSubtract(f).selfAdd(e).selfSubtract(o),h=s.doubleValue()>0};jsts.triangulate.quadedge.TrianglePredicate.triAreaDDFast=function(n,t,i){var r,u;return r=jsts.math.DD.valueOf(t.x).selfSubtract(n.x).selfMultiply(jsts.math.DD.valueOf(i.y).selfSubtract(n.y)),u=jsts.math.DD.valueOf(t.y).selSubtract(n.y).selfMultiply(jsts.math.DD.valueOf(i.x).selfSubtract(n.x)),r.selfSubtract(u)};jsts.triangulate.quadedge.TrianglePredicate.isInCircleDDNormalized=function(n,t,i,r){var e,o,u,s,f,h,c,l,a,v,y,p,w,b;return e=jsts.math.DD.valueOf(n.x).selfSubtract(r.x),o=jsts.math.DD.valueOf(n.y).selfSubtract(r.y),u=jsts.math.DD.valueOf(t.x).selfSubtract(r.x),u=jsts.math.DD.valueOf(t.y).selfSubtract(r.y),f=jsts.math.DD.valueOf(i.x).selfSubtract(r.x),f=jsts.math.DD.valueOf(i.y).selfSubtract(r.y),c=e.multiply(s).selfSubtract(u.multiply(o)),l=u.multiply(h).selfSubtract(f.multiply(s)),a=f.multiply(o).selfSubtract(e.multiply(h)),v=e.multiply(e).selfAdd(o.multiply(o)),y=u.multiply(u).selfAdd(s.multiply(s)),p=f.multiply(f).selfAdd(h.multiply(h)),w=v.selfMultiply(l).selfAdd(y.selfMultiply(a)).selfAdd(p.selfMultiply(c)),b=w.doubleValue()>0};jsts.triangulate.quadedge.TrianglePredicate.isInCircleCC=function(n,t,i,r){var u,f,e;return u=jsts.geom.Triangle.circumcentre(n,t,i),f=n.distance(u),e=r.distance(u)-f,0>=e};jsts.operation.union.PointGeometryUnion=function(n,t){this.pointGeom=n;this.otherGeom=t;this.geomFact=t.getFactory()};jsts.operation.union.PointGeometryUnion.union=function(n,t){var i=new jsts.operation.union.PointGeometryUnion(n,t);return i.union()};jsts.operation.union.PointGeometryUnion.prototype.pointGeom=null;jsts.operation.union.PointGeometryUnion.prototype.otherGeom=null;jsts.operation.union.PointGeometryUnion.prototype.geomFact=null;jsts.operation.union.PointGeometryUnion.prototype.union=function(){for(var u,e,f,i,o=new jsts.algorithm.PointLocator,n=[],t=0,s=this.pointGeom.getNumGeometries();s>t;t++){var h=this.pointGeom.getGeometryN(t),r=h.getCoordinate(),c=o.locate(r,this.otherGeom);if(c===jsts.geom.Location.EXTERIOR){for(u=!0,e=n.length;t--;)if(n[e].equals(r)){u=!1;break}u&&n.push(r)}}return(n.sort(function(n,t){return n.compareTo(t)}),0===n.length)?this.otherGeom:(f=null,i=jsts.geom.CoordinateArrays.toCoordinateArray(n),f=1===i.length?this.geomFact.createPoint(i[0]):this.geomFact.createMultiPoint(i),jsts.geom.util.GeometryCombiner.combine(f,this.otherGeom))};jsts.noding.IntersectionFinderAdder=function(n){this.li=n;this.interiorIntersections=new javascript.util.ArrayList};jsts.noding.IntersectionFinderAdder.prototype=new jsts.noding.SegmentIntersector;jsts.noding.IntersectionFinderAdder.constructor=jsts.noding.IntersectionFinderAdder;jsts.noding.IntersectionFinderAdder.prototype.li=null;jsts.noding.IntersectionFinderAdder.prototype.interiorIntersections=null;jsts.noding.IntersectionFinderAdder.prototype.getInteriorIntersections=function(){return this.interiorIntersections};jsts.noding.IntersectionFinderAdder.prototype.processIntersections=function(n,t,i,r){var u;if(n!==i||t!==r){var f=n.getCoordinates()[t],e=n.getCoordinates()[t+1],o=i.getCoordinates()[r],s=i.getCoordinates()[r+1];if(this.li.computeIntersection(f,e,o,s),this.li.hasIntersection()&&this.li.isInteriorIntersection()){for(u=0;u<this.li.getIntersectionNum();u++)this.interiorIntersections.add(this.li.getIntersection(u));n.addIntersections(this.li,t,0);i.addIntersections(this.li,r,1)}}};jsts.noding.IntersectionFinderAdder.prototype.isDone=function(){return!1};jsts.noding.snapround.MCIndexSnapRounder=function(n){this.pm=n;this.li=new jsts.algorithm.RobustLineIntersector;this.li.setPrecisionModel(n);this.scaleFactor=n.getScale()};jsts.noding.snapround.MCIndexSnapRounder.prototype=new jsts.noding.Noder;jsts.noding.snapround.MCIndexSnapRounder.constructor=jsts.noding.snapround.MCIndexSnapRounder;jsts.noding.snapround.MCIndexSnapRounder.prototype.pm=null;jsts.noding.snapround.MCIndexSnapRounder.prototype.li=null;jsts.noding.snapround.MCIndexSnapRounder.prototype.scaleFactor=null;jsts.noding.snapround.MCIndexSnapRounder.prototype.noder=null;jsts.noding.snapround.MCIndexSnapRounder.prototype.pointSnapper=null;jsts.noding.snapround.MCIndexSnapRounder.prototype.nodedSegStrings=null;jsts.noding.snapround.MCIndexSnapRounder.prototype.getNodedSubstrings=function(){return jsts.noding.NodedSegmentString.getNodedSubstrings(this.nodedSegStrings)};jsts.noding.snapround.MCIndexSnapRounder.prototype.computeNodes=function(n){this.nodedSegStrings=n;this.noder=new jsts.noding.MCIndexNoder;this.pointSnapper=new jsts.noding.snapround.MCIndexPointSnapper(this.noder.getIndex());this.snapRound(n,this.li)};jsts.noding.snapround.MCIndexSnapRounder.prototype.snapRound=function(n,t){var i=this.findInteriorIntersections(n,t);this.computeIntersectionSnaps(i);this.computeVertexSnaps(n)};jsts.noding.snapround.MCIndexSnapRounder.prototype.findInteriorIntersections=function(n,t){var i=new jsts.noding.IntersectionFinderAdder(t);return this.noder.setSegmentIntersector(i),this.noder.computeNodes(n),i.getInteriorIntersections()};jsts.noding.snapround.MCIndexSnapRounder.prototype.computeIntersectionSnaps=function(n){for(var i,r,t=n.iterator();t.hasNext();)i=t.next(),r=new jsts.noding.snapround.HotPixel(i,this.scaleFactor,this.li),this.pointSnapper.snap(r)};jsts.noding.snapround.MCIndexSnapRounder.prototype.computeVertexSnaps=function(n){var t,i;if(n instanceof jsts.noding.NodedSegmentString)return void this.computeVertexSnaps2.apply(this,arguments);for(t=n.iterator();t.hasNext();)i=t.next(),this.computeVertexSnaps(i)};jsts.noding.snapround.MCIndexSnapRounder.prototype.computeVertexSnaps2=function(n){for(var r,u,i=n.getCoordinates(),t=0;t<i.length-1;t++)r=new jsts.noding.snapround.HotPixel(i[t],this.scaleFactor,this.li),u=this.pointSnapper.snap(r,n,t),u&&n.addIntersection(i[t],t)};jsts.operation.valid.ConnectedInteriorTester=function(n){this.geomGraph=n;this.geometryFactory=new jsts.geom.GeometryFactory;this.disconnectedRingcoord=null};jsts.operation.valid.ConnectedInteriorTester.findDifferentPoint=function(n,t){var i=0,r=n.length;for(i;r>i;i++)if(!n[i].equals(t))return n[i];return null};jsts.operation.valid.ConnectedInteriorTester.prototype.getCoordinate=function(){return this.disconnectedRingcoord};jsts.operation.valid.ConnectedInteriorTester.prototype.isInteriorsConnected=function(){var t=new javascript.util.ArrayList,n,i;return this.geomGraph.computeSplitEdges(t),n=new jsts.geomgraph.PlanarGraph(new jsts.operation.overlay.OverlayNodeFactory),n.addEdges(t),this.setInteriorEdgesInResult(n),n.linkResultDirectedEdges(),i=this.buildEdgeRings(n.getEdgeEnds()),this.visitShellInteriors(this.geomGraph.getGeometry(),n),!this.hasUnvisitedShellEdge(i)};jsts.operation.valid.ConnectedInteriorTester.prototype.setInteriorEdgesInResult=function(n){for(var t,i=n.getEdgeEnds().iterator();i.hasNext();)t=i.next(),t.getLabel().getLocation(0,jsts.geomgraph.Position.RIGHT)==jsts.geom.Location.INTERIOR&&t.setInResult(!0)};jsts.operation.valid.ConnectedInteriorTester.prototype.buildEdgeRings=function(n){for(var t,f,r=new javascript.util.ArrayList,u=n.iterator();u.hasNext();)if(t=u.next(),t.isInResult()&&null==t.getEdgeRing()){f=new jsts.operation.overlay.MaximalEdgeRing(t,this.geometryFactory);f.linkDirectedEdgesForMinimalEdgeRings();var e=f.buildMinimalRings(),i=0,o=e.length;for(i;o>i;i++)r.add(e[i])}return r};jsts.operation.valid.ConnectedInteriorTester.prototype.visitShellInteriors=function(n,t){var u,r,i;if(n instanceof jsts.geom.Polygon&&(i=n,this.visitInteriorRing(i.getExteriorRing(),t)),n instanceof jsts.geom.MultiPolygon)for(u=n,r=0;r<u.getNumGeometries();r++)i=u.getGeometryN(r),this.visitInteriorRing(i.getExteriorRing(),t)};jsts.operation.valid.ConnectedInteriorTester.prototype.visitInteriorRing=function(n,t){var u=n.getCoordinates(),f=u[0],e=jsts.operation.valid.ConnectedInteriorTester.findDifferentPoint(u,f),o=t.findEdgeInSameDirection(f,e),i=t.findEdgeEnd(o),r=null;i.getLabel().getLocation(0,jsts.geomgraph.Position.RIGHT)==jsts.geom.Location.INTERIOR?r=i:i.getSym().getLabel().getLocation(0,jsts.geomgraph.Position.RIGHT)==jsts.geom.Location.INTERIOR&&(r=i.getSym());this.visitLinkedDirectedEdges(r)};jsts.operation.valid.ConnectedInteriorTester.prototype.visitLinkedDirectedEdges=function(n){var i=n,t=n;do t.setVisited(!0),t=t.getNext();while(t!=i)};jsts.operation.valid.ConnectedInteriorTester.prototype.hasUnvisitedShellEdge=function(n){for(var f,r,t,u,i=0;i<n.size();i++)if(f=n.get(i),!f.isHole()&&(r=f.getEdges(),t=r[0],t.getLabel().getLocation(0,jsts.geomgraph.Position.RIGHT)==jsts.geom.Location.INTERIOR))for(u=0;u<r.length;u++)if(t=r[u],!t.isVisited())return disconnectedRingcoord=t.getCoordinate(),!0;return!1};jsts.algorithm.InteriorPointLine=function(n){this.centroid;this.minDistance=Number.MAX_VALUE;this.interiorPoint=null;this.centroid=n.getCentroid().getCoordinate();this.addInterior(n);null==this.interiorPoint&&this.addEndpoints(n)};jsts.algorithm.InteriorPointLine.prototype.getInteriorPoint=function(){return this.interiorPoint};jsts.algorithm.InteriorPointLine.prototype.addInterior=function(n){if(n instanceof jsts.geom.LineString)this.addInteriorCoord(n.getCoordinates());else if(n instanceof jsts.geom.GeometryCollection)for(var t=0;t<n.getNumGeometries();t++)this.addInterior(n.getGeometryN(t))};jsts.algorithm.InteriorPointLine.prototype.addInteriorCoord=function(n){for(var t=1;t<n.length-1;t++)this.add(n[t])};jsts.algorithm.InteriorPointLine.prototype.addEndpoints=function(n){if(n instanceof jsts.geom.LineString)this.addEndpointsCoord(n.getCoordinates());else if(n instanceof jsts.geom.GeometryCollection)for(var t=0;t<n.getNumGeometries();t++)this.addEndpoints(n.getGeometryN(t))};jsts.algorithm.InteriorPointLine.prototype.addEndpointsCoord=function(n){this.add(n[0]);this.add(n[n.length-1])};jsts.algorithm.InteriorPointLine.prototype.add=function(n){var t=n.distance(this.centroid);t<this.minDistance&&(this.interiorPoint=new jsts.geom.Coordinate(n),this.minDistance=t)};jsts.index.chain.MonotoneChainSelectAction=function(){this.tempEnv1=new jsts.geom.Envelope;this.selectedSegment=new jsts.geom.LineSegment};jsts.index.chain.MonotoneChainSelectAction.prototype.tempEnv1=null;jsts.index.chain.MonotoneChainSelectAction.prototype.selectedSegment=null;jsts.index.chain.MonotoneChainSelectAction.prototype.select=function(n,t){n.getLineSegment(t,this.selectedSegment);this.select2(this.selectedSegment)};jsts.index.chain.MonotoneChainSelectAction.prototype.select2=function(){};jsts.algorithm.MCPointInRing=function(n){this.ring=n;this.tree=null;this.crossings=0;this.interval=new jsts.index.bintree.Interval;this.buildIndex()};jsts.algorithm.MCPointInRing.MCSelecter=function(n,t){this.parent=t;this.p=n};jsts.algorithm.MCPointInRing.MCSelecter.prototype=new jsts.index.chain.MonotoneChainSelectAction;jsts.algorithm.MCPointInRing.MCSelecter.prototype.constructor=jsts.algorithm.MCPointInRing.MCSelecter;jsts.algorithm.MCPointInRing.MCSelecter.prototype.select2=function(n){this.parent.testLineSegment.apply(this.parent,[this.p,n])};jsts.algorithm.MCPointInRing.prototype.buildIndex=function(){var t,i;this.tree=new jsts.index.bintree.Bintree;for(var u=jsts.geom.CoordinateArrays.removeRepeatedPoints(this.ring.getCoordinates()),r=jsts.index.chain.MonotoneChainBuilder.getChains(u),n=0;n<r.length;n++)t=r[n],i=t.getEnvelope(),this.interval.min=i.getMinY(),this.interval.max=i.getMaxY(),this.tree.insert(this.interval,t)};jsts.algorithm.MCPointInRing.prototype.isInside=function(n){var t,r;this.crossings=0;t=new jsts.geom.Envelope(-Number.MAX_VALUE,Number.MAX_VALUE,n.y,n.y);this.interval.min=n.y;this.interval.max=n.y;for(var u=this.tree.query(this.interval),f=new jsts.algorithm.MCPointInRing.MCSelecter(n,this),i=u.iterator();i.hasNext();)r=i.next(),this.testMonotoneChain(t,f,r);return this.crossings%2==1?!0:!1};jsts.algorithm.MCPointInRing.prototype.testMonotoneChain=function(n,t,i){i.select(n,t)};jsts.algorithm.MCPointInRing.prototype.testLineSegment=function(n,t){var e,o,i,s,r,u,f;u=t.p0;f=t.p1;o=u.x-n.x;i=u.y-n.y;s=f.x-n.x;r=f.y-n.y;(i>0&&0>=r||r>0&&0>=i)&&(e=jsts.algorithm.RobustDeterminant.signOfDet2x2(o,i,s,r)/(r-i),e>0&&this.crossings++)};jsts.operation.valid.TopologyValidationError=function(n,t){this.errorType=n;this.pt=null;null!=t&&(this.pt=t.clone())};jsts.operation.valid.TopologyValidationError.HOLE_OUTSIDE_SHELL=2;jsts.operation.valid.TopologyValidationError.NESTED_HOLES=3;jsts.operation.valid.TopologyValidationError.DISCONNECTED_INTERIOR=4;jsts.operation.valid.TopologyValidationError.SELF_INTERSECTION=5;jsts.operation.valid.TopologyValidationError.RING_SELF_INTERSECTION=6;jsts.operation.valid.TopologyValidationError.NESTED_SHELLS=7;jsts.operation.valid.TopologyValidationError.DUPLICATE_RINGS=8;jsts.operation.valid.TopologyValidationError.TOO_FEW_POINTS=9;jsts.operation.valid.TopologyValidationError.INVALID_COORDINATE=10;jsts.operation.valid.TopologyValidationError.RING_NOT_CLOSED=11;jsts.operation.valid.TopologyValidationError.prototype.errMsg=["Topology Validation Error","Repeated Point","Hole lies outside shell","Holes are nested","Interior is disconnected","Self-intersection","Ring Self-intersection","Nested shells","Duplicate Rings","Too few distinct points in geometry component","Invalid Coordinate","Ring is not closed"];jsts.operation.valid.TopologyValidationError.prototype.getCoordinate=function(){return this.pt};jsts.operation.valid.TopologyValidationError.prototype.getErrorType=function(){return this.errorType};jsts.operation.valid.TopologyValidationError.prototype.getMessage=function(){return this.errMsg[this.errorType]};jsts.operation.valid.TopologyValidationError.prototype.toString=function(){var n="";return null!=this.pt?(n=" at or near point "+this.pt,this.getMessage()+n):n},function(){jsts.geom.MultiPolygon=function(n,t){this.geometries=n||[];this.factory=t};jsts.geom.MultiPolygon.prototype=new jsts.geom.GeometryCollection;jsts.geom.MultiPolygon.constructor=jsts.geom.MultiPolygon;jsts.geom.MultiPolygon.prototype.getBoundary=function(){var t,n;if(this.isEmpty())return this.getFactory().createMultiLineString(null);for(t=[],n=0;n<this.geometries.length;n++)for(var u=this.geometries[n],r=u.getBoundary(),i=0;i<r.getNumGeometries();i++)t.push(r.getGeometryN(i));return this.getFactory().createMultiLineString(t)};jsts.geom.MultiPolygon.prototype.equalsExact=function(n,t){return this.isEquivalentClass(n)?jsts.geom.GeometryCollection.prototype.equalsExact.call(this,n,t):!1};jsts.geom.MultiPolygon.prototype.CLASS_NAME="jsts.geom.MultiPolygon"}();jsts.geom.CoordinateSequenceFilter=function(){};jsts.geom.CoordinateSequenceFilter.prototype.filter=jsts.abstractFunc;jsts.geom.CoordinateSequenceFilter.prototype.isDone=jsts.abstractFunc;jsts.geom.CoordinateSequenceFilter.prototype.isGeometryChanged=jsts.abstractFunc,function(){var n=function(){if(this.min=0,this.max=0,1===arguments.length){var n=arguments[0];this.init(n.min,n.max)}else 2===arguments.length&&this.init(arguments[0],arguments[1])};n.prototype.init=function(n,t){this.min=n;this.max=t;n>t&&(this.min=t,this.max=n)};n.prototype.getMin=function(){return this.min};n.prototype.getMax=function(){return this.max};n.prototype.getWidth=function(){return this.max-this.min};n.prototype.expandToInclude=function(n){n.max>this.max&&(this.max=n.max);n.min<this.min&&(this.min=n.min)};n.prototype.overlaps=function(){return 1===arguments.length?this.overlapsInterval.apply(this,arguments):this.overlapsMinMax.apply(this,arguments)};n.prototype.overlapsInterval=function(n){return this.overlaps(n.min,n.max)};n.prototype.overlapsMinMax=function(n,t){return this.min>t||this.max<n?!1:!0};n.prototype.contains=function(){var n;return arguments[0]instanceof jsts.index.bintree.Interval?(n=arguments[0],this.containsMinMax(n.min,n.max)):1===arguments.length?this.containsPoint(arguments[0]):this.containsMinMax(arguments[0],arguments[1])};n.prototype.containsMinMax=function(n,t){return n>=this.min&&t<=this.max};n.prototype.containsPoint=function(n){return n>=this.min&&n<=this.max};jsts.index.bintree.Interval=n}();jsts.index.DoubleBits=function(){};jsts.index.DoubleBits.powerOf2=function(n){return Math.pow(2,n)};jsts.index.DoubleBits.exponent=function(n){return jsts.index.DoubleBits.CVTFWD(64,n)-1023};jsts.index.DoubleBits.CVTFWD=function(n,t){var f,i,r,u,e="",o={32:8,64:11}[n];if(u||(f=0>t||0>1/t,isFinite(t)||(u={32:{d:127,c:128,b:0,a:0},64:{d:32752,c:0,b:0,a:0}}[n],f&&(u.d+=1<<n/4-1),i=Math.pow(2,o)-1,r=0)),!u){for(i={32:127,64:1023}[n],r=Math.abs(t);r>=2;)i++,r/=2;for(;1>r&&i>0;)i--,r*=2;0>=i&&(r/=2,e="Zero or Denormal");32===n&&i>254&&(e="Too big for Single",u={d:f?255:127,c:128,b:0,a:0},i=Math.pow(2,o)-1,r=0)}return i},function(){var t=jsts.index.DoubleBits,i=jsts.index.bintree.Interval,n=function(n){this.pt=0;this.level=0;this.computeKey(n)};n.computeLevel=function(n){var i=n.getWidth();return t.exponent(i)+1};n.prototype.getPoint=function(){return this.pt};n.prototype.getLevel=function(){return this.level};n.prototype.getInterval=function(){return this.interval};n.prototype.computeKey=function(t){for(this.level=n.computeLevel(t),this.interval=new i,this.computeInterval(this.level,t);!this.interval.contains(t);)this.level+=1,this.computeInterval(this.level,t)};n.prototype.computeInterval=function(n,i){var r=t.powerOf2(n);this.pt=Math.floor(i.getMin()/r)*r;this.interval.init(this.pt,this.pt+r)};jsts.index.bintree.Key=n}();jsts.operation.buffer.SubgraphDepthLocater=function(n){this.subgraphs=[];this.seg=new jsts.geom.LineSegment;this.subgraphs=n};jsts.operation.buffer.SubgraphDepthLocater.prototype.subgraphs=null;jsts.operation.buffer.SubgraphDepthLocater.prototype.seg=null;jsts.operation.buffer.SubgraphDepthLocater.prototype.getDepth=function(n){var t=this.findStabbedSegments(n),i;return 0===t.length?0:(t.sort(),i=t[0],i.leftDepth)};jsts.operation.buffer.SubgraphDepthLocater.prototype.findStabbedSegments=function(n){var i,t,r,u;if(3===arguments.length)return void this.findStabbedSegments2.apply(this,arguments);for(i=[],t=0;t<this.subgraphs.length;t++)r=this.subgraphs[t],u=r.getEnvelope(),n.y<u.getMinY()||n.y>u.getMaxY()||this.findStabbedSegments2(n,r.getDirectedEdges(),i);return i};jsts.operation.buffer.SubgraphDepthLocater.prototype.findStabbedSegments2=function(n,t,i){var r,u;if(arguments[1]instanceof jsts.geomgraph.DirectedEdge)return void this.findStabbedSegments3(n,t,i);for(r=t.iterator();r.hasNext();)u=r.next(),u.isForward()&&this.findStabbedSegments3(n,u,i)};jsts.operation.buffer.SubgraphDepthLocater.prototype.findStabbedSegments3=function(n,t,i){for(var e,f,o,u=t.getEdge().getCoordinates(),r=0;r<u.length-1;r++)this.seg.p0=u[r],this.seg.p1=u[r+1],this.seg.p0.y>this.seg.p1.y&&this.seg.reverse(),e=Math.max(this.seg.p0.x,this.seg.p1.x),e<n.x||this.seg.isHorizontal()||n.y<this.seg.p0.y||n.y>this.seg.p1.y||jsts.algorithm.CGAlgorithms.computeOrientation(this.seg.p0,this.seg.p1,n)===jsts.algorithm.CGAlgorithms.RIGHT||(f=t.getDepth(jsts.geomgraph.Position.LEFT),this.seg.p0.equals(u[r])||(f=t.getDepth(jsts.geomgraph.Position.RIGHT)),o=new jsts.operation.buffer.SubgraphDepthLocater.DepthSegment(this.seg,f),i.push(o))};jsts.operation.buffer.SubgraphDepthLocater.DepthSegment=function(n,t){this.upwardSeg=new jsts.geom.LineSegment(n);this.leftDepth=t};jsts.operation.buffer.SubgraphDepthLocater.DepthSegment.prototype.upwardSeg=null;jsts.operation.buffer.SubgraphDepthLocater.DepthSegment.prototype.leftDepth=null;jsts.operation.buffer.SubgraphDepthLocater.DepthSegment.prototype.compareTo=function(n){var i=n,t=this.upwardSeg.orientationIndex(i.upwardSeg);return 0===t&&(t=-1*i.upwardSeg.orientationIndex(upwardSeg)),0!==t?t:this.compareX(this.upwardSeg,i.upwardSeg)};jsts.operation.buffer.SubgraphDepthLocater.DepthSegment.prototype.compareX=function(n,t){var i=n.p0.compareTo(t.p0);return 0!==i?i:n.p1.compareTo(t.p1)};jsts.noding.snapround.HotPixel=function(n,t,i){this.corner=[];this.originalPt=n;this.pt=n;this.scaleFactor=t;this.li=i;1!==this.scaleFactor&&(this.pt=new jsts.geom.Coordinate(this.scale(n.x),this.scale(n.y)),this.p0Scaled=new jsts.geom.Coordinate,this.p1Scaled=new jsts.geom.Coordinate);this.initCorners(this.pt)};jsts.noding.snapround.HotPixel.prototype.li=null;jsts.noding.snapround.HotPixel.prototype.pt=null;jsts.noding.snapround.HotPixel.prototype.originalPt=null;jsts.noding.snapround.HotPixel.prototype.ptScaled=null;jsts.noding.snapround.HotPixel.prototype.p0Scaled=null;jsts.noding.snapround.HotPixel.prototype.p1Scaled=null;jsts.noding.snapround.HotPixel.prototype.scaleFactor=void 0;jsts.noding.snapround.HotPixel.prototype.minx=void 0;jsts.noding.snapround.HotPixel.prototype.maxx=void 0;jsts.noding.snapround.HotPixel.prototype.miny=void 0;jsts.noding.snapround.HotPixel.prototype.maxy=void 0;jsts.noding.snapround.HotPixel.prototype.corner=null;jsts.noding.snapround.HotPixel.prototype.safeEnv=null;jsts.noding.snapround.HotPixel.prototype.getCoordinate=function(){return this.originalPt};jsts.noding.snapround.HotPixel.SAFE_ENV_EXPANSION_FACTOR=.75;jsts.noding.snapround.HotPixel.prototype.getSafeEnvelope=function(){if(null===this.safeEnv){var n=jsts.noding.snapround.HotPixel.SAFE_ENV_EXPANSION_FACTOR/this.scaleFactor;this.safeEnv=new jsts.geom.Envelope(this.originalPt.x-n,this.originalPt.x+n,this.originalPt.y-n,this.originalPt.y+n)}return this.safeEnv};jsts.noding.snapround.HotPixel.prototype.initCorners=function(n){var t=.5;this.minx=n.x-t;this.maxx=n.x+t;this.miny=n.y-t;this.maxy=n.y+t;this.corner[0]=new jsts.geom.Coordinate(this.maxx,this.maxy);this.corner[1]=new jsts.geom.Coordinate(this.minx,this.maxy);this.corner[2]=new jsts.geom.Coordinate(this.minx,this.miny);this.corner[3]=new jsts.geom.Coordinate(this.maxx,this.miny)};jsts.noding.snapround.HotPixel.prototype.scale=function(n){return Math.round(n*this.scaleFactor)};jsts.noding.snapround.HotPixel.prototype.intersects=function(n,t){return 1===this.scaleFactor?this.intersectsScaled(n,t):(this.copyScaled(n,this.p0Scaled),this.copyScaled(t,this.p1Scaled),this.intersectsScaled(this.p0Scaled,this.p1Scaled))};jsts.noding.snapround.HotPixel.prototype.copyScaled=function(n,t){t.x=this.scale(n.x);t.y=this.scale(n.y)};jsts.noding.snapround.HotPixel.prototype.intersectsScaled=function(n,t){var u=Math.min(n.x,t.x),f=Math.max(n.x,t.x),e=Math.min(n.y,t.y),o=Math.max(n.y,t.y),r=this.maxx<u||this.minx>f||this.maxy<e||this.miny>o,i;return r?!1:(i=this.intersectsToleranceSquare(n,t),jsts.util.Assert.isTrue(!(r&&i),"Found bad envelope test"),i)};jsts.noding.snapround.HotPixel.prototype.intersectsToleranceSquare=function(n,t){var i=!1,r=!1;return this.li.computeIntersection(n,t,this.corner[0],this.corner[1]),this.li.isProper()?!0:(this.li.computeIntersection(n,t,this.corner[1],this.corner[2]),this.li.isProper()?!0:(this.li.hasIntersection()&&(i=!0),this.li.computeIntersection(n,t,this.corner[2],this.corner[3]),this.li.isProper()?!0:(this.li.hasIntersection()&&(r=!0),this.li.computeIntersection(n,t,this.corner[3],this.corner[0]),this.li.isProper()?!0:i&&r?!0:n.equals(this.pt)?!0:t.equals(this.pt)?!0:!1)))};jsts.noding.snapround.HotPixel.prototype.intersectsPixelClosure=function(n,t){return this.li.computeIntersection(n,t,this.corner[0],this.corner[1]),this.li.hasIntersection()?!0:(this.li.computeIntersection(n,t,this.corner[1],this.corner[2]),this.li.hasIntersection()?!0:(this.li.computeIntersection(n,t,this.corner[2],this.corner[3]),this.li.hasIntersection()?!0:(this.li.computeIntersection(n,t,this.corner[3],this.corner[0]),this.li.hasIntersection()?!0:!1)))};jsts.noding.snapround.HotPixel.prototype.addSnappedNode=function(n,t){var i=n.getCoordinate(t),r=n.getCoordinate(t+1);return this.intersects(i,r)?(n.addIntersection(this.getCoordinate(),t),!0):!1};jsts.operation.buffer.BufferInputLineSimplifier=function(n){this.inputLine=n};jsts.operation.buffer.BufferInputLineSimplifier.simplify=function(n,t){var i=new jsts.operation.buffer.BufferInputLineSimplifier(n);return i.simplify(t)};jsts.operation.buffer.BufferInputLineSimplifier.INIT=0;jsts.operation.buffer.BufferInputLineSimplifier.DELETE=1;jsts.operation.buffer.BufferInputLineSimplifier.KEEP=1;jsts.operation.buffer.BufferInputLineSimplifier.prototype.inputLine=null;jsts.operation.buffer.BufferInputLineSimplifier.prototype.distanceTol=null;jsts.operation.buffer.BufferInputLineSimplifier.prototype.isDeleted=null;jsts.operation.buffer.BufferInputLineSimplifier.prototype.angleOrientation=jsts.algorithm.CGAlgorithms.COUNTERCLOCKWISE;jsts.operation.buffer.BufferInputLineSimplifier.prototype.simplify=function(n){this.distanceTol=Math.abs(n);0>n&&(this.angleOrientation=jsts.algorithm.CGAlgorithms.CLOCKWISE);this.isDeleted=[];this.isDeleted.length=this.inputLine.length;var t=!1;do t=this.deleteShallowConcavities();while(t);return this.collapseLine()};jsts.operation.buffer.BufferInputLineSimplifier.prototype.deleteShallowConcavities=function(){for(var r,t=1,n=(this.inputLine.length-1,this.findNextNonDeletedIndex(t)),i=this.findNextNonDeletedIndex(n),u=!1;i<this.inputLine.length;)r=!1,this.isDeletable(t,n,i,this.distanceTol)&&(this.isDeleted[n]=jsts.operation.buffer.BufferInputLineSimplifier.DELETE,r=!0,u=!0),t=r?i:n,n=this.findNextNonDeletedIndex(t),i=this.findNextNonDeletedIndex(n);return u};jsts.operation.buffer.BufferInputLineSimplifier.prototype.findNextNonDeletedIndex=function(n){for(var t=n+1;t<this.inputLine.length&&this.isDeleted[t]===jsts.operation.buffer.BufferInputLineSimplifier.DELETE;)t++;return t};jsts.operation.buffer.BufferInputLineSimplifier.prototype.collapseLine=function(){for(var t=[],n=0;n<this.inputLine.length;n++)this.isDeleted[n]!==jsts.operation.buffer.BufferInputLineSimplifier.DELETE&&t.push(this.inputLine[n]);return t};jsts.operation.buffer.BufferInputLineSimplifier.prototype.isDeletable=function(n,t,i,r){var u=this.inputLine[n],f=this.inputLine[t],e=this.inputLine[i];return this.isConcave(u,f,e)&&this.isShallow(u,f,e,r)?this.isShallowSampled(u,f,n,i,r):!1};jsts.operation.buffer.BufferInputLineSimplifier.prototype.isShallowConcavity=function(n,t,i,r){var f=jsts.algorithm.CGAlgorithms.computeOrientation(n,t,i),e=f===this.angleOrientation,u;return e?(u=jsts.algorithm.CGAlgorithms.distancePointLine(t,n,i),r>u):!1};jsts.operation.buffer.BufferInputLineSimplifier.NUM_PTS_TO_CHECK=10;jsts.operation.buffer.BufferInputLineSimplifier.prototype.isShallowSampled=function(n,t,i,r,u){var e=parseInt((r-i)/jsts.operation.buffer.BufferInputLineSimplifier.NUM_PTS_TO_CHECK),f;for(0>=e&&(e=1),f=i;r>f;f+=e)if(!this.isShallow(n,t,this.inputLine[f],u))return!1;return!0};jsts.operation.buffer.BufferInputLineSimplifier.prototype.isShallow=function(n,t,i,r){var u=jsts.algorithm.CGAlgorithms.distancePointLine(t,n,i);return r>u};jsts.operation.buffer.BufferInputLineSimplifier.prototype.isConcave=function(n,t,i){var r=jsts.algorithm.CGAlgorithms.computeOrientation(n,t,i);return r===this.angleOrientation};jsts.geomgraph.index.SweepLineEvent=function(n,t,i){return t instanceof jsts.geomgraph.index.SweepLineEvent?(this.eventType=jsts.geomgraph.index.SweepLineEvent.DELETE,this.xValue=n,void(this.insertEvent=t)):(this.eventType=jsts.geomgraph.index.SweepLineEvent.INSERT,this.label=i,this.xValue=n,void(this.obj=t))};jsts.geomgraph.index.SweepLineEvent.INSERT=1;jsts.geomgraph.index.SweepLineEvent.DELETE=2;jsts.geomgraph.index.SweepLineEvent.prototype.label=null;jsts.geomgraph.index.SweepLineEvent.prototype.xValue=null;jsts.geomgraph.index.SweepLineEvent.prototype.eventType=null;jsts.geomgraph.index.SweepLineEvent.prototype.insertEvent=null;jsts.geomgraph.index.SweepLineEvent.prototype.deleteEventIndex=null;jsts.geomgraph.index.SweepLineEvent.prototype.obj=null;jsts.geomgraph.index.SweepLineEvent.prototype.isInsert=function(){return this.eventType==jsts.geomgraph.index.SweepLineEvent.INSERT};jsts.geomgraph.index.SweepLineEvent.prototype.isDelete=function(){return this.eventType==jsts.geomgraph.index.SweepLineEvent.DELETE};jsts.geomgraph.index.SweepLineEvent.prototype.getInsertEvent=function(){return this.insertEvent};jsts.geomgraph.index.SweepLineEvent.prototype.getDeleteEventIndex=function(){return this.deleteEventIndex};jsts.geomgraph.index.SweepLineEvent.prototype.setDeleteEventIndex=function(n){this.deleteEventIndex=n};jsts.geomgraph.index.SweepLineEvent.prototype.getObject=function(){return this.obj};jsts.geomgraph.index.SweepLineEvent.prototype.isSameLabel=function(n){return null==this.label?!1:this.label==n.label};jsts.geomgraph.index.SweepLineEvent.prototype.compareTo=function(n){return this.xValue<n.xValue?-1:this.xValue>n.xValue?1:this.eventType<n.eventType?-1:this.eventType>n.eventType?1:0};jsts.geom.CoordinateList=function(n,t){this.array=[];t=void 0===t?!0:t;void 0!==n&&this.add(n,t)};jsts.geom.CoordinateList.prototype=new javascript.util.ArrayList;jsts.geom.CoordinateList.prototype.iterator=null;jsts.geom.CoordinateList.prototype.remove=null;jsts.geom.CoordinateList.prototype.get=function(n){return this.array[n]};jsts.geom.CoordinateList.prototype.set=function(n,t){var i=this.array[n];return this.array[n]=t,i};jsts.geom.CoordinateList.prototype.size=function(){return this.array.length};jsts.geom.CoordinateList.prototype.add=function(){return arguments.length>1?this.addCoordinates.apply(this,arguments):this.array.push(arguments[0])};jsts.geom.CoordinateList.prototype.addCoordinates=function(n,t,i){var r;if(n instanceof jsts.geom.Coordinate)return this.addCoordinate.apply(this,arguments);if("number"==typeof n)return this.insertCoordinate.apply(this,arguments);if(i=i||!0)for(r=0;r<n.length;r++)this.addCoordinate(n[r],t);else for(r=n.length-1;r>=0;r--)this.addCoordinate(n[r],t);return!0};jsts.geom.CoordinateList.prototype.addCoordinate=function(n,t){if(!t&&this.size()>=1){var i=this.get(this.size()-1);if(i.equals2D(n))return}this.add(n)};jsts.geom.CoordinateList.prototype.insertCoordinate=function(n,t,i){var r,u;if(!i){if(r=n>0?n-1:-1,-1!==r&&this.get(r).equals2D(t))return;if(u=n<this.size()-1?n+1:-1,-1!==u&&this.get(u).equals2D(t))return}this.array.splice(n,0,t)};jsts.geom.CoordinateList.prototype.closeRing=function(){this.size()>0&&this.addCoordinate(new jsts.geom.Coordinate(this.get(0)),!1)};jsts.geom.CoordinateList.prototype.toArray=function(){return this.array};jsts.geom.CoordinateList.prototype.toCoordinateArray=function(){return this.array};jsts.operation.buffer.OffsetSegmentGenerator=function(n,t,i){this.seg0=new jsts.geom.LineSegment;this.seg1=new jsts.geom.LineSegment;this.offset0=new jsts.geom.LineSegment;this.offset1=new jsts.geom.LineSegment;this.precisionModel=n;this.bufParams=t;this.li=new jsts.algorithm.RobustLineIntersector;this.filletAngleQuantum=Math.PI/2/t.getQuadrantSegments();this.bufParams.getQuadrantSegments()>=8&&this.bufParams.getJoinStyle()===jsts.operation.buffer.BufferParameters.JOIN_ROUND&&(this.closingSegLengthFactor=jsts.operation.buffer.OffsetSegmentGenerator.MAX_CLOSING_SEG_LEN_FACTOR);this.init(i)};jsts.operation.buffer.OffsetSegmentGenerator.OFFSET_SEGMENT_SEPARATION_FACTOR=.001;jsts.operation.buffer.OffsetSegmentGenerator.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001;jsts.operation.buffer.OffsetSegmentGenerator.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6;jsts.operation.buffer.OffsetSegmentGenerator.MAX_CLOSING_SEG_LEN_FACTOR=80;jsts.operation.buffer.OffsetSegmentGenerator.prototype.maxCurveSegmentError=0;jsts.operation.buffer.OffsetSegmentGenerator.prototype.filletAngleQuantum=null;jsts.operation.buffer.OffsetSegmentGenerator.prototype.closingSegLengthFactor=1;jsts.operation.buffer.OffsetSegmentGenerator.prototype.segList=null;jsts.operation.buffer.OffsetSegmentGenerator.prototype.distance=0;jsts.operation.buffer.OffsetSegmentGenerator.prototype.precisionModel=null;jsts.operation.buffer.OffsetSegmentGenerator.prototype.bufParams=null;jsts.operation.buffer.OffsetSegmentGenerator.prototype.li=null;jsts.operation.buffer.OffsetSegmentGenerator.prototype.s0=null;jsts.operation.buffer.OffsetSegmentGenerator.prototype.s1=null;jsts.operation.buffer.OffsetSegmentGenerator.prototype.s2=null;jsts.operation.buffer.OffsetSegmentGenerator.prototype.seg0=null;jsts.operation.buffer.OffsetSegmentGenerator.prototype.seg1=null;jsts.operation.buffer.OffsetSegmentGenerator.prototype.offset0=null;jsts.operation.buffer.OffsetSegmentGenerator.prototype.offset1=null;jsts.operation.buffer.OffsetSegmentGenerator.prototype.side=0;jsts.operation.buffer.OffsetSegmentGenerator.prototype.hasNarrowConcaveAngle=!1;jsts.operation.buffer.OffsetSegmentGenerator.prototype.hasNarrowConcaveAngle=function(){return this.hasNarrowConcaveAngle};jsts.operation.buffer.OffsetSegmentGenerator.prototype.init=function(n){this.distance=n;this.maxCurveSegmentError=this.distance*(1-Math.cos(this.filletAngleQuantum/2));this.segList=new jsts.operation.buffer.OffsetSegmentString;this.segList.setPrecisionModel(this.precisionModel);this.segList.setMinimumVertexDistance(this.distance*jsts.operation.buffer.OffsetSegmentGenerator.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)};jsts.operation.buffer.OffsetSegmentGenerator.prototype.initSideSegments=function(n,t,i){this.s1=n;this.s2=t;this.side=i;this.seg1.setCoordinates(this.s1,this.s2);this.computeOffsetSegment(this.seg1,this.side,this.distance,this.offset1)};jsts.operation.buffer.OffsetSegmentGenerator.prototype.getCoordinates=function(){return this.segList.getCoordinates()};jsts.operation.buffer.OffsetSegmentGenerator.prototype.closeRing=function(){this.segList.closeRing()};jsts.operation.buffer.OffsetSegmentGenerator.prototype.addSegments=function(n,t){this.segList.addPts(n,t)};jsts.operation.buffer.OffsetSegmentGenerator.prototype.addFirstSegment=function(){this.segList.addPt(this.offset1.p0)};jsts.operation.buffer.OffsetSegmentGenerator.prototype.addLastSegment=function(){this.segList.addPt(this.offset1.p1)};jsts.operation.buffer.OffsetSegmentGenerator.prototype.addNextSegment=function(n,t){if(this.s0=this.s1,this.s1=this.s2,this.s2=n,this.seg0.setCoordinates(this.s0,this.s1),this.computeOffsetSegment(this.seg0,this.side,this.distance,this.offset0),this.seg1.setCoordinates(this.s1,this.s2),this.computeOffsetSegment(this.seg1,this.side,this.distance,this.offset1),!this.s1.equals(this.s2)){var i=jsts.algorithm.CGAlgorithms.computeOrientation(this.s0,this.s1,this.s2),r=i===jsts.algorithm.CGAlgorithms.CLOCKWISE&&this.side===jsts.geomgraph.Position.LEFT||i===jsts.algorithm.CGAlgorithms.COUNTERCLOCKWISE&&this.side===jsts.geomgraph.Position.RIGHT;0==i?this.addCollinear(t):r?this.addOutsideTurn(i,t):this.addInsideTurn(i,t)}};jsts.operation.buffer.OffsetSegmentGenerator.prototype.addCollinear=function(n){this.li.computeIntersection(this.s0,this.s1,this.s1,this.s2);var t=this.li.getIntersectionNum();t>=2&&(this.bufParams.getJoinStyle()===jsts.operation.buffer.BufferParameters.JOIN_BEVEL||this.bufParams.getJoinStyle()===jsts.operation.buffer.BufferParameters.JOIN_MITRE?(n&&this.segList.addPt(this.offset0.p1),this.segList.addPt(this.offset1.p0)):this.addFillet(this.s1,this.offset0.p1,this.offset1.p0,jsts.algorithm.CGAlgorithms.CLOCKWISE,this.distance))};jsts.operation.buffer.OffsetSegmentGenerator.prototype.addOutsideTurn=function(n,t){return this.offset0.p1.distance(this.offset1.p0)<this.distance*jsts.operation.buffer.OffsetSegmentGenerator.OFFSET_SEGMENT_SEPARATION_FACTOR?void this.segList.addPt(this.offset0.p1):void(this.bufParams.getJoinStyle()===jsts.operation.buffer.BufferParameters.JOIN_MITRE?this.addMitreJoin(this.s1,this.offset0,this.offset1,this.distance):this.bufParams.getJoinStyle()===jsts.operation.buffer.BufferParameters.JOIN_BEVEL?this.addBevelJoin(this.offset0,this.offset1):(t&&this.segList.addPt(this.offset0.p1),this.addFillet(this.s1,this.offset0.p1,this.offset1.p0,n,this.distance),this.segList.addPt(this.offset1.p0)))};jsts.operation.buffer.OffsetSegmentGenerator.prototype.addInsideTurn=function(){var n,t;(this.li.computeIntersection(this.offset0.p0,this.offset0.p1,this.offset1.p0,this.offset1.p1),this.li.hasIntersection())?this.segList.addPt(this.li.getIntersection(0)):(this.hasNarrowConcaveAngle=!0,this.offset0.p1.distance(this.offset1.p0)<this.distance*jsts.operation.buffer.OffsetSegmentGenerator.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)?this.segList.addPt(this.offset0.p1):((this.segList.addPt(this.offset0.p1),this.closingSegLengthFactor>0)?(n=new jsts.geom.Coordinate((this.closingSegLengthFactor*this.offset0.p1.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset0.p1.y+this.s1.y)/(this.closingSegLengthFactor+1)),this.segList.addPt(n),t=new jsts.geom.Coordinate((this.closingSegLengthFactor*this.offset1.p0.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset1.p0.y+this.s1.y)/(this.closingSegLengthFactor+1)),this.segList.addPt(t)):this.segList.addPt(this.s1),this.segList.addPt(this.offset1.p0))};jsts.operation.buffer.OffsetSegmentGenerator.prototype.computeOffsetSegment=function(n,t,i,r){var e=t===jsts.geomgraph.Position.LEFT?1:-1,u=n.p1.x-n.p0.x,f=n.p1.y-n.p0.y,o=Math.sqrt(u*u+f*f),s=e*i*u/o,h=e*i*f/o;r.p0.x=n.p0.x-h;r.p0.y=n.p0.y+s;r.p1.x=n.p1.x-h;r.p1.y=n.p1.y+s};jsts.operation.buffer.OffsetSegmentGenerator.prototype.addLineEndCap=function(n,t){var e=new jsts.geom.LineSegment(n,t),u=new jsts.geom.LineSegment,r,i,o,s;this.computeOffsetSegment(e,jsts.geomgraph.Position.LEFT,this.distance,u);r=new jsts.geom.LineSegment;this.computeOffsetSegment(e,jsts.geomgraph.Position.RIGHT,this.distance,r);var h=t.x-n.x,c=t.y-n.y,f=Math.atan2(c,h);switch(this.bufParams.getEndCapStyle()){case jsts.operation.buffer.BufferParameters.CAP_ROUND:this.segList.addPt(u.p1);this.addFillet(t,f+Math.PI/2,f-Math.PI/2,jsts.algorithm.CGAlgorithms.CLOCKWISE,this.distance);this.segList.addPt(r.p1);break;case jsts.operation.buffer.BufferParameters.CAP_FLAT:this.segList.addPt(u.p1);this.segList.addPt(r.p1);break;case jsts.operation.buffer.BufferParameters.CAP_SQUARE:i=new jsts.geom.Coordinate;i.x=Math.abs(this.distance)*Math.cos(f);i.y=Math.abs(this.distance)*Math.sin(f);o=new jsts.geom.Coordinate(u.p1.x+i.x,u.p1.y+i.y);s=new jsts.geom.Coordinate(r.p1.x+i.x,r.p1.y+i.y);this.segList.addPt(o);this.segList.addPt(s)}};jsts.operation.buffer.OffsetSegmentGenerator.prototype.addMitreJoin=function(n,t,i,r){var u=null,f;try{u=jsts.algorithm.HCoordinate.intersection(t.p0,t.p1,i.p0,i.p1);f=0>=r?1:u.distance(n)/Math.abs(r);f>this.bufParams.getMitreLimit()&&(this.isMitreWithinLimit=!1)}catch(e){e instanceof jsts.error.NotRepresentableError&&(u=new jsts.geom.Coordinate(0,0),this.isMitreWithinLimit=!1)}this.segList.addPt(u)};jsts.operation.buffer.OffsetSegmentGenerator.prototype.addLimitedMitreJoin=function(n,t,i,r){var u=this.seg0.p1,a=jsts.algorithm.Angle.angle(u,this.seg0.p0),v=(jsts.algorithm.Angle.angle(u,this.seg1.p1),jsts.algorithm.Angle.angleBetweenOriented(this.seg0.p0,u,this.seg1.p1)),e=v/2,y=jsts.algorithm.Angle.normalize(a+e),o=jsts.algorithm.Angle.normalize(y+Math.PI),f=r*i,p=f*Math.abs(Math.sin(e)),s=i-p,w=u.x+f*Math.cos(o),b=u.y+f*Math.sin(o),k=new jsts.geom.Coordinate(w,b),h=new jsts.geom.LineSegment(u,k),c=h.pointAlongOffset(1,s),l=h.pointAlongOffset(1,-s);this.side==jsts.geomgraph.Position.LEFT?(this.segList.addPt(c),this.segList.addPt(l)):(this.segList.addPt(l),this.segList.addPt(c))};jsts.operation.buffer.OffsetSegmentGenerator.prototype.addBevelJoin=function(n,t){this.segList.addPt(n.p1);this.segList.addPt(t.p0)};jsts.operation.buffer.OffsetSegmentGenerator.prototype.addFillet=function(n,t,i,r,u){if(!(i instanceof jsts.geom.Coordinate))return void this.addFillet2.apply(this,arguments);var o=t.x-n.x,s=t.y-n.y,f=Math.atan2(s,o),h=i.x-n.x,c=i.y-n.y,e=Math.atan2(c,h);r===jsts.algorithm.CGAlgorithms.CLOCKWISE?e>=f&&(f+=2*Math.PI):f>=e&&(f-=2*Math.PI);this.segList.addPt(t);this.addFillet(n,f,e,r,u);this.segList.addPt(i)};jsts.operation.buffer.OffsetSegmentGenerator.prototype.addFillet2=function(n,t,i,r,u){var a=r===jsts.algorithm.CGAlgorithms.CLOCKWISE?-1:1,o=Math.abs(t-i),h=parseInt(o/this.filletAngleQuantum+.5),c,l,f,e,s;if(!(1>h))for(c=0,l=o/h,f=c,e=new jsts.geom.Coordinate;o>f;)s=t+a*f,e.x=n.x+u*Math.cos(s),e.y=n.y+u*Math.sin(s),this.segList.addPt(e),f+=l};jsts.operation.buffer.OffsetSegmentGenerator.prototype.createCircle=function(n){var t=new jsts.geom.Coordinate(n.x+this.distance,n.y);this.segList.addPt(t);this.addFillet(n,0,2*Math.PI,-1,this.distance);this.segList.closeRing()};jsts.operation.buffer.OffsetSegmentGenerator.prototype.createSquare=function(n){this.segList.addPt(new jsts.geom.Coordinate(n.x+distance,n.y+distance));this.segList.addPt(new jsts.geom.Coordinate(n.x+distance,n.y-distance));this.segList.addPt(new jsts.geom.Coordinate(n.x-distance,n.y-distance));this.segList.addPt(new jsts.geom.Coordinate(n.x-distance,n.y+distance));this.segList.closeRing()};jsts.operation.overlay.MaximalEdgeRing=function(n,t){jsts.geomgraph.EdgeRing.call(this,n,t)};jsts.operation.overlay.MaximalEdgeRing.prototype=new jsts.geomgraph.EdgeRing;jsts.operation.overlay.MaximalEdgeRing.constructor=jsts.operation.overlay.MaximalEdgeRing;jsts.operation.overlay.MaximalEdgeRing.prototype.getNext=function(n){return n.getNext()};jsts.operation.overlay.MaximalEdgeRing.prototype.setEdgeRing=function(n,t){n.setEdgeRing(t)};jsts.operation.overlay.MaximalEdgeRing.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var n=this.startDe,t;do t=n.getNode(),t.getEdges().linkMinimalDirectedEdges(this),n=n.getNext();while(n!=this.startDe)};jsts.operation.overlay.MaximalEdgeRing.prototype.buildMinimalRings=function(){var t=[],n=this.startDe,i;do null===n.getMinEdgeRing()&&(i=new jsts.operation.overlay.MinimalEdgeRing(n,this.geometryFactory),t.push(i)),n=n.getNext();while(n!=this.startDe);return t};jsts.algorithm.CentroidPoint=function(){this.centSum=new jsts.geom.Coordinate};jsts.algorithm.CentroidPoint.prototype.ptCount=0;jsts.algorithm.CentroidPoint.prototype.centSum=null;jsts.algorithm.CentroidPoint.prototype.add=function(n){if(n instanceof jsts.geom.Point)this.add2(n.getCoordinate());else if(n instanceof jsts.geom.GeometryCollection||n instanceof jsts.geom.MultiPoint||n instanceof jsts.geom.MultiLineString||n instanceof jsts.geom.MultiPolygon)for(var i=n,t=0;t<i.getNumGeometries();t++)this.add(i.getGeometryN(t))};jsts.algorithm.CentroidPoint.prototype.add2=function(n){this.ptCount+=1;this.centSum.x+=n.x;this.centSum.y+=n.y};jsts.algorithm.CentroidPoint.prototype.getCentroid=function(){var n=new jsts.geom.Coordinate;return n.x=this.centSum.x/this.ptCount,n.y=this.centSum.y/this.ptCount,n};jsts.operation.distance.ConnectedElementLocationFilter=function(n){this.locations=n};jsts.operation.distance.ConnectedElementLocationFilter.prototype=new jsts.geom.GeometryFilter;jsts.operation.distance.ConnectedElementLocationFilter.prototype.locations=null;jsts.operation.distance.ConnectedElementLocationFilter.getLocations=function(n){var t=[];return n.apply(new jsts.operation.distance.ConnectedElementLocationFilter(t)),t};jsts.operation.distance.ConnectedElementLocationFilter.prototype.filter=function(n){(n instanceof jsts.geom.Point||n instanceof jsts.geom.LineString||n instanceof jsts.geom.Polygon)&&this.locations.push(new jsts.operation.distance.GeometryLocation(n,0,n.getCoordinate()))};jsts.geomgraph.index.MonotoneChainEdge=function(n){this.e=n;this.pts=n.getCoordinates();var t=new jsts.geomgraph.index.MonotoneChainIndexer;this.startIndex=t.getChainStartIndices(this.pts)};jsts.geomgraph.index.MonotoneChainEdge.prototype.e=null;jsts.geomgraph.index.MonotoneChainEdge.prototype.pts=null;jsts.geomgraph.index.MonotoneChainEdge.prototype.startIndex=null;jsts.geomgraph.index.MonotoneChainEdge.prototype.env1=new jsts.geom.Envelope;jsts.geomgraph.index.MonotoneChainEdge.prototype.env2=new jsts.geom.Envelope;jsts.geomgraph.index.MonotoneChainEdge.prototype.getCoordinates=function(){return this.pts};jsts.geomgraph.index.MonotoneChainEdge.prototype.getStartIndexes=function(){return this.startIndex};jsts.geomgraph.index.MonotoneChainEdge.prototype.getMinX=function(n){var t=this.pts[this.startIndex[n]].x,i=this.pts[this.startIndex[n+1]].x;return i>t?t:i};jsts.geomgraph.index.MonotoneChainEdge.prototype.getMaxX=function(n){var t=this.pts[this.startIndex[n]].x,i=this.pts[this.startIndex[n+1]].x;return t>i?t:i};jsts.geomgraph.index.MonotoneChainEdge.prototype.computeIntersects=function(n,t){for(var r,i=0;i<this.startIndex.length-1;i++)for(r=0;r<n.startIndex.length-1;r++)this.computeIntersectsForChain(i,n,r,t)};jsts.geomgraph.index.MonotoneChainEdge.prototype.computeIntersectsForChain=function(n,t,i,r){this.computeIntersectsForChain2(this.startIndex[n],this.startIndex[n+1],t,t.startIndex[i],t.startIndex[i+1],r)};jsts.geomgraph.index.MonotoneChainEdge.prototype.computeIntersectsForChain2=function(n,t,i,r,u,f){var s=this.pts[n],h=this.pts[t],c=i.pts[r],l=i.pts[u],o,e;if(t-n==1&&u-r==1)return void f.addIntersections(this.e,n,i.e,r);(this.env1.init(s,h),this.env2.init(c,l),this.env1.intersects(this.env2))&&(o=Math.floor((n+t)/2),e=Math.floor((r+u)/2),o>n&&(e>r&&this.computeIntersectsForChain2(n,o,i,r,e,f),u>e&&this.computeIntersectsForChain2(n,o,i,e,u,f)),t>o&&(e>r&&this.computeIntersectsForChain2(o,t,i,r,e,f),u>e&&this.computeIntersectsForChain2(o,t,i,e,u,f)))},function(){var n=javascript.util.ArrayList;jsts.operation.relate.EdgeEndBuilder=function(){};jsts.operation.relate.EdgeEndBuilder.prototype.computeEdgeEnds=function(t){var i,r,u;if(2==arguments.length)return void this.computeEdgeEnds2.apply(this,arguments);for(i=new n,r=t;r.hasNext();)u=r.next(),this.computeEdgeEnds2(u,i);return i};jsts.operation.relate.EdgeEndBuilder.prototype.computeEdgeEnds2=function(n,t){var f=n.getEdgeIntersectionList(),r;f.addEndpoints();var u=f.iterator(),e=null,i=null;if(u.hasNext()){r=u.next();do e=i,i=r,r=null,u.hasNext()&&(r=u.next()),null!==i&&(this.createEdgeEndForPrev(n,t,i,e),this.createEdgeEndForNext(n,t,i,r));while(null!==i)}};jsts.operation.relate.EdgeEndBuilder.prototype.createEdgeEndForPrev=function(n,t,i,r){var u=i.segmentIndex,f,e,o;if(0===i.dist){if(0===u)return;u--}f=n.getCoordinate(u);null!==r&&r.segmentIndex>=u&&(f=r.coord);e=new jsts.geomgraph.Label(n.getLabel());e.flip();o=new jsts.geomgraph.EdgeEnd(n,i.coord,f,e);t.add(o)};jsts.operation.relate.EdgeEndBuilder.prototype.createEdgeEndForNext=function(n,t,i,r){var f=i.segmentIndex+1,u,e;f>=n.getNumPoints()&&null===r||(u=n.getCoordinate(f),null!==r&&r.segmentIndex===i.segmentIndex&&(u=r.coord),e=new jsts.geomgraph.EdgeEnd(n,i.coord,u,new jsts.geomgraph.Label(n.getLabel())),t.add(e))}}(),function(){var n=javascript.util.ArrayList,t=javascript.util.TreeSet,i=jsts.geom.CoordinateFilter;jsts.util.UniqueCoordinateArrayFilter=function(){this.treeSet=new t;this.list=new n};jsts.util.UniqueCoordinateArrayFilter.prototype=new i;jsts.util.UniqueCoordinateArrayFilter.prototype.treeSet=null;jsts.util.UniqueCoordinateArrayFilter.prototype.list=null;jsts.util.UniqueCoordinateArrayFilter.prototype.getCoordinates=function(){return this.list.toArray()};jsts.util.UniqueCoordinateArrayFilter.prototype.filter=function(n){this.treeSet.contains(n)||(this.list.add(n),this.treeSet.add(n))}}(),function(){var n=jsts.algorithm.CGAlgorithms,i=jsts.util.UniqueCoordinateArrayFilter,r=jsts.util.Assert,u=javascript.util.Stack,f=javascript.util.ArrayList,e=javascript.util.Arrays,t=function(n){this.origin=n};t.prototype.origin=null;t.prototype.compare=function(n,i){var r=n,u=i;return t.polarCompare(this.origin,r,u)};t.polarCompare=function(t,i,r){var e=i.x-t.x,o=i.y-t.y,s=r.x-t.x,h=r.y-t.y,c=n.computeOrientation(t,i,r),u,f;return c==n.COUNTERCLOCKWISE?1:c==n.CLOCKWISE?-1:(u=e*e+o*o,f=s*s+h*h,f>u?-1:u>f?1:0)};jsts.algorithm.ConvexHull=function(){if(1===arguments.length){var n=arguments[0];this.inputPts=jsts.algorithm.ConvexHull.extractCoordinates(n);this.geomFactory=n.getFactory()}else this.pts=arguments[0],this.geomFactory=arguments[1]};jsts.algorithm.ConvexHull.prototype.geomFactory=null;jsts.algorithm.ConvexHull.prototype.inputPts=null;jsts.algorithm.ConvexHull.extractCoordinates=function(n){var t=new i;return n.apply(t),t.getCoordinates()};jsts.algorithm.ConvexHull.prototype.getConvexHull=function(){var n;if(0==this.inputPts.length)return this.geomFactory.createGeometryCollection(null);if(1==this.inputPts.length)return this.geomFactory.createPoint(this.inputPts[0]);if(2==this.inputPts.length)return this.geomFactory.createLineString(this.inputPts);n=this.inputPts;this.inputPts.length>50&&(n=this.reduce(this.inputPts));var t=this.preSort(n),i=this.grahamScan(t),r=i.toArray();return this.lineOrPolygon(r)};jsts.algorithm.ConvexHull.prototype.reduce=function(t){var r=this.computeOctRing(t),u,i,f;if(null==r)return this.inputPts;for(u=new javascript.util.TreeSet,i=0;i<r.length;i++)u.add(r[i]);for(i=0;i<t.length;i++)n.isPointInRing(t[i],r)||u.add(t[i]);return f=u.toArray(),f.length<3?this.padArray3(f):f};jsts.algorithm.ConvexHull.prototype.padArray3=function(n){for(var i=[],t=0;t<i.length;t++)i[t]=t<n.length?n[t]:n[0];return i};jsts.algorithm.ConvexHull.prototype.preSort=function(n){for(var r,i=1;i<n.length;i++)(n[i].y<n[0].y||n[i].y==n[0].y&&n[i].x<n[0].x)&&(r=n[0],n[0]=n[i],n[i]=r);return e.sort(n,1,n.length,new t(n[0])),n};jsts.algorithm.ConvexHull.prototype.grahamScan=function(t){var r,i=new u,f;for(r=i.push(t[0]),r=i.push(t[1]),r=i.push(t[2]),f=3;f<t.length;f++){for(r=i.pop();!i.empty()&&n.computeOrientation(i.peek(),r,t[f])>0;)r=i.pop();r=i.push(r);r=i.push(t[f])}return r=i.push(t[0]),i};jsts.algorithm.ConvexHull.prototype.isBetween=function(t,i,r){return 0!==n.computeOrientation(t,i,r)?!1:t.x!=r.x&&(t.x<=i.x&&i.x<=r.x||r.x<=i.x&&i.x<=t.x)?!0:t.y!=r.y&&(t.y<=i.y&&i.y<=r.y||r.y<=i.y&&i.y<=t.y)?!0:!1};jsts.algorithm.ConvexHull.prototype.computeOctRing=function(n){var i=this.computeOctPts(n),t=new jsts.geom.CoordinateList;return t.add(i,!1),t.size()<3?null:(t.closeRing(),t.toCoordinateArray())};jsts.algorithm.ConvexHull.prototype.computeOctPts=function(n){for(var i,t=[],r=0;8>r;r++)t[r]=n[0];for(i=1;i<n.length;i++)n[i].x<t[0].x&&(t[0]=n[i]),n[i].x-n[i].y<t[1].x-t[1].y&&(t[1]=n[i]),n[i].y>t[2].y&&(t[2]=n[i]),n[i].x+n[i].y>t[3].x+t[3].y&&(t[3]=n[i]),n[i].x>t[4].x&&(t[4]=n[i]),n[i].x-n[i].y>t[5].x-t[5].y&&(t[5]=n[i]),n[i].y<t[6].y&&(t[6]=n[i]),n[i].x+n[i].y<t[7].x+t[7].y&&(t[7]=n[i]);return t};jsts.algorithm.ConvexHull.prototype.lineOrPolygon=function(n){if(n=this.cleanRing(n),3==n.length)return this.geomFactory.createLineString([n[0],n[1]]);var t=this.geomFactory.createLinearRing(n);return this.geomFactory.createPolygon(t,null)};jsts.algorithm.ConvexHull.prototype.cleanRing=function(n){var t,o,s;r.equals(n[0],n[n.length-1]);for(var u=new f,e=null,i=0;i<=n.length-2;i++)t=n[i],o=n[i+1],t.equals(o)||null!=e&&this.isBetween(e,t,o)||(u.add(t),e=t);return u.add(n[n.length-1]),s=[],u.toArray(s)}}();jsts.algorithm.MinimumDiameter=function(n,t){this.convexHullPts=null;this.minBaseSeg=new jsts.geom.LineSegment;this.minWidthPt=null;this.minPtIndex=0;this.minWidth=0;jsts.algorithm.MinimumDiameter.inputGeom=n;jsts.algorithm.MinimumDiameter.isConvex=t||!1};jsts.algorithm.MinimumDiameter.inputGeom=null;jsts.algorithm.MinimumDiameter.isConvex=!1;jsts.algorithm.MinimumDiameter.nextIndex=function(n,t){return t++,t>=n.length&&(t=0),t};jsts.algorithm.MinimumDiameter.computeC=function(n,t,i){return n*i.y-t*i.x};jsts.algorithm.MinimumDiameter.computeSegmentForLine=function(n,t,i){var r,u;return Math.abs(t)>Math.abs(n)?(r=new jsts.geom.Coordinate(0,i/t),u=new jsts.geom.Coordinate(1,i/t-n/t)):(r=new jsts.geom.Coordinate(i/n,0),u=new jsts.geom.Coordinate(i/n-t/n,1)),new jsts.geom.LineSegment(r,u)};jsts.algorithm.MinimumDiameter.prototype.getLength=function(){return this.computeMinimumDiameter(),this.minWidth};jsts.algorithm.MinimumDiameter.prototype.getWidthCoordinate=function(){return this.computeMinimumDiameter(),this.minWidthPt};jsts.algorithm.MinimumDiameter.prototype.getSupportingSegment=function(){this.computeMinimumDiameter();var n=[this.minBaseSeg.p0,this.minBaseSeg.p1];return jsts.algorithm.MinimumDiameter.inputGeom.getFactory().createLineString(n)};jsts.algorithm.MinimumDiameter.prototype.getDiameter=function(){if(this.computeMinimumDiameter(),null===this.minWidthPt)return jsts.algorithm.MinimumDiameter.inputGeom.getFactory().createLineString(null);var n=this.minBaseSeg.project(this.minWidthPt);return jsts.algorithm.MinimumDiameter.inputGeom.getFactory().createLineString([n,this.minWidthPt])};jsts.algorithm.MinimumDiameter.prototype.computeMinimumDiameter=function(){if(null===this.minWidthPt)if(jsts.algorithm.MinimumDiameter.isConvex)this.computeWidthConvex(jsts.algorithm.MinimumDiameter.inputGeom);else{var n=new jsts.algorithm.ConvexHull(jsts.algorithm.MinimumDiameter.inputGeom).getConvexHull();this.computeWidthConvex(n)}};jsts.algorithm.MinimumDiameter.prototype.computeWidthConvex=function(n){this.convexHullPts=n instanceof jsts.geom.Polygon?n.getExteriorRing().getCoordinates():n.getCoordinates();0===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=null,this.minBaseSeg=null):1===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[0]):2===this.convexHullPts.length||3===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[1]):this.computeConvexRingMinDiameter(this.convexHullPts)};jsts.algorithm.MinimumDiameter.prototype.computeConvexRingMinDiameter=function(n){this.minWidth=Number.MAX_VALUE;for(var r=1,i=new jsts.geom.LineSegment,t=0;t<n.length-1;t++)i.p0=n[t],i.p1=n[t+1],r=this.findMaxPerpDistance(n,i,r)};jsts.algorithm.MinimumDiameter.prototype.findMaxPerpDistance=function(n,t,i){for(var r=t.distancePerpendicular(n[i]),f=r,u=i,e=u;f>=r;)r=f,u=e,e=jsts.algorithm.MinimumDiameter.nextIndex(n,u),f=t.distancePerpendicular(n[e]);return r<this.minWidth&&(this.minPtIndex=u,this.minWidth=r,this.minWidthPt=n[this.minPtIndex],this.minBaseSeg=new jsts.geom.LineSegment(t)),u};jsts.algorithm.MinimumDiameter.prototype.getMinimumRectangle=function(){var i,r;if(this.computeMinimumDiameter(),0===this.minWidth)return this.minBaseSeg.p0.equals2D(this.minBaseSeg.p1)?jsts.algorithm.MinimumDiameter.inputGeom.getFactory().createPoint(this.minBaseSeg.p0):this.minBaseSeg.toGeometry(jsts.algorithm.MinimumDiameter.inputGeom.getFactory());for(var n=this.minBaseSeg.p1.x-this.minBaseSeg.p0.x,t=this.minBaseSeg.p1.y-this.minBaseSeg.p0.y,f=Number.MAX_VALUE,e=-Number.MAX_VALUE,o=Number.MAX_VALUE,s=-Number.MAX_VALUE,u=0;u<this.convexHullPts.length;u++)i=jsts.algorithm.MinimumDiameter.computeC(n,t,this.convexHullPts[u]),i>e&&(e=i),f>i&&(f=i),r=jsts.algorithm.MinimumDiameter.computeC(-t,n,this.convexHullPts[u]),r>s&&(s=r),o>r&&(o=r);var h=jsts.algorithm.MinimumDiameter.computeSegmentForLine(-n,-t,s),c=jsts.algorithm.MinimumDiameter.computeSegmentForLine(-n,-t,o),l=jsts.algorithm.MinimumDiameter.computeSegmentForLine(-t,n,e),a=jsts.algorithm.MinimumDiameter.computeSegmentForLine(-t,n,f),v=l.lineIntersection(h),y=a.lineIntersection(h),p=a.lineIntersection(c),w=l.lineIntersection(c),b=jsts.algorithm.MinimumDiameter.inputGeom.getFactory().createLinearRing([v,y,p,w,v]);return jsts.algorithm.MinimumDiameter.inputGeom.getFactory().createPolygon(b,null)},function(){jsts.io.GeoJSONParser=function(n){this.geometryFactory=n||new jsts.geom.GeometryFactory;this.geometryTypes=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"]};jsts.io.GeoJSONParser.prototype.read=function(n){var i,t;if(i="string"==typeof n?JSON.parse(n):n,t=i.type,!this.parse[t])throw new Error("Unknown GeoJSON type: "+i.type);return-1!=this.geometryTypes.indexOf(t)?this.parse[t].apply(this,[i.coordinates]):"GeometryCollection"===t?this.parse[t].apply(this,[i.geometries]):this.parse[t].apply(this,[i])};jsts.io.GeoJSONParser.prototype.parse={Feature:function(n){var t={},i,r;for(i in n)t[i]=n[i];if(n.geometry){if(r=n.geometry.type,!this.parse[r])throw new Error("Unknown GeoJSON type: "+n.type);t.geometry=this.read(n.geometry)}return n.bbox&&(t.bbox=this.parse.bbox.apply(this,[n.bbox])),t},FeatureCollection:function(n){var t={},i;if(n.features)for(t.features=[],i=0;i<n.features.length;++i)t.features.push(this.read(n.features[i]));return n.bbox&&(t.bbox=this.parse.bbox.apply(this,[n.bbox])),t},coordinates:function(n){for(var r,i=[],t=0;t<n.length;++t)r=n[t],i.push(new jsts.geom.Coordinate(r[0],r[1]));return i},bbox:function(n){return this.geometryFactory.createLinearRing([new jsts.geom.Coordinate(n[0],n[1]),new jsts.geom.Coordinate(n[2],n[1]),new jsts.geom.Coordinate(n[2],n[3]),new jsts.geom.Coordinate(n[0],n[3]),new jsts.geom.Coordinate(n[0],n[1])])},Point:function(n){var t=new jsts.geom.Coordinate(n[0],n[1]);return this.geometryFactory.createPoint(t)},MultiPoint:function(n){for(var i=[],t=0;t<n.length;++t)i.push(this.parse.Point.apply(this,[n[t]]));return this.geometryFactory.createMultiPoint(i)},LineString:function(n){var t=this.parse.coordinates.apply(this,[n]);return this.geometryFactory.createLineString(t)},MultiLineString:function(n){for(var i=[],t=0;t<n.length;++t)i.push(this.parse.LineString.apply(this,[n[t]]));return this.geometryFactory.createMultiLineString(i)},Polygon:function(n){for(var r=this.parse.coordinates.apply(this,[n[0]]),u=this.geometryFactory.createLinearRing(r),i=[],t=1;t<n.length;++t){var f=n[t],e=this.parse.coordinates.apply(this,[f]),o=this.geometryFactory.createLinearRing(e);i.push(o)}return this.geometryFactory.createPolygon(u,i)},MultiPolygon:function(n){for(var r,i=[],t=0;t<n.length;++t)r=n[t],i.push(this.parse.Polygon.apply(this,[r]));return this.geometryFactory.createMultiPolygon(i)},GeometryCollection:function(n){for(var r,i=[],t=0;t<n.length;++t)r=n[t],i.push(this.read(r));return this.geometryFactory.createGeometryCollection(i)}};jsts.io.GeoJSONParser.prototype.write=function(n){var t=n.CLASS_NAME.slice(10);if(!this.extract[t])throw new Error("Geometry is not supported");return this.extract[t].apply(this,[n])};jsts.io.GeoJSONParser.prototype.extract={coordinate:function(n){return[n.x,n.y]},Point:function(n){var t=this.extract.coordinate.apply(this,[n.coordinate]);return{type:"Point",coordinates:t}},MultiPoint:function(n){for(var r,u,i=[],t=0;t<n.geometries.length;++t)r=n.geometries[t],u=this.extract.Point.apply(this,[r]),i.push(u.coordinates);return{type:"MultiPoint",coordinates:i}},LineString:function(n){for(var r,i=[],t=0;t<n.points.length;++t)r=n.points[t],i.push(this.extract.coordinate.apply(this,[r]));return{type:"LineString",coordinates:i}},MultiLineString:function(n){for(var r,u,i=[],t=0;t<n.geometries.length;++t)r=n.geometries[t],u=this.extract.LineString.apply(this,[r]),i.push(u.coordinates);return{type:"MultiLineString",coordinates:i}},Polygon:function(n){var i=[],f=this.extract.LineString.apply(this,[n.shell]),t,r,u;for(i.push(f.coordinates),t=0;t<n.holes.length;++t)r=n.holes[t],u=this.extract.LineString.apply(this,[r]),i.push(u.coordinates);return{type:"Polygon",coordinates:i}},MultiPolygon:function(n){for(var r,u,i=[],t=0;t<n.geometries.length;++t)r=n.geometries[t],u=this.extract.Polygon.apply(this,[r]),i.push(u.coordinates);return{type:"MultiPolygon",coordinates:i}},GeometryCollection:function(n){for(var r,u,i=[],t=0;t<n.geometries.length;++t)r=n.geometries[t],u=r.CLASS_NAME.slice(10),i.push(this.extract[u].apply(this,[r]));return{type:"GeometryCollection",geometries:i}}}}();jsts.triangulate.quadedge.Vertex=function(){1===arguments.length?this.initFromCoordinate(arguments[0]):this.initFromXY(arguments[0],arguments[1])};jsts.triangulate.quadedge.Vertex.LEFT=0;jsts.triangulate.quadedge.Vertex.RIGHT=1;jsts.triangulate.quadedge.Vertex.BEYOND=2;jsts.triangulate.quadedge.Vertex.BEHIND=3;jsts.triangulate.quadedge.Vertex.BETWEEN=4;jsts.triangulate.quadedge.Vertex.ORIGIN=5;jsts.triangulate.quadedge.Vertex.DESTINATION=6;jsts.triangulate.quadedge.Vertex.prototype.initFromXY=function(n,t){this.p=new jsts.geom.Coordinate(n,t)};jsts.triangulate.quadedge.Vertex.prototype.initFromCoordinate=function(n){this.p=new jsts.geom.Coordinate(n)};jsts.triangulate.quadedge.Vertex.prototype.getX=function(){return this.p.x};jsts.triangulate.quadedge.Vertex.prototype.getY=function(){return this.p.y};jsts.triangulate.quadedge.Vertex.prototype.getZ=function(){return this.p.z};jsts.triangulate.quadedge.Vertex.prototype.setZ=function(n){this.p.z=n};jsts.triangulate.quadedge.Vertex.prototype.getCoordinate=function(){return this.p};jsts.triangulate.quadedge.Vertex.prototype.toString=function(){return"POINT ("+this.p.x+" "+this.p.y+")"};jsts.triangulate.quadedge.Vertex.prototype.equals=function(){return 1===arguments.length?this.equalsExact(arguments[0]):this.equalsWithTolerance(arguments[0],arguments[1])};jsts.triangulate.quadedge.Vertex.prototype.equalsExact=function(n){return this.p.x===n.getX()&&this.p.y===n.getY()};jsts.triangulate.quadedge.Vertex.prototype.equalsWithTolerance=function(n,t){return this.p.distance(n.getCoordinate())<t};jsts.triangulate.quadedge.Vertex.prototype.classify=function(n,t){var u,i,r,f;return u=this,i=t.sub(n),r=u.sub(n),f=i.crossProduct(r),f>0?jsts.triangulate.quadedge.Vertex.LEFT:0>f?jsts.triangulate.quadedge.Vertex.RIGHT:i.getX()*r.getX()<0||i.getY()*r.getY()<0?jsts.triangulate.quadedge.Vertex.BEHIND:i.magn()<r.magn()?jsts.triangulate.quadedge.Vertex.BEYOND:n.equals(u)?jsts.triangulate.quadedge.Vertex.ORIGIN:t.equals(u)?jsts.triangulate.quadedge.Vertex.DESTINATION:jsts.triangulate.quadedge.Vertex.BETWEEN};jsts.triangulate.quadedge.Vertex.prototype.crossProduct=function(n){return this.p.x*n.getY()-this.p.y*n.getX()};jsts.triangulate.quadedge.Vertex.prototype.dot=function(n){return this.p.x*n.getX()+this.p.y*n.getY()};jsts.triangulate.quadedge.Vertex.prototype.times=function(n){return new jsts.triangulate.quadedge.Vertex(n*this.p.x,n*this.p.y)};jsts.triangulate.quadedge.Vertex.prototype.sum=function(n){return new jsts.triangulate.quadedge.Vertex(this.p.x+n.getX(),this.p.y+n.getY())};jsts.triangulate.quadedge.Vertex.prototype.sub=function(n){return new jsts.triangulate.quadedge.Vertex(this.p.x-n.getX(),this.p.y-n.getY())};jsts.triangulate.quadedge.Vertex.prototype.magn=function(){return Math.sqrt(this.p.x*this.p.x+this.p.y*this.p.y)};jsts.triangulate.quadedge.Vertex.prototype.cross=function(){return new Vertex(this.p.y,-this.p.x)};jsts.triangulate.quadedge.Vertex.prototype.isInCircle=function(n,t,i){return jsts.triangulate.quadedge.TrianglePredicate.isInCircleRobust(n.p,t.p,i.p,this.p)};jsts.triangulate.quadedge.Vertex.prototype.isCCW=function(n,t){return(n.p.x-this.p.x)*(t.p.y-this.p.y)-(n.p.y-this.p.y)*(t.p.x-this.p.x)>0};jsts.triangulate.quadedge.Vertex.prototype.rightOf=function(n){return this.isCCW(n.dest(),n.orig())};jsts.triangulate.quadedge.Vertex.prototype.leftOf=function(n){return this.isCCW(n.orig(),n.dest())};jsts.triangulate.quadedge.Vertex.prototype.bisector=function(n,t){var i,r,u,f;return i=t.getX()-n.getX(),r=t.getY()-n.getY(),u=new jsts.algorithm.HCoordinate(n.getX()+i/2,n.getY()+r/2,1),f=new jsts.algorithm.HCoordinate(n.getX()-r+i/2,n.getY()+i+r/2,1),new jsts.algorithm.HCoordinate(u,f)};jsts.triangulate.quadedge.Vertex.prototype.distance=function(n,t){return n.p.distance(t.p)};jsts.triangulate.quadedge.Vertex.prototype.circumRadiusRatio=function(n,t){var u,f,i,r;return u=this.circleCenter(n,t),f=this.distance(u,n),i=this.distance(this,n),r=this.distance(n,t),i>r&&(i=r),r=this.distance(t,this),i>r&&(i=r),f/i};jsts.triangulate.quadedge.Vertex.prototype.midPoint=function(n){var t,i;return t=(this.p.x+n.getX())/2,i=(this.p.y+n.getY())/2,new jsts.triangulate.quadedge.Vertex(t,i)};jsts.triangulate.quadedge.Vertex.prototype.circleCenter=function(n,t){var u,f,e,i,r;u=new jsts.triangulate.quadedge.Vertex(this.getX(),this.getY());f=this.bisector(u,n);e=this.bisector(n,t);i=new jsts.algorithm.HCoordinate(f,e);r=null;try{r=new jsts.triangulate.quadedge.Vertex(i.getX(),i.getY())}catch(o){}return r};jsts.operation.valid.IsValidOp=function(n){this.parentGeometry=n;this.isSelfTouchingRingFormingHoleValid=!1;this.validErr=null};jsts.operation.valid.IsValidOp.isValid=function(n){if(arguments[0]instanceof jsts.geom.Coordinate)return isNaN(n.x)?!1:isFinite(n.x)||isNaN(n.x)?isNaN(n.y)?!1:isFinite(n.y)||isNaN(n.y)?!0:!1:!1;var t=new jsts.operation.valid.IsValidOp(n);return t.isValid()};jsts.operation.valid.IsValidOp.findPtNotNode=function(n,t,i){for(var u,f=i.findEdge(t),e=f.getEdgeIntersectionList(),r=0;r<n.length;r++)if(u=n[r],!e.isIntersection(u))return u;return null};jsts.operation.valid.IsValidOp.prototype.setSelfTouchingRingFormingHoleValid=function(n){this.isSelfTouchingRingFormingHoleValid=n};jsts.operation.valid.IsValidOp.prototype.isValid=function(){return this.checkValid(this.parentGeometry),null==this.validErr};jsts.operation.valid.IsValidOp.prototype.getValidationError=function(){return this.checkValid(this.parentGeometry),this.validErr};jsts.operation.valid.IsValidOp.prototype.checkValid=function(n){if(this.validErr=null,!n.isEmpty())if(n instanceof jsts.geom.Point)this.checkValidPoint(n);else if(n instanceof jsts.geom.MultiPoint)this.checkValidMultiPoint(n);else if(n instanceof jsts.geom.LinearRing)this.checkValidLinearRing(n);else if(n instanceof jsts.geom.LineString)this.checkValidLineString(n);else if(n instanceof jsts.geom.Polygon)this.checkValidPolygon(n);else if(n instanceof jsts.geom.MultiPolygon)this.checkValidMultiPolygon(n);else{if(!(n instanceof jsts.geom.GeometryCollection))throw n.constructor;this.checkValidGeometryCollection(n)}};jsts.operation.valid.IsValidOp.prototype.checkValidPoint=function(n){this.checkInvalidCoordinates(n.getCoordinates())};jsts.operation.valid.IsValidOp.prototype.checkValidMultiPoint=function(n){this.checkInvalidCoordinates(n.getCoordinates())};jsts.operation.valid.IsValidOp.prototype.checkValidLineString=function(n){if(this.checkInvalidCoordinates(n.getCoordinates()),null==this.validErr){var t=new jsts.geomgraph.GeometryGraph(0,n);this.checkTooFewPoints(t)}};jsts.operation.valid.IsValidOp.prototype.checkValidLinearRing=function(n){var t,i;(this.checkInvalidCoordinates(n.getCoordinates()),null==this.validErr&&(this.checkClosedRing(n),null==this.validErr))&&(t=new jsts.geomgraph.GeometryGraph(0,n),(this.checkTooFewPoints(t),null==this.validErr)&&(i=new jsts.algorithm.RobustLineIntersector,t.computeSelfNodes(i,!0),this.checkNoSelfIntersectingRings(t)))};jsts.operation.valid.IsValidOp.prototype.checkValidPolygon=function(n){if(this.checkInvalidCoordinates(n),null==this.validErr&&(this.checkClosedRings(n),null==this.validErr)){var t=new jsts.geomgraph.GeometryGraph(0,n);this.checkTooFewPoints(t);null==this.validErr&&(this.checkConsistentArea(t),null==this.validErr&&(this.isSelfTouchingRingFormingHoleValid||(this.checkNoSelfIntersectingRings(t),null==this.validErr))&&(this.checkHolesInShell(n,t),null==this.validErr&&(this.checkHolesNotNested(n,t),null==this.validErr&&this.checkConnectedInteriors(t))))}};jsts.operation.valid.IsValidOp.prototype.checkValidMultiPolygon=function(n){for(var i,r,u=n.getNumGeometries(),t=0;u>t;t++){if(r=n.getGeometryN(t),this.checkInvalidCoordinates(r),null!=this.validErr)return;if(this.checkClosedRings(r),null!=this.validErr)return}if(i=new jsts.geomgraph.GeometryGraph(0,n),this.checkTooFewPoints(i),null==this.validErr&&(this.checkConsistentArea(i),null==this.validErr&&(this.isSelfTouchingRingFormingHoleValid||(this.checkNoSelfIntersectingRings(i),null==this.validErr)))){for(t=0;t<n.getNumGeometries();t++)if(r=n.getGeometryN(t),this.checkHolesInShell(r,i),null!=this.validErr)return;for(t=0;t<n.getNumGeometries();t++)if(r=n.getGeometryN(t),this.checkHolesNotNested(r,i),null!=this.validErr)return;this.checkShellsNotNested(n,i);null==this.validErr&&this.checkConnectedInteriors(i)}};jsts.operation.valid.IsValidOp.prototype.checkValidGeometryCollection=function(n){for(var i,t=0;t<n.getNumGeometries();t++)if(i=n.getGeometryN(t),this.checkValid(i),null!=this.validErr)return};jsts.operation.valid.IsValidOp.prototype.checkInvalidCoordinates=function(n){var i,r,t;if(n instanceof jsts.geom.Polygon){if(i=n,this.checkInvalidCoordinates(i.getExteriorRing().getCoordinates()),null!=this.validErr)return;for(t=0;t<i.getNumInteriorRing();t++)if(this.checkInvalidCoordinates(i.getInteriorRingN(t).getCoordinates()),null!=this.validErr)return}else for(r=n,t=0;t<r.length;t++)if(!jsts.operation.valid.IsValidOp.isValid(r[t]))return void(this.validErr=new jsts.operation.valid.TopologyValidationError(jsts.operation.valid.TopologyValidationError.INVALID_COORDINATE,r[t]))};jsts.operation.valid.IsValidOp.prototype.checkClosedRings=function(n){if(this.checkClosedRing(n.getExteriorRing()),null==this.validErr)for(var t=0;t<n.getNumInteriorRing();t++)if(this.checkClosedRing(n.getInteriorRingN(t)),null!=this.validErr)return};jsts.operation.valid.IsValidOp.prototype.checkClosedRing=function(n){if(!n.isClosed()){var t=null;n.getNumPoints()>=1&&(t=n.getCoordinateN(0));this.validErr=new jsts.operation.valid.TopologyValidationError(jsts.operation.valid.TopologyValidationError.RING_NOT_CLOSED,t)}};jsts.operation.valid.IsValidOp.prototype.checkTooFewPoints=function(n){n.hasTooFewPoints};jsts.operation.valid.IsValidOp.prototype.checkConsistentArea=function(n){var t=new jsts.operation.valid.ConsistentAreaTester(n),i=t.isNodeConsistentArea();return i?void(t.hasDuplicateRings()&&(this.validErr=new jsts.operation.valid.TopologyValidationError(jsts.operation.valid.TopologyValidationError.DUPLICATE_RINGS,t.getInvalidPoint()))):void(this.validErr=new jsts.operation.valid.TopologyValidationError(jsts.operation.valid.TopologyValidationError.SELF_INTERSECTION,t.getInvalidPoint()))};jsts.operation.valid.IsValidOp.prototype.checkNoSelfIntersectingRings=function(n){for(var i,t=n.getEdgeIterator();t.hasNext();)if(i=t.next(),this.checkNoSelfIntersectingRing(i.getEdgeIntersectionList()),null!=this.validErr)return};jsts.operation.valid.IsValidOp.prototype.checkNoSelfIntersectingRing=function(n){for(var t,i=[],r=!0,u=n.iterator();u.hasNext();)if(t=u.next(),r)r=!1;else{if(i.indexOf(t.coord)>=0)return void(this.validErr=new jsts.operation.valid.TopologyValidationError(jsts.operation.valid.TopologyValidationError.RING_SELF_INTERSECTION,t.coord));i.push(t.coord)}};jsts.operation.valid.IsValidOp.prototype.checkHolesInShell=function(n,t){for(var f,i,e,u=n.getExteriorRing(),o=new jsts.algorithm.MCPointInRing(u),r=0;r<n.getNumInteriorRing();r++){if(f=n.getInteriorRingN(r),i=jsts.operation.valid.IsValidOp.findPtNotNode(f.getCoordinates(),u,t),null==i)return;if(e=!o.isInside(i),e)return void(this.validErr=new jsts.operation.valid.TopologyValidationError(jsts.operation.valid.TopologyValidationError.HOLE_OUTSIDE_SHELL,i))}};jsts.operation.valid.IsValidOp.prototype.checkHolesNotNested=function(n,t){for(var u,f,i=new jsts.operation.valid.IndexedNestedRingTester(t),r=0;r<n.getNumInteriorRing();r++)u=n.getInteriorRingN(r),i.add(u);f=i.isNonNested();f||(this.validErr=new jsts.operation.valid.TopologyValidationError(jsts.operation.valid.TopologyValidationError.NESTED_HOLES,i.getNestedPoint()))};jsts.operation.valid.IsValidOp.prototype.checkShellsNotNested=function(n,t){for(var u,i=0;i<n.getNumGeometries();i++)for(var f=n.getGeometryN(i),e=f.getExteriorRing(),r=0;r<n.getNumGeometries();r++)if(i!=r&&(u=n.getGeometryN(r),this.checkShellNotNested(e,u,t),null!=this.validErr))return};jsts.operation.valid.IsValidOp.prototype.checkShellNotNested=function(n,t,i){var h=n.getCoordinates(),e=t.getExteriorRing(),c=e.getCoordinates(),f=jsts.operation.valid.IsValidOp.findPtNotNode(h,e,i),o,r,u,s;if(null!=f&&(o=jsts.algorithm.CGAlgorithms.isPointInRing(f,c),o)){if(t.getNumInteriorRing()<=0)return void(this.validErr=new jsts.operation.valid.TopologyValidationError(jsts.operation.valid.TopologyValidationError.NESTED_SHELLS,f));for(r=null,u=0;u<t.getNumInteriorRing();u++)if(s=t.getInteriorRingN(u),r=this.checkShellInsideHole(n,s,i),null==r)return;this.validErr=new jsts.operation.valid.TopologyValidationError(jsts.operation.valid.TopologyValidationError.NESTED_SHELLS,r)}};jsts.operation.valid.IsValidOp.prototype.checkShellInsideHole=function(n,t,i){var f=n.getCoordinates(),e=t.getCoordinates(),u=jsts.operation.valid.IsValidOp.findPtNotNode(f,t,i),o,r,s;return null!=u&&(o=jsts.algorithm.CGAlgorithms.isPointInRing(u,e),!o)?u:(r=jsts.operation.valid.IsValidOp.findPtNotNode(e,n,i),null!=r)?(s=jsts.algorithm.CGAlgorithms.isPointInRing(r,f),s?r:null):(jsts.util.Assert.shouldNeverReachHere("points in shell and hole appear to be equal"),null)};jsts.operation.valid.IsValidOp.prototype.checkConnectedInteriors=function(n){var t=new jsts.operation.valid.ConnectedInteriorTester(n);t.isInteriorsConnected()||(this.validErr=new jsts.operation.valid.TopologyValidationError(jsts.operation.valid.TopologyValidationError.DISCONNECTED_INTERIOR,t.getCoordinate()))};jsts.algorithm.RobustDeterminant=function(){};jsts.algorithm.RobustDeterminant.signOfDet2x2=function(n,t,i,r){var u,f,e,o;if(o=0,u=1,0===n||0===r)return 0===t||0===i?0:t>0?i>0?-u:u:i>0?u:-u;if(0===t||0===i)return r>0?n>0?u:-u:n>0?-u:u;if(t>0?r>0?t>r&&(u=-u,f=n,n=i,i=f,f=t,t=r,r=f):-r>=t?(u=-u,i=-i,r=-r):(f=n,n=-i,i=f,f=t,t=-r,r=f):r>0?r>=-t?(u=-u,n=-n,t=-t):(f=-n,n=i,i=f,f=-t,t=r,r=f):t>=r?(n=-n,t=-t,i=-i,r=-r):(u=-u,f=-n,n=-i,i=f,f=-t,t=-r,r=f),n>0){if(!(i>0)||n>i)return u}else{if(i>0||!(n>=i))return-u;u=-u;n=-n;i=-i}for(;;){if(o+=1,e=Math.floor(i/n),i-=e*n,r-=e*t,0>r)return-u;if(r>t)return u;if(n>i+i){if(r+r>t)return u}else{if(t>r+r)return-u;i=n-i;r=t-r;u=-u}if(0===r)return 0===i?0:-u;if(0===i||(e=Math.floor(n/i),n-=e*i,t-=e*r,0>t))return u;if(t>r)return-u;if(i>n+n){if(t+t>r)return-u}else{if(r>t+t)return u;n=i-n;t=r-t;u=-u}if(0===t)return 0===n?0:u;if(0===n)return-u}};jsts.algorithm.RobustDeterminant.orientationIndex=function(n,t,i){var r=t.x-n.x,u=t.y-n.y,f=i.x-t.x,e=i.y-t.y;return jsts.algorithm.RobustDeterminant.signOfDet2x2(r,u,f,e)};jsts.index.quadtree.NodeBase=function(){this.subnode=new Array(4);this.subnode[0]=null;this.subnode[1]=null;this.subnode[2]=null;this.subnode[3]=null;this.items=[]};jsts.index.quadtree.NodeBase.prototype.getSubnodeIndex=function(n,t){var i=-1;return n.getMinX()>=t.x&&(n.getMinY()>=t.y&&(i=3),n.getMaxY()<=t.y&&(i=1)),n.getMaxX()<=t.x&&(n.getMinY()>=t.y&&(i=2),n.getMaxY()<=t.y&&(i=0)),i};jsts.index.quadtree.NodeBase.prototype.getItems=function(){return this.items};jsts.index.quadtree.NodeBase.prototype.hasItems=function(){return this.items.length>0};jsts.index.quadtree.NodeBase.prototype.add=function(n){this.items.push(n)};jsts.index.quadtree.NodeBase.prototype.remove=function(n,t){var r,i;if(!this.isSearchMatch(n))return!1;for(r=!1,i=0,i;4>i;i++)if(null!==this.subnode[i]&&(r=this.subnode[i].remove(n,t))){this.subnode[i].isPrunable()&&(this.subnode[i]=null);break}if(r)return r;if(-1!==this.items.indexOf(t)){for(i=this.items.length-1;i>=0;i--)this.items[i]===t&&this.items.splice(i,1);r=!0}return r};jsts.index.quadtree.NodeBase.prototype.isPrunable=function(){return!(this.hasChildren()||this.hasItems())};jsts.index.quadtree.NodeBase.prototype.hasChildren=function(){var n=0;for(n;4>n;n++)if(null!==this.subnode[n])return!0;return!1};jsts.index.quadtree.NodeBase.prototype.isEmpty=function(){var t=!0,n;for(this.items.length>0&&(t=!1),n=0,n;4>n;n++)null!==this.subnode[n]&&(this.subnode[n].isEmpty()||(t=!1));return t};jsts.index.quadtree.NodeBase.prototype.addAllItems=function(n){n=n.concat(this.items);var t=0;for(t;4>t;t++)null!==this.subnode[t]&&(n=this.subnode[t].addAllItems(n));return n};jsts.index.quadtree.NodeBase.prototype.addAllItemsFromOverlapping=function(n,t){if(this.isSearchMatch(n)){t=t.concat(this.items);var i=0;for(i;4>i;i++)null!==this.subnode[i]&&(t=this.subnode[i].addAllItemsFromOverlapping(n,t))}};jsts.index.quadtree.NodeBase.prototype.visit=function(n,t){if(this.isSearchMatch(n)){this.visitItems(n,t);var i=0;for(i;4>i;i++)null!==this.subnode[i]&&this.subnode[i].visit(n,t)}};jsts.index.quadtree.NodeBase.prototype.visitItems=function(n,t){var i=0,r=this.items.length;for(i;r>i;i++)t.visitItem(this.items[i])};jsts.index.quadtree.NodeBase.prototype.depth=function(){var t,i=0,n=0;for(n;4>n;n++)null!==this.subnode[n]&&(t=this.subnode[n].depth(),t>i&&(i=t));return i+1};jsts.index.quadtree.NodeBase.prototype.size=function(){var t=0,n=0;for(n;4>n;n++)null!==this.subnode[n]&&(t+=this.subnode[n].size());return t+this.items.length};jsts.index.quadtree.NodeBase.prototype.getNodeCount=function(){var t=0,n=0;for(n;4>n;n++)null!==this.subnode[n]&&(t+=this.subnode[n].size());return t+1};jsts.index.quadtree.Node=function(n,t){jsts.index.quadtree.NodeBase.prototype.constructor.apply(this,arguments);this.env=n;this.level=t;this.centre=new jsts.geom.Coordinate;this.centre.x=(n.getMinX()+n.getMaxX())/2;this.centre.y=(n.getMinY()+n.getMaxY())/2};jsts.index.quadtree.Node.prototype=new jsts.index.quadtree.NodeBase;jsts.index.quadtree.Node.createNode=function(n){var t,i;return t=new jsts.index.quadtree.Key(n),i=new jsts.index.quadtree.Node(t.getEnvelope(),t.getLevel())};jsts.index.quadtree.Node.createExpanded=function(n,t){var i,r=new jsts.geom.Envelope(t);return null!==n&&r.expandToInclude(n.env),i=jsts.index.quadtree.Node.createNode(r),null!==n&&i.insertNode(n),i};jsts.index.quadtree.Node.prototype.getEnvelope=function(){return this.env};jsts.index.quadtree.Node.prototype.isSearchMatch=function(n){return this.env.intersects(n)};jsts.index.quadtree.Node.prototype.getNode=function(n){var t,i=this.getSubnodeIndex(n,this.centre);return-1!==i?(t=this.getSubnode(i),t.getNode(n)):this};jsts.index.quadtree.Node.prototype.find=function(n){var i,t=this.getSubnodeIndex(n,this.centre);return-1===t?this:null!==this.subnode[t]?(i=this.subnode[t],i.find(n)):this};jsts.index.quadtree.Node.prototype.insertNode=function(n){var t,i=this.getSubnodeIndex(n.env,this.centre);n.level===this.level-1?this.subnode[i]=n:(t=this.createSubnode(i),t.insertNode(n),this.subnode[i]=t)};jsts.index.quadtree.Node.prototype.getSubnode=function(n){return null===this.subnode[n]&&(this.subnode[n]=this.createSubnode(n)),this.subnode[n]};jsts.index.quadtree.Node.prototype.createSubnode=function(n){var f,e,t=0,i=0,r=0,u=0;switch(n){case 0:t=this.env.getMinX();i=this.centre.x;r=this.env.getMinY();u=this.centre.y;break;case 1:t=this.centre.x;i=this.env.getMaxX();r=this.env.getMinY();u=this.centre.y;break;case 2:t=this.env.getMinX();i=this.centre.x;r=this.centre.y;u=this.env.getMaxY();break;case 3:t=this.centre.x;i=this.env.getMaxX();r=this.centre.y;u=this.env.getMaxY()}return f=new jsts.geom.Envelope(t,i,r,u),e=new jsts.index.quadtree.Node(f,this.level-1)},function(){jsts.triangulate.quadedge.QuadEdge=function(){this.rot=null;this.vertex=null;this.next=null;this.data=null};var n=jsts.triangulate.quadedge.QuadEdge;jsts.triangulate.quadedge.QuadEdge.makeEdge=function(t,i){var r,u,f,e,o;return r=new n,u=new n,f=new n,e=new n,r.rot=u,u.rot=f,f.rot=e,e.rot=r,r.setNext(r),u.setNext(e),f.setNext(f),e.setNext(u),o=r,o.setOrig(t),o.setDest(i),o};jsts.triangulate.quadedge.QuadEdge.connect=function(t,i){var r=n.makeEdge(t.dest(),i.orig());return n.splice(r,t.lNext()),n.splice(r.sym(),i),r};jsts.triangulate.quadedge.QuadEdge.splice=function(n,t){var i,r,u,f,e,o;i=n.oNext().rot;r=t.oNext().rot;u=t.oNext();f=n.oNext();e=r.oNext();o=i.oNext();n.setNext(u);t.setNext(f);i.setNext(e);r.setNext(o)};jsts.triangulate.quadedge.QuadEdge.swap=function(t){var i,r;i=t.oPrev();r=t.sym().oPrev();n.splice(t,i);n.splice(t.sym(),r);n.splice(t,i.lNext());n.splice(t.sym(),r.lNext());t.setOrig(i.dest());t.setDest(r.dest())};jsts.triangulate.quadedge.QuadEdge.prototype.getPrimary=function(){return this.orig().getCoordinate().compareTo(this.dest().getCoordinate())<=0?this:this.sym()};jsts.triangulate.quadedge.QuadEdge.prototype.setData=function(n){this.data=n};jsts.triangulate.quadedge.QuadEdge.prototype.getData=function(){return this.data};jsts.triangulate.quadedge.QuadEdge.prototype.delete_jsts=function(){this.rot=null};jsts.triangulate.quadedge.QuadEdge.prototype.isLive=function(){return null!==this.rot};jsts.triangulate.quadedge.QuadEdge.prototype.setNext=function(n){this.next=n};jsts.triangulate.quadedge.QuadEdge.prototype.invRot=function(){return this.rot.sym()};jsts.triangulate.quadedge.QuadEdge.prototype.sym=function(){return this.rot.rot};jsts.triangulate.quadedge.QuadEdge.prototype.oNext=function(){return this.next};jsts.triangulate.quadedge.QuadEdge.prototype.oPrev=function(){return this.rot.next.rot};jsts.triangulate.quadedge.QuadEdge.prototype.dNext=function(){return this.sym().oNext().sym()};jsts.triangulate.quadedge.QuadEdge.prototype.dPrev=function(){return this.invRot().oNext().invRot()};jsts.triangulate.quadedge.QuadEdge.prototype.lNext=function(){return this.invRot().oNext().rot};jsts.triangulate.quadedge.QuadEdge.prototype.lPrev=function(){return this.next.sym()};jsts.triangulate.quadedge.QuadEdge.prototype.rNext=function(){return this.rot.next.invRot()};jsts.triangulate.quadedge.QuadEdge.prototype.rPrev=function(){return this.sym().oNext()};jsts.triangulate.quadedge.QuadEdge.prototype.setOrig=function(n){this.vertex=n};jsts.triangulate.quadedge.QuadEdge.prototype.setDest=function(n){this.sym().setOrig(n)};jsts.triangulate.quadedge.QuadEdge.prototype.orig=function(){return this.vertex};jsts.triangulate.quadedge.QuadEdge.prototype.dest=function(){return this.sym().orig()};jsts.triangulate.quadedge.QuadEdge.prototype.getLength=function(){return this.orig().getCoordinate().distance(dest().getCoordinate())};jsts.triangulate.quadedge.QuadEdge.prototype.equalsNonOriented=function(n){return this.equalsOriented(n)?!0:this.equalsOriented(n.sym())?!0:!1};jsts.triangulate.quadedge.QuadEdge.prototype.equalsOriented=function(n){return this.orig().getCoordinate().equals2D(n.orig().getCoordinate())&&this.dest().getCoordinate().equals2D(n.dest().getCoordinate())?!0:!1};jsts.triangulate.quadedge.QuadEdge.prototype.toLineSegment=function(){return new jsts.geom.LineSegment(this.vertex.getCoordinate(),this.dest().getCoordinate())};jsts.triangulate.quadedge.QuadEdge.prototype.toString=function(){var n,t;return n=this.vertex.getCoordinate(),t=this.dest().getCoordinate(),jsts.io.WKTWriter.toLineString(n,t)}}(),function(){var n=jsts.util.Assert;jsts.geomgraph.EdgeEnd=function(n,t,i,r){this.edge=n;t&&i&&this.init(t,i);r&&(this.label=r||null)};jsts.geomgraph.EdgeEnd.prototype.edge=null;jsts.geomgraph.EdgeEnd.prototype.label=null;jsts.geomgraph.EdgeEnd.prototype.node=null;jsts.geomgraph.EdgeEnd.prototype.p0=null;jsts.geomgraph.EdgeEnd.prototype.p1=null;jsts.geomgraph.EdgeEnd.prototype.dx=null;jsts.geomgraph.EdgeEnd.prototype.dy=null;jsts.geomgraph.EdgeEnd.prototype.quadrant=null;jsts.geomgraph.EdgeEnd.prototype.init=function(t,i){this.p0=t;this.p1=i;this.dx=i.x-t.x;this.dy=i.y-t.y;this.quadrant=jsts.geomgraph.Quadrant.quadrant(this.dx,this.dy);n.isTrue(!(0===this.dx&&0===this.dy),"EdgeEnd with identical endpoints found")};jsts.geomgraph.EdgeEnd.prototype.getEdge=function(){return this.edge};jsts.geomgraph.EdgeEnd.prototype.getLabel=function(){return this.label};jsts.geomgraph.EdgeEnd.prototype.getCoordinate=function(){return this.p0};jsts.geomgraph.EdgeEnd.prototype.getDirectedCoordinate=function(){return this.p1};jsts.geomgraph.EdgeEnd.prototype.getQuadrant=function(){return this.quadrant};jsts.geomgraph.EdgeEnd.prototype.getDx=function(){return this.dx};jsts.geomgraph.EdgeEnd.prototype.getDy=function(){return this.dy};jsts.geomgraph.EdgeEnd.prototype.setNode=function(n){this.node=n};jsts.geomgraph.EdgeEnd.prototype.getNode=function(){return this.node};jsts.geomgraph.EdgeEnd.prototype.compareTo=function(n){return this.compareDirection(n)};jsts.geomgraph.EdgeEnd.prototype.compareDirection=function(n){return this.dx===n.dx&&this.dy===n.dy?0:this.quadrant>n.quadrant?1:this.quadrant<n.quadrant?-1:jsts.algorithm.CGAlgorithms.computeOrientation(n.p0,n.p1,this.p1)};jsts.geomgraph.EdgeEnd.prototype.computeLabel=function(){}}();jsts.operation.buffer.RightmostEdgeFinder=function(){};jsts.operation.buffer.RightmostEdgeFinder.prototype.minIndex=-1;jsts.operation.buffer.RightmostEdgeFinder.prototype.minCoord=null;jsts.operation.buffer.RightmostEdgeFinder.prototype.minDe=null;jsts.operation.buffer.RightmostEdgeFinder.prototype.orientedDe=null;jsts.operation.buffer.RightmostEdgeFinder.prototype.getEdge=function(){return this.orientedDe};jsts.operation.buffer.RightmostEdgeFinder.prototype.getCoordinate=function(){return this.minCoord};jsts.operation.buffer.RightmostEdgeFinder.prototype.findEdge=function(n){for(var i,r,t=n.iterator();t.hasNext();)i=t.next(),i.isForward()&&this.checkForRightmostCoordinate(i);jsts.util.Assert.isTrue(0!==this.minIndex||this.minCoord.equals(this.minDe.getCoordinate()),"inconsistency in rightmost processing");0===this.minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex();this.orientedDe=this.minDe;r=this.getRightmostSide(this.minDe,this.minIndex);r==jsts.geomgraph.Position.LEFT&&(this.orientedDe=this.minDe.getSym())};jsts.operation.buffer.RightmostEdgeFinder.prototype.findRightmostEdgeAtNode=function(){var n=this.minDe.getNode(),t=n.getEdges();this.minDe=t.getRightmostEdge();this.minDe.isForward()||(this.minDe=this.minDe.getSym(),this.minIndex=this.minDe.getEdge().getCoordinates().length-1)};jsts.operation.buffer.RightmostEdgeFinder.prototype.findRightmostEdgeAtVertex=function(){var n=this.minDe.getEdge().getCoordinates();jsts.util.Assert.isTrue(this.minIndex>0&&this.minIndex<n.length,"rightmost point expected to be interior vertex of edge");var t=n[this.minIndex-1],i=n[this.minIndex+1],u=jsts.algorithm.CGAlgorithms.computeOrientation(this.minCoord,i,t),r=!1;t.y<this.minCoord.y&&i.y<this.minCoord.y&&u===jsts.algorithm.CGAlgorithms.COUNTERCLOCKWISE?r=!0:t.y>this.minCoord.y&&i.y>this.minCoord.y&&u===jsts.algorithm.CGAlgorithms.CLOCKWISE&&(r=!0);r&&(this.minIndex=this.minIndex-1)};jsts.operation.buffer.RightmostEdgeFinder.prototype.checkForRightmostCoordinate=function(n){for(var i=n.getEdge().getCoordinates(),t=0;t<i.length-1;t++)(null===this.minCoord||i[t].x>this.minCoord.x)&&(this.minDe=n,this.minIndex=t,this.minCoord=i[t])};jsts.operation.buffer.RightmostEdgeFinder.prototype.getRightmostSide=function(n,t){var i=this.getRightmostSideOfSegment(n,t);return 0>i&&(i=this.getRightmostSideOfSegment(n,t-1)),0>i&&(this.minCoord=null,this.checkForRightmostCoordinate(n)),i};jsts.operation.buffer.RightmostEdgeFinder.prototype.getRightmostSideOfSegment=function(n,t){var u=n.getEdge(),i=u.getCoordinates(),r;return 0>t||t+1>=i.length?-1:i[t].y==i[t+1].y?-1:(r=jsts.geomgraph.Position.LEFT,i[t].y<i[t+1].y&&(r=jsts.geomgraph.Position.RIGHT),r)},function(){jsts.triangulate.IncrementalDelaunayTriangulator=function(n){this.subdiv=n;this.isUsingTolerance=n.getTolerance()>0};jsts.triangulate.IncrementalDelaunayTriangulator.prototype.insertSites=function(n){var i,t=0,r=n.length;for(t;r>t;t++)i=n[t],this.insertSite(i)};jsts.triangulate.IncrementalDelaunayTriangulator.prototype.insertSite=function(n){var t,i,r,u;if(t=this.subdiv.locate(n),this.subdiv.isVertexOfEdge(t,n))return t;this.subdiv.isOnEdge(t,n.getCoordinate())&&(t=t.oPrev(),this.subdiv.delete_jsts(t.oNext()));i=this.subdiv.makeEdge(t.orig(),n);jsts.triangulate.quadedge.QuadEdge.splice(i,t);r=i;do i=this.subdiv.connect(t,i.sym()),t=i.oPrev();while(t.lNext()!=r);for(;;)if(u=t.oPrev(),u.dest().rightOf(t)&&n.isInCircle(t.orig(),u.dest(),t.dest()))jsts.triangulate.quadedge.QuadEdge.swap(t),t=t.oPrev();else{if(t.oNext()==r)return i;t=t.oNext().lPrev()}}}();jsts.algorithm.CentroidArea=function(){this.basePt=null;this.triangleCent3=new jsts.geom.Coordinate;this.centSum=new jsts.geom.Coordinate;this.cg3=new jsts.geom.Coordinate};jsts.algorithm.CentroidArea.prototype.basePt=null;jsts.algorithm.CentroidArea.prototype.triangleCent3=null;jsts.algorithm.CentroidArea.prototype.areasum2=0;jsts.algorithm.CentroidArea.prototype.cg3=null;jsts.algorithm.CentroidArea.prototype.centSum=null;jsts.algorithm.CentroidArea.prototype.totalLength=0;jsts.algorithm.CentroidArea.prototype.add=function(n){var i,r,t;if(n instanceof jsts.geom.Polygon)i=n,this.setBasePoint(i.getExteriorRing().getCoordinateN(0)),this.add3(i);else if(n instanceof jsts.geom.GeometryCollection||n instanceof jsts.geom.MultiPolygon)for(r=n,t=0;t<r.getNumGeometries();t++)this.add(r.getGeometryN(t));else n instanceof Array&&this.add2(n)};jsts.algorithm.CentroidArea.prototype.add2=function(n){this.setBasePoint(n[0]);this.addShell(n)};jsts.algorithm.CentroidArea.prototype.getCentroid=function(){var n=new jsts.geom.Coordinate;return Math.abs(this.areasum2)>0?(n.x=this.cg3.x/3/this.areasum2,n.y=this.cg3.y/3/this.areasum2):(n.x=this.centSum.x/this.totalLength,n.y=this.centSum.y/this.totalLength),n};jsts.algorithm.CentroidArea.prototype.setBasePoint=function(n){null==this.basePt&&(this.basePt=n)};jsts.algorithm.CentroidArea.prototype.add3=function(n){this.addShell(n.getExteriorRing().getCoordinates());for(var t=0;t<n.getNumInteriorRing();t++)this.addHole(n.getInteriorRingN(t).getCoordinates())};jsts.algorithm.CentroidArea.prototype.addShell=function(n){for(var i=!jsts.algorithm.CGAlgorithms.isCCW(n),t=0;t<n.length-1;t++)this.addTriangle(this.basePt,n[t],n[t+1],i);this.addLinearSegments(n)};jsts.algorithm.CentroidArea.prototype.addHole=function(n){for(var i=jsts.algorithm.CGAlgorithms.isCCW(n),t=0;t<n.length-1;t++)this.addTriangle(this.basePt,n[t],n[t+1],i);this.addLinearSegments(n)};jsts.algorithm.CentroidArea.prototype.addTriangle=function(n,t,i,r){var f=r?1:-1,u;jsts.algorithm.CentroidArea.centroid3(n,t,i,this.triangleCent3);u=jsts.algorithm.CentroidArea.area2(n,t,i);this.cg3.x+=f*u*this.triangleCent3.x;this.cg3.y+=f*u*this.triangleCent3.y;this.areasum2+=f*u};jsts.algorithm.CentroidArea.centroid3=function(n,t,i,r){r.x=n.x+t.x+i.x;r.y=n.y+t.y+i.y};jsts.algorithm.CentroidArea.area2=function(n,t,i){return(t.x-n.x)*(i.y-n.y)-(i.x-n.x)*(t.y-n.y)};jsts.algorithm.CentroidArea.prototype.addLinearSegments=function(n){for(var i,r,u,t=0;t<n.length-1;t++)i=n[t].distance(n[t+1]),this.totalLength+=i,r=(n[t].x+n[t+1].x)/2,this.centSum.x+=i*r,u=(n[t].y+n[t+1].y)/2,this.centSum.y+=i*u};jsts.geomgraph.index.SweepLineSegment=function(n,t){this.edge=n;this.ptIndex=t;this.pts=n.getCoordinates()};jsts.geomgraph.index.SweepLineSegment.prototype.edge=null;jsts.geomgraph.index.SweepLineSegment.prototype.pts=null;jsts.geomgraph.index.SweepLineSegment.prototype.ptIndex=null;jsts.geomgraph.index.SweepLineSegment.prototype.getMinX=function(){var n=this.pts[this.ptIndex].x,t=this.pts[this.ptIndex+1].x;return t>n?n:t};jsts.geomgraph.index.SweepLineSegment.prototype.getMaxX=function(){var n=this.pts[this.ptIndex].x,t=this.pts[this.ptIndex+1].x;return n>t?n:t};jsts.geomgraph.index.SweepLineSegment.prototype.computeIntersections=function(n,t){t.addIntersections(this.edge,this.ptIndex,n.edge,n.ptIndex)};jsts.index.quadtree.Root=function(){jsts.index.quadtree.NodeBase.prototype.constructor.apply(this,arguments);this.origin=new jsts.geom.Coordinate(0,0)};jsts.index.quadtree.Root.prototype=new jsts.index.quadtree.NodeBase;jsts.index.quadtree.Root.prototype.insert=function(n,t){var i=this.getSubnodeIndex(n,this.origin),r,u;if(-1===i)return void this.add(t);r=this.subnode[i];null!==r&&r.getEnvelope().contains(n)||(u=jsts.index.quadtree.Node.createExpanded(r,n),this.subnode[i]=u);this.insertContained(this.subnode[i],n,t)};jsts.index.quadtree.Root.prototype.insertContained=function(n,t,i){var r,u,f;r=jsts.index.IntervalSize.isZeroWidth(t.getMinX(),t.getMaxX());u=jsts.index.IntervalSize.isZeroWidth(t.getMinY(),t.getMaxY());f=r||u?n.find(t):n.getNode(t);f.add(i)};jsts.index.quadtree.Root.prototype.isSearchMatch=function(){return!0};jsts.geomgraph.index.MonotoneChainIndexer=function(){};jsts.geomgraph.index.MonotoneChainIndexer.toIntArray=function(n){for(var r,t=[],i=n.iterator();i.hasNext();)r=i.next(),t.push(r);return t};jsts.geomgraph.index.MonotoneChainIndexer.prototype.getChainStartIndices=function(n){var t=0,i=new javascript.util.ArrayList,r;i.add(t);do r=this.findChainEnd(n,t),i.add(r),t=r;while(t<n.length-1);return jsts.geomgraph.index.MonotoneChainIndexer.toIntArray(i)};jsts.geomgraph.index.MonotoneChainIndexer.prototype.findChainEnd=function(n,t){for(var u,r=jsts.geomgraph.Quadrant.quadrant(n[t],n[t+1]),i=t+1;i<n.length;){if(u=jsts.geomgraph.Quadrant.quadrant(n[i-1],n[i]),u!=r)break;i++}return i-1};jsts.noding.IntersectionAdder=function(n){this.li=n};jsts.noding.IntersectionAdder.prototype=new jsts.noding.SegmentIntersector;jsts.noding.IntersectionAdder.constructor=jsts.noding.IntersectionAdder;jsts.noding.IntersectionAdder.isAdjacentSegments=function(n,t){return 1===Math.abs(n-t)};jsts.noding.IntersectionAdder.prototype._hasIntersection=!1;jsts.noding.IntersectionAdder.prototype.hasProper=!1;jsts.noding.IntersectionAdder.prototype.hasProperInterior=!1;jsts.noding.IntersectionAdder.prototype.hasInterior=!1;jsts.noding.IntersectionAdder.prototype.properIntersectionPoint=null;jsts.noding.IntersectionAdder.prototype.li=null;jsts.noding.IntersectionAdder.prototype.isSelfIntersection=null;jsts.noding.IntersectionAdder.prototype.numIntersections=0;jsts.noding.IntersectionAdder.prototype.numInteriorIntersections=0;jsts.noding.IntersectionAdder.prototype.numProperIntersections=0;jsts.noding.IntersectionAdder.prototype.numTests=0;jsts.noding.IntersectionAdder.prototype.getLineIntersector=function(){return this.li};jsts.noding.IntersectionAdder.prototype.getProperIntersectionPoint=function(){return this.properIntersectionPoint};jsts.noding.IntersectionAdder.prototype.hasIntersection=function(){return this._hasIntersection};jsts.noding.IntersectionAdder.prototype.hasProperIntersection=function(){return this.hasProper};jsts.noding.IntersectionAdder.prototype.hasProperInteriorIntersection=function(){return this.hasProperInterior};jsts.noding.IntersectionAdder.prototype.hasInteriorIntersection=function(){return this.hasInterior};jsts.noding.IntersectionAdder.prototype.isTrivialIntersection=function(n,t,i,r){if(n==i&&1==this.li.getIntersectionNum()){if(jsts.noding.IntersectionAdder.isAdjacentSegments(t,r))return!0;if(n.isClosed()){var u=n.size()-1;if(0===t&&r===u||0===r&&t===u)return!0}}return!1};jsts.noding.IntersectionAdder.prototype.processIntersections=function(n,t,i,r){if(n!==i||t!==r){this.numTests++;var u=n.getCoordinates()[t],f=n.getCoordinates()[t+1],e=i.getCoordinates()[r],o=i.getCoordinates()[r+1];this.li.computeIntersection(u,f,e,o);this.li.hasIntersection()&&(this.numIntersections++,this.li.isInteriorIntersection()&&(this.numInteriorIntersections++,this.hasInterior=!0),this.isTrivialIntersection(n,t,i,r)||(this._hasIntersection=!0,n.addIntersections(this.li,t,0),i.addIntersections(this.li,r,1),this.li.isProper()&&(this.numProperIntersections++,this.hasProper=!0,this.hasProperInterior=!0)))}};jsts.noding.IntersectionAdder.prototype.isDone=function(){return!1};jsts.operation.union.CascadedPolygonUnion=function(n){this.inputPolys=n};jsts.operation.union.CascadedPolygonUnion.union=function(n){var t=new jsts.operation.union.CascadedPolygonUnion(n);return t.union()};jsts.operation.union.CascadedPolygonUnion.prototype.inputPolys;jsts.operation.union.CascadedPolygonUnion.prototype.geomFactory=null;jsts.operation.union.CascadedPolygonUnion.prototype.STRTREE_NODE_CAPACITY=4;jsts.operation.union.CascadedPolygonUnion.prototype.union=function(){var t,r,u;if(0===this.inputPolys.length)return null;this.geomFactory=this.inputPolys[0].getFactory();for(var i=new jsts.index.strtree.STRtree(this.STRTREE_NODE_CAPACITY),n=0,f=this.inputPolys.length;f>n;n++)t=this.inputPolys[n],i.insert(t.getEnvelopeInternal(),t);return r=i.itemsTree(),u=this.unionTree(r),u};jsts.operation.union.CascadedPolygonUnion.prototype.unionTree=function(n){var t=this.reduceToGeometries(n);return this.binaryUnion(t)};jsts.operation.union.CascadedPolygonUnion.prototype.binaryUnion=function(n,t,i){var r;if(t=t||0,i=i||n.length,1>=i-t)return r=this.getGeometry(n,t),this.unionSafe(r,null);if(i-t==2)return this.unionSafe(this.getGeometry(n,t),this.getGeometry(n,t+1));var u=parseInt((i+t)/2),r=this.binaryUnion(n,t,u),f=this.binaryUnion(n,u,i);return this.unionSafe(r,f)};jsts.operation.union.CascadedPolygonUnion.prototype.getGeometry=function(n,t){return t>=n.length?null:n[t]};jsts.operation.union.CascadedPolygonUnion.prototype.reduceToGeometries=function(n){for(var t,i,u=[],r=0,f=n.length;f>r;r++)t=n[r],i=null,t instanceof Array?i=this.unionTree(t):t instanceof jsts.geom.Geometry&&(i=t),u.push(i);return u};jsts.operation.union.CascadedPolygonUnion.prototype.unionSafe=function(n,t){return null===n&&null===t?null:null===n?t.clone():null===t?n.clone():this.unionOptimized(n,t)};jsts.operation.union.CascadedPolygonUnion.prototype.unionOptimized=function(n,t){var i=n.getEnvelopeInternal(),r=t.getEnvelopeInternal(),u;return i.intersects(r)?n.getNumGeometries<=1&&t.getNumGeometries<=1?this.unionActual(n,t):(u=i.intersection(r),this.unionUsingEnvelopeIntersection(n,t,u)):jsts.geom.util.GeometryCombiner.combine(n,t)};jsts.operation.union.CascadedPolygonUnion.prototype.unionUsingEnvelopeIntersection=function(n,t,i){var r=new javascript.util.ArrayList,u=this.extractByEnvelope(i,n,r),f=this.extractByEnvelope(i,t,r),e=this.unionActual(u,f);return r.add(e),jsts.geom.util.GeometryCombiner.combine(r)};jsts.operation.union.CascadedPolygonUnion.prototype.extractByEnvelope=function(n,t,i){for(var u,f=new javascript.util.ArrayList,r=0;r<t.getNumGeometries();r++)u=t.getGeometryN(r),u.getEnvelopeInternal().intersects(n)?f.add(u):i.add(u);return this.geomFactory.buildGeometry(f)};jsts.operation.union.CascadedPolygonUnion.prototype.unionActual=function(n,t){return n.union(t)},function(){jsts.geom.MultiPoint=function(n,t){this.geometries=n||[];this.factory=t};jsts.geom.MultiPoint.prototype=new jsts.geom.GeometryCollection;jsts.geom.MultiPoint.constructor=jsts.geom.MultiPoint;jsts.geom.MultiPoint.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)};jsts.geom.MultiPoint.prototype.getGeometryN=function(n){return this.geometries[n]};jsts.geom.MultiPoint.prototype.equalsExact=function(n,t){return this.isEquivalentClass(n)?jsts.geom.GeometryCollection.prototype.equalsExact.call(this,n,t):!1};jsts.geom.MultiPoint.prototype.CLASS_NAME="jsts.geom.MultiPoint"}();jsts.operation.buffer.OffsetCurveBuilder=function(n,t){this.precisionModel=n;this.bufParams=t};jsts.operation.buffer.OffsetCurveBuilder.prototype.distance=0;jsts.operation.buffer.OffsetCurveBuilder.prototype.precisionModel=null;jsts.operation.buffer.OffsetCurveBuilder.prototype.bufParams=null;jsts.operation.buffer.OffsetCurveBuilder.prototype.getBufferParameters=function(){return this.bufParams};jsts.operation.buffer.OffsetCurveBuilder.prototype.getLineCurve=function(n,t){var r,i,u;return(this.distance=t,this.distance<0&&!this.bufParams.isSingleSided())?null:0==this.distance?null:(r=Math.abs(this.distance),i=this.getSegGen(r),n.length<=1?this.computePointCurve(n[0],i):this.bufParams.isSingleSided()?(u=0>t,this.computeSingleSidedBufferCurve(n,u,i)):this.computeLineBufferCurve(n,i),i.getCoordinates())};jsts.operation.buffer.OffsetCurveBuilder.prototype.getRingCurve=function(n,t,i){if(this.distance=i,n.length<=2)return this.getLineCurve(n,i);if(0==this.distance)return jsts.operation.buffer.OffsetCurveBuilder.copyCoordinates(n);var r=this.getSegGen(this.distance);return this.computeRingBufferCurve(n,t,r),r.getCoordinates()};jsts.operation.buffer.OffsetCurveBuilder.prototype.getOffsetCurve=function(n,t){var r;if(this.distance=t,0===this.distance)return null;var u=this.distance<0,f=Math.abs(this.distance),i=this.getSegGen(f);return n.length<=1?this.computePointCurve(n[0],i):this.computeOffsetCurve(n,u,i),r=i.getCoordinates(),u&&r.reverse(),r};jsts.operation.buffer.OffsetCurveBuilder.copyCoordinates=function(n){for(var i=[],t=0;t<n.length;t++)i.push(n[t].clone());return i};jsts.operation.buffer.OffsetCurveBuilder.prototype.getSegGen=function(n){return new jsts.operation.buffer.OffsetSegmentGenerator(this.precisionModel,this.bufParams,n)};jsts.operation.buffer.OffsetCurveBuilder.SIMPLIFY_FACTOR=100;jsts.operation.buffer.OffsetCurveBuilder.simplifyTolerance=function(n){return n/jsts.operation.buffer.OffsetCurveBuilder.SIMPLIFY_FACTOR};jsts.operation.buffer.OffsetCurveBuilder.prototype.computePointCurve=function(n,t){switch(this.bufParams.getEndCapStyle()){case jsts.operation.buffer.BufferParameters.CAP_ROUND:t.createCircle(n);break;case jsts.operation.buffer.BufferParameters.CAP_SQUARE:t.createSquare(n)}};jsts.operation.buffer.OffsetCurveBuilder.prototype.computeLineBufferCurve=function(n,t){var o=jsts.operation.buffer.OffsetCurveBuilder.simplifyTolerance(this.distance),u=jsts.operation.buffer.BufferInputLineSimplifier.simplify(n,o),e=u.length-1,r,f,i;for(t.initSideSegments(u[0],u[1],jsts.geomgraph.Position.LEFT),i=2;e>=i;i++)t.addNextSegment(u[i],!0);for(t.addLastSegment(),t.addLineEndCap(u[e-1],u[e]),r=jsts.operation.buffer.BufferInputLineSimplifier.simplify(n,-o),f=r.length-1,t.initSideSegments(r[f],r[f-1],jsts.geomgraph.Position.LEFT),i=f-2;i>=0;i--)t.addNextSegment(r[i],!0);t.addLastSegment();t.addLineEndCap(r[1],r[0]);t.closeRing()};jsts.operation.buffer.OffsetCurveBuilder.prototype.computeSingleSidedBufferCurve=function(n,t,i){var o=jsts.operation.buffer.OffsetCurveBuilder.simplifyTolerance(this.distance),u,e,f,s,r;if(t)for(i.addSegments(n,!0),u=jsts.operation.buffer.BufferInputLineSimplifier.simplify(n,-o),e=u.length-1,i.initSideSegments(u[e],u[e-1],jsts.geomgraph.Position.LEFT),i.addFirstSegment(),r=e-2;r>=0;r--)i.addNextSegment(u[r],!0);else for(i.addSegments(n,!1),f=jsts.operation.buffer.BufferInputLineSimplifier.simplify(n,o),s=f.length-1,i.initSideSegments(f[0],f[1],jsts.geomgraph.Position.LEFT),i.addFirstSegment(),r=2;s>=r;r++)i.addNextSegment(f[r],!0);i.addLastSegment();i.closeRing()};jsts.operation.buffer.OffsetCurveBuilder.prototype.computeOffsetCurve=function(n,t,i){var o=jsts.operation.buffer.OffsetCurveBuilder.simplifyTolerance(this.distance),u,e,f,s,r;if(t)for(u=jsts.operation.buffer.BufferInputLineSimplifier.simplify(n,-o),e=u.length-1,i.initSideSegments(u[e],u[e-1],jsts.geomgraph.Position.LEFT),i.addFirstSegment(),r=e-2;r>=0;r--)i.addNextSegment(u[r],!0);else for(f=jsts.operation.buffer.BufferInputLineSimplifier.simplify(n,o),s=f.length-1,i.initSideSegments(f[0],f[1],jsts.geomgraph.Position.LEFT),i.addFirstSegment(),r=2;s>=r;r++)i.addNextSegment(f[r],!0);i.addLastSegment()};jsts.operation.buffer.OffsetCurveBuilder.prototype.computeRingBufferCurve=function(n,t,i){var f=jsts.operation.buffer.OffsetCurveBuilder.simplifyTolerance(this.distance),r,e,u,o;for(t===jsts.geomgraph.Position.RIGHT&&(f=-f),r=jsts.operation.buffer.BufferInputLineSimplifier.simplify(n,f),e=r.length-1,i.initSideSegments(r[e-1],r[0],t),u=1;e>=u;u++)o=1!==u,i.addNextSegment(r[u],o);i.closeRing()},function(){var n=function(n,t,i){this.hotPixel=n;this.parentEdge=t;this.vertexIndex=i};n.prototype=new jsts.index.chain.MonotoneChainSelectAction;n.constructor=n;n.prototype.hotPixel=null;n.prototype.parentEdge=null;n.prototype.vertexIndex=null;n.prototype._isNodeAdded=!1;n.prototype.isNodeAdded=function(){return this._isNodeAdded};n.prototype.select=function(n,t){var i=n.getContext();(null===this.parentEdge||i!==this.parentEdge||t!==this.vertexIndex)&&(this._isNodeAdded=this.hotPixel.addSnappedNode(i,t))};jsts.noding.snapround.MCIndexPointSnapper=function(n){this.index=n};jsts.noding.snapround.MCIndexPointSnapper.prototype.index=null;jsts.noding.snapround.MCIndexPointSnapper.prototype.snap=function(t,i,r){if(1===arguments.length)return void this.snap2.apply(this,arguments);var u=t.getSafeEnvelope(),f=new n(t,i,r);return this.index.query(u,{visitItem:function(n){n.select(u,f)}}),f.isNodeAdded()};jsts.noding.snapround.MCIndexPointSnapper.prototype.snap2=function(n){return this.snap(n,null,-1)}}(),function(){var n=function(){this.items=new javascript.util.ArrayList;this.subnode=[null,null]};n.getSubnodeIndex=function(n,t){var i=-1;return n.min>=t&&(i=1),n.max<=t&&(i=0),i};n.prototype.getItems=function(){return this.items};n.prototype.add=function(n){this.items.add(n)};n.prototype.addAllItems=function(n){n.addAll(this.items);var t=0;for(t;2>t;t++)null!==this.subnode[t]&&this.subnode[t].addAllItems(n);return n};n.prototype.addAllItemsFromOverlapping=function(n,t){(null===n||this.isSearchMatch(n))&&(t.addAll(this.items),null!==this.subnode[0]&&this.subnode[0].addAllItemsFromOverlapping(n,t),null!==this.subnode[1]&&this.subnode[1].addAllItemsFromOverlapping(n,t))};n.prototype.remove=function(n,t){if(!this.isSearchMatch(n))return!1;var r=!1,i=0;for(i;2>i;i++)if(null!==this.subnode[i]&&(r=this.subnode[i].remove(n,t))){this.subnode[i].isPrunable()&&(this.subnode[i]=null);break}return r?r:r=this.items.remove(t)};n.prototype.isPrunable=function(){return!(this.hasChildren()||this.hasItems())};n.prototype.hasChildren=function(){var n=0;for(n;2>n;n++)if(null!==this.subnode[n])return!0;return!1};n.prototype.hasItems=function(){return!this.items.isEmpty()};n.prototype.depth=function(){var t,i=0,n=0;for(n;2>n;n++)null!==this.subnode[n]&&(t=this.subnode[n].depth(),t>i&&(i=t));return i+1};n.prototype.size=function(){var t=0,n=0;for(n;2>n;n++)null!==this.subnode[n]&&(t+=this.subnode[n].size());return t+this.items.size()};n.prototype.nodeSize=function(){var t=0,n=0;for(n;2>n;n++)null!==this.subnode[n]&&(t+=this.subnode[n].nodeSize());return t+1};jsts.index.bintree.NodeBase=n}(),function(){var t=jsts.index.bintree.NodeBase,r=jsts.index.bintree.Key,i=jsts.index.bintree.Interval,n=function(n,t){this.items=new javascript.util.ArrayList;this.subnode=[null,null];this.interval=n;this.level=t;this.centre=(n.getMin()+n.getMax())/2};n.prototype=new t;n.constructor=n;n.createNode=function(t){var i,u;return i=new r(t),u=new n(i.getInterval(),i.getLevel())};n.createExpanded=function(t,r){var u,f;return u=new i(r),null!==t&&u.expandToInclude(t.interval),f=n.createNode(u),null!==t&&f.insert(t),f};n.prototype.getInterval=function(){return this.interval};n.prototype.isSearchMatch=function(n){return n.overlaps(this.interval)};n.prototype.getNode=function(n){var i,r=t.getSubnodeIndex(n,this.centre);return-1!=r?(i=this.getSubnode(r),i.getNode(n)):this};n.prototype.find=function(n){var r,i=t.getSubnodeIndex(n,this.centre);return-1===i?this:null!==this.subnode[i]?(r=this.subnode[i],r.find(n)):this};n.prototype.insert=function(n){var i,r=t.getSubnodeIndex(n.interval,this.centre);n.level===this.level-1?this.subnode[r]=n:(i=this.createSubnode(r),i.insert(n),this.subnode[r]=i)};n.prototype.getSubnode=function(n){return null===this.subnode[n]&&(this.subnode[n]=this.createSubnode(n)),this.subnode[n]};n.prototype.createSubnode=function(t){var r,u,f,e;switch(r=0,u=0,t){case 0:r=this.interval.getMin();u=this.centre;break;case 1:r=this.centre;u=this.interval.getMax()}return f=new i(r,u),e=new n(f,this.level-1)};jsts.index.bintree.Node=n}(),function(){var t=jsts.index.bintree.Node,i=jsts.index.bintree.NodeBase,n=function(){this.subnode=[null,null];this.items=new javascript.util.ArrayList};n.prototype=new jsts.index.bintree.NodeBase;n.constructor=n;n.origin=0;n.prototype.insert=function(r,u){var f,o,e=i.getSubnodeIndex(r,n.origin);return-1===e?void this.add(u):(f=this.subnode[e],null!==f&&f.getInterval().contains(r)||(o=t.createExpanded(f,r),this.subnode[e]=o),void this.insertContained(this.subnode[e],r,u))};n.prototype.insertContained=function(n,t,i){var r,u;r=jsts.index.IntervalSize.isZeroWidth(t.getMin(),t.getMax());u=r?n.find(t):n.getNode(t);u.add(i)};n.prototype.isSearchMatch=function(){return!0};jsts.index.bintree.Root=n}();jsts.geomgraph.Quadrant=function(){};jsts.geomgraph.Quadrant.NE=0;jsts.geomgraph.Quadrant.NW=1;jsts.geomgraph.Quadrant.SW=2;jsts.geomgraph.Quadrant.SE=3;jsts.geomgraph.Quadrant.quadrant=function(n,t){if(n instanceof jsts.geom.Coordinate)return jsts.geomgraph.Quadrant.quadrant2.apply(this,arguments);if(0===n&&0===t)throw new jsts.error.IllegalArgumentError("Cannot compute the quadrant for point ( "+n+", "+t+" )");return n>=0?t>=0?jsts.geomgraph.Quadrant.NE:jsts.geomgraph.Quadrant.SE:t>=0?jsts.geomgraph.Quadrant.NW:jsts.geomgraph.Quadrant.SW};jsts.geomgraph.Quadrant.quadrant2=function(n,t){if(t.x===n.x&&t.y===n.y)throw new jsts.error.IllegalArgumentError("Cannot compute the quadrant for two identical points "+n);return t.x>=n.x?t.y>=n.y?jsts.geomgraph.Quadrant.NE:jsts.geomgraph.Quadrant.SE:t.y>=n.y?jsts.geomgraph.Quadrant.NW:jsts.geomgraph.Quadrant.SW};jsts.geomgraph.Quadrant.isOpposite=function(n,t){if(n===t)return!1;var i=(n-t+4)%4;return 2===i?!0:!1};jsts.geomgraph.Quadrant.commonHalfPlane=function(n,t){var r,i,u;return n===t?n:(r=(n-t+4)%4,2===r)?-1:(i=t>n?n:t,u=n>t?n:t,0===i&&3===u?3:i)};jsts.geomgraph.Quadrant.isInHalfPlane=function(n,t){return t===jsts.geomgraph.Quadrant.SE?n===jsts.geomgraph.Quadrant.SE||n===jsts.geomgraph.Quadrant.SW:n===t||n===t+1};jsts.geomgraph.Quadrant.isNorthern=function(n){return n===jsts.geomgraph.Quadrant.NE||n===jsts.geomgraph.Quadrant.NW};jsts.operation.valid.ConsistentAreaTester=function(n){this.geomGraph=n;this.li=new jsts.algorithm.RobustLineIntersector;this.nodeGraph=new jsts.operation.relate.RelateNodeGraph;this.invalidPoint=null};jsts.operation.valid.ConsistentAreaTester.prototype.getInvalidPoint=function(){return this.invalidPoint};jsts.operation.valid.ConsistentAreaTester.prototype.isNodeConsistentArea=function(){var n=this.geomGraph.computeSelfNodes(this.li,!0);return n.hasProperIntersection()?(this.invalidPoint=n.getProperIntersectionPoint(),!1):(this.nodeGraph.build(this.geomGraph),this.isNodeEdgeAreaLabelsConsistent())};jsts.operation.valid.ConsistentAreaTester.prototype.isNodeEdgeAreaLabelsConsistent=function(){for(var t,n=this.nodeGraph.getNodeIterator();n.hasNext();)if(t=n.next(),!t.getEdges().isAreaLabelsConsistent(this.geomGraph))return this.invalidPoint=t.getCoordinate().clone(),!1;return!0};jsts.operation.valid.ConsistentAreaTester.prototype.hasDuplicateRings=function(){for(var r,t,i,n=this.nodeGraph.getNodeIterator();n.hasNext();)for(r=n.next(),t=r.getEdges().iterator();t.hasNext();)if(i=t.next(),i.getEdgeEnds().length>1)return invalidPoint=i.getEdge().getCoordinate(0),!0;return!1};jsts.operation.relate.RelateNode=function(){jsts.geomgraph.Node.apply(this,arguments)};jsts.operation.relate.RelateNode.prototype=new jsts.geomgraph.Node;jsts.operation.relate.RelateNode.prototype.computeIM=function(n){n.setAtLeastIfValid(this.label.getLocation(0),this.label.getLocation(1),0)};jsts.operation.relate.RelateNode.prototype.updateIMFromEdges=function(n){this.edges.updateIM(n)},function(){var n=jsts.geom.Location,t=jsts.geomgraph.Position,i=jsts.geomgraph.EdgeEnd;jsts.geomgraph.DirectedEdge=function(n,t){if(i.call(this,n),this.depth=[0,-999,-999],this._isForward=t,t)this.init(n.getCoordinate(0),n.getCoordinate(1));else{var r=n.getNumPoints()-1;this.init(n.getCoordinate(r),n.getCoordinate(r-1))}this.computeDirectedLabel()};jsts.geomgraph.DirectedEdge.prototype=new i;jsts.geomgraph.DirectedEdge.constructor=jsts.geomgraph.DirectedEdge;jsts.geomgraph.DirectedEdge.depthFactor=function(t,i){return t===n.EXTERIOR&&i===n.INTERIOR?1:t===n.INTERIOR&&i===n.EXTERIOR?-1:0};jsts.geomgraph.DirectedEdge.prototype._isForward=null;jsts.geomgraph.DirectedEdge.prototype._isInResult=!1;jsts.geomgraph.DirectedEdge.prototype._isVisited=!1;jsts.geomgraph.DirectedEdge.prototype.sym=null;jsts.geomgraph.DirectedEdge.prototype.next=null;jsts.geomgraph.DirectedEdge.prototype.nextMin=null;jsts.geomgraph.DirectedEdge.prototype.edgeRing=null;jsts.geomgraph.DirectedEdge.prototype.minEdgeRing=null;jsts.geomgraph.DirectedEdge.prototype.depth=null;jsts.geomgraph.DirectedEdge.prototype.getEdge=function(){return this.edge};jsts.geomgraph.DirectedEdge.prototype.setInResult=function(n){this._isInResult=n};jsts.geomgraph.DirectedEdge.prototype.isInResult=function(){return this._isInResult};jsts.geomgraph.DirectedEdge.prototype.isVisited=function(){return this._isVisited};jsts.geomgraph.DirectedEdge.prototype.setVisited=function(n){this._isVisited=n};jsts.geomgraph.DirectedEdge.prototype.setEdgeRing=function(n){this.edgeRing=n};jsts.geomgraph.DirectedEdge.prototype.getEdgeRing=function(){return this.edgeRing};jsts.geomgraph.DirectedEdge.prototype.setMinEdgeRing=function(n){this.minEdgeRing=n};jsts.geomgraph.DirectedEdge.prototype.getMinEdgeRing=function(){return this.minEdgeRing};jsts.geomgraph.DirectedEdge.prototype.getDepth=function(n){return this.depth[n]};jsts.geomgraph.DirectedEdge.prototype.setDepth=function(n,t){if(-999!==this.depth[n]&&this.depth[n]!==t)throw new jsts.error.TopologyError("assigned depths do not match",this.getCoordinate());this.depth[n]=t};jsts.geomgraph.DirectedEdge.prototype.getDepthDelta=function(){var n=this.edge.getDepthDelta();return this._isForward||(n=-n),n};jsts.geomgraph.DirectedEdge.prototype.setVisitedEdge=function(n){this.setVisited(n);this.sym.setVisited(n)};jsts.geomgraph.DirectedEdge.prototype.getSym=function(){return this.sym};jsts.geomgraph.DirectedEdge.prototype.isForward=function(){return this._isForward};jsts.geomgraph.DirectedEdge.prototype.setSym=function(n){this.sym=n};jsts.geomgraph.DirectedEdge.prototype.getNext=function(){return this.next};jsts.geomgraph.DirectedEdge.prototype.setNext=function(n){this.next=n};jsts.geomgraph.DirectedEdge.prototype.getNextMin=function(){return this.nextMin};jsts.geomgraph.DirectedEdge.prototype.setNextMin=function(n){this.nextMin=n};jsts.geomgraph.DirectedEdge.prototype.isLineEdge=function(){var t=this.label.isLine(0)||this.label.isLine(1),i=!this.label.isArea(0)||this.label.allPositionsEqual(0,n.EXTERIOR),r=!this.label.isArea(1)||this.label.allPositionsEqual(1,n.EXTERIOR);return t&&i&&r};jsts.geomgraph.DirectedEdge.prototype.isInteriorAreaEdge=function(){for(var r=!0,i=0;2>i;i++)this.label.isArea(i)&&this.label.getLocation(i,t.LEFT)===n.INTERIOR&&this.label.getLocation(i,t.RIGHT)===n.INTERIOR||(r=!1);return r};jsts.geomgraph.DirectedEdge.prototype.computeDirectedLabel=function(){this.label=new jsts.geomgraph.Label(this.edge.getLabel());this._isForward||this.label.flip()};jsts.geomgraph.DirectedEdge.prototype.setEdgeDepths=function(n,i){var r=this.getEdge().getDepthDelta(),u;this._isForward||(r=-r);u=1;n===t.LEFT&&(u=-1);var f=t.opposite(n),e=r*u,o=i+e;this.setDepth(n,i);this.setDepth(f,o)}}();jsts.operation.distance.DistanceOp=function(n,t,i){this.ptLocator=new jsts.algorithm.PointLocator;this.geom=[];this.geom[0]=n;this.geom[1]=t;this.terminateDistance=i};jsts.operation.distance.DistanceOp.prototype.geom=null;jsts.operation.distance.DistanceOp.prototype.terminateDistance=0;jsts.operation.distance.DistanceOp.prototype.ptLocator=null;jsts.operation.distance.DistanceOp.prototype.minDistanceLocation=null;jsts.operation.distance.DistanceOp.prototype.minDistance=Number.MAX_VALUE;jsts.operation.distance.DistanceOp.distance=function(n,t){var i=new jsts.operation.distance.DistanceOp(n,t,0);return i.distance()};jsts.operation.distance.DistanceOp.isWithinDistance=function(n,t,i){var r=new jsts.operation.distance.DistanceOp(n,t,i);return r.distance()<=i};jsts.operation.distance.DistanceOp.nearestPoints=function(n,t){var i=new jsts.operation.distance.DistanceOp(n,t,0);return i.nearestPoints()};jsts.operation.distance.DistanceOp.prototype.distance=function(){if(null===this.geom[0]||null===this.geom[1])throw new jsts.error.IllegalArgumentError("null geometries are not supported");return this.geom[0].isEmpty()||this.geom[1].isEmpty()?0:(this.computeMinDistance(),this.minDistance)};jsts.operation.distance.DistanceOp.prototype.nearestPoints=function(){this.computeMinDistance();return[this.minDistanceLocation[0].getCoordinate(),this.minDistanceLocation[1].getCoordinate()]};jsts.operation.distance.DistanceOp.prototype.nearestLocations=function(){return this.computeMinDistance(),this.minDistanceLocation};jsts.operation.distance.DistanceOp.prototype.updateMinDistance=function(n,t){null!==n[0]&&(t?(this.minDistanceLocation[0]=n[1],this.minDistanceLocation[1]=n[0]):(this.minDistanceLocation[0]=n[0],this.minDistanceLocation[1]=n[1]))};jsts.operation.distance.DistanceOp.prototype.computeMinDistance=function(){return arguments.length>0?void this.computeMinDistance2.apply(this,arguments):void(null===this.minDistanceLocation&&(this.minDistanceLocation=[],this.computeContainmentDistance(),this.minDistance<=this.terminateDistance||this.computeFacetDistance()))};jsts.operation.distance.DistanceOp.prototype.computeContainmentDistance=function(){if(2===arguments.length)return void this.computeContainmentDistance2.apply(this,arguments);if(3===arguments.length&&!arguments[0]instanceof jsts.operation.distance.GeometryLocation)return void this.computeContainmentDistance3.apply(this,arguments);if(3===arguments.length)return void this.computeContainmentDistance4.apply(this,arguments);var n=[];this.computeContainmentDistance2(0,n);this.minDistance<=this.terminateDistance||this.computeContainmentDistance2(1,n)};jsts.operation.distance.DistanceOp.prototype.computeContainmentDistance2=function(n,t){var i=1-n,r=jsts.geom.util.PolygonExtracter.getPolygons(this.geom[n]),u;if(r.length>0&&(u=jsts.operation.distance.ConnectedElementLocationFilter.getLocations(this.geom[i]),this.computeContainmentDistance3(u,r,t),this.minDistance<=this.terminateDistance))return this.minDistanceLocation[i]=t[0],void(this.minDistanceLocation[n]=t[1])};jsts.operation.distance.DistanceOp.prototype.computeContainmentDistance3=function(n,t,i){for(var f,u,r=0;r<n.length;r++)for(f=n[r],u=0;u<t.length;u++)if(this.computeContainmentDistance4(f,t[u],i),this.minDistance<=this.terminateDistance)return};jsts.operation.distance.DistanceOp.prototype.computeContainmentDistance4=function(n,t,i){var r=n.getCoordinate();if(jsts.geom.Location.EXTERIOR!==this.ptLocator.locate(r,t))return(this.minDistance=0,i[0]=n,void(i[1]=new jsts.operation.distance.GeometryLocation(t,r)))};jsts.operation.distance.DistanceOp.prototype.computeFacetDistance=function(){var n=[],t=jsts.geom.util.LinearComponentExtracter.getLines(this.geom[0]),i=jsts.geom.util.LinearComponentExtracter.getLines(this.geom[1]),r=jsts.geom.util.PointExtracter.getPoints(this.geom[0]),u=jsts.geom.util.PointExtracter.getPoints(this.geom[1]);this.computeMinDistanceLines(t,i,n);this.updateMinDistance(n,!1);this.minDistance<=this.terminateDistance||(n[0]=null,n[1]=null,this.computeMinDistanceLinesPoints(t,u,n),this.updateMinDistance(n,!1),this.minDistance<=this.terminateDistance||(n[0]=null,n[1]=null,this.computeMinDistanceLinesPoints(i,r,n),this.updateMinDistance(n,!0),this.minDistance<=this.terminateDistance||(n[0]=null,n[1]=null,this.computeMinDistancePoints(r,u,n),this.updateMinDistance(n,!1))))};jsts.operation.distance.DistanceOp.prototype.computeMinDistanceLines=function(n,t,i){for(var f,u,e,r=0;r<n.length;r++)for(f=n[r],u=0;u<t.length;u++)if(e=t[u],this.computeMinDistance(f,e,i),this.minDistance<=this.terminateDistance)return};jsts.operation.distance.DistanceOp.prototype.computeMinDistancePoints=function(n,t,i){for(var u,f,e,o,r=0;r<n.length;r++)for(u=n[r],f=0;f<t.length;f++)if(e=t[f],o=u.getCoordinate().distance(e.getCoordinate()),o<this.minDistance&&(this.minDistance=o,i[0]=new jsts.operation.distance.GeometryLocation(u,0,u.getCoordinate()),i[1]=new jsts.operation.distance.GeometryLocation(e,0,e.getCoordinate())),this.minDistance<=this.terminateDistance)return};jsts.operation.distance.DistanceOp.prototype.computeMinDistanceLinesPoints=function(n,t,i){for(var f,u,e,r=0;r<n.length;r++)for(f=n[r],u=0;u<t.length;u++)if(e=t[u],this.computeMinDistance(f,e,i),this.minDistance<=this.terminateDistance)return};jsts.operation.distance.DistanceOp.prototype.computeMinDistance2=function(n,t,i){var r,o;if(t instanceof jsts.geom.Point)return void this.computeMinDistance3(n,t,i);if(!(n.getEnvelopeInternal().distance(t.getEnvelopeInternal())>this.minDistance))for(var f=n.getCoordinates(),e=t.getCoordinates(),u=0;u<f.length-1;u++)for(r=0;r<e.length-1;r++){if(o=jsts.algorithm.CGAlgorithms.distanceLineLine(f[u],f[u+1],e[r],e[r+1]),o<this.minDistance){this.minDistance=o;var h=new jsts.geom.LineSegment(f[u],f[u+1]),c=new jsts.geom.LineSegment(e[r],e[r+1]),s=h.closestPoints(c);i[0]=new jsts.operation.distance.GeometryLocation(n,u,s[0]);i[1]=new jsts.operation.distance.GeometryLocation(t,r,s[1])}if(this.minDistance<=this.terminateDistance)return}};jsts.operation.distance.DistanceOp.prototype.computeMinDistance3=function(n,t,i){var e,o,s;if(!(n.getEnvelopeInternal().distance(t.getEnvelopeInternal())>this.minDistance))for(var u=n.getCoordinates(),f=t.getCoordinate(),r=0;r<u.length-1;r++)if(e=jsts.algorithm.CGAlgorithms.distancePointLine(f,u[r],u[r+1]),e<this.minDistance&&(this.minDistance=e,o=new jsts.geom.LineSegment(u[r],u[r+1]),s=o.closestPoint(f),i[0]=new jsts.operation.distance.GeometryLocation(n,r,s),i[1]=new jsts.operation.distance.GeometryLocation(t,0,f)),this.minDistance<=this.terminateDistance)return};jsts.index.strtree.SIRtree=function(n){n=n||10;jsts.index.strtree.AbstractSTRtree.call(this,n)};jsts.index.strtree.SIRtree.prototype=new jsts.index.strtree.AbstractSTRtree;jsts.index.strtree.SIRtree.constructor=jsts.index.strtree.SIRtree;jsts.index.strtree.SIRtree.prototype.comperator={compare:function(n,t){return n.getBounds().getCentre()-t.getBounds().getCentre()}};jsts.index.strtree.SIRtree.prototype.intersectionOp={intersects:function(n,t){return n.intersects(t)}};jsts.index.strtree.SIRtree.prototype.createNode=function(){var n=function(){jsts.index.strtree.AbstractNode.apply(this,arguments)};return n.prototype=new jsts.index.strtree.AbstractNode,n.constructor=n,n.prototype.computeBounds=function(){for(var t,n=null,r=this.getChildBoundables(),i=0,u=r.length;u>i;i++)t=r[i],null===n?n=new jsts.index.strtree.Interval(t.getBounds()):n.expandToInclude(t.getBounds());return n},n};jsts.index.strtree.SIRtree.prototype.insert=function(n,t,i){jsts.index.strtree.AbstractSTRtree.prototype.insert(new jsts.index.strtree.Interval(Math.min(n,t),Math.max(n,t)),i)};jsts.index.strtree.SIRtree.prototype.query=function(n,t){t=t||n;jsts.index.strtree.AbstractSTRtree.prototype.query(new jsts.index.strtree.Interval(Math.min(n,t),Math.max(n,t)))};jsts.index.strtree.SIRtree.prototype.getIntersectsOp=function(){return this.intersectionOp};jsts.index.strtree.SIRtree.prototype.getComparator=function(){return this.comperator};jsts.simplify.DouglasPeuckerSimplifier=function(n){this.inputGeom=n;this.isEnsureValidTopology=!0};jsts.simplify.DouglasPeuckerSimplifier.prototype.inputGeom=null;jsts.simplify.DouglasPeuckerSimplifier.prototype.distanceTolerance=null;jsts.simplify.DouglasPeuckerSimplifier.prototype.isEnsureValidTopology=null;jsts.simplify.DouglasPeuckerSimplifier.simplify=function(n,t){var i=new jsts.simplify.DouglasPeuckerSimplifier(n);return i.setDistanceTolerance(t),i.getResultGeometry()};jsts.simplify.DouglasPeuckerSimplifier.prototype.setDistanceTolerance=function(n){if(0>n)throw"Tolerance must be non-negative";this.distanceTolerance=n};jsts.simplify.DouglasPeuckerSimplifier.prototype.setEnsureValid=function(n){this.isEnsureValidTopology=n};jsts.simplify.DouglasPeuckerSimplifier.prototype.getResultGeometry=function(){return this.inputGeom.isEmpty()?this.inputGeom.clone():new jsts.simplify.DPTransformer(this.distanceTolerance,this.isEnsureValidTopology).transform(this.inputGeom)},function(){jsts.operation.predicate.RectangleContains=function(n){this.rectEnv=n.getEnvelopeInternal()};jsts.operation.predicate.RectangleContains.contains=function(n,t){var i=new jsts.operation.predicate.RectangleContains(n);return i.contains(t)};jsts.operation.predicate.RectangleContains.prototype.rectEnv=null;jsts.operation.predicate.RectangleContains.prototype.contains=function(n){return this.rectEnv.contains(n.getEnvelopeInternal())?this.isContainedInBoundary(n)?!1:!0:!1};jsts.operation.predicate.RectangleContains.prototype.isContainedInBoundary=function(n){var t,i;if(n instanceof jsts.geom.Polygon)return!1;if(n instanceof jsts.geom.Point)return this.isPointContainedInBoundary(n.getCoordinate());if(n instanceof jsts.geom.LineString)return this.isLineStringContainedInBoundary(n);for(t=0;t<n.getNumGeometries();t++)if(i=n.getGeometryN(t),!this.isContainedInBoundary(i))return!1;return!0};jsts.operation.predicate.RectangleContains.prototype.isPointContainedInBoundary=function(n){return n.x==this.rectEnv.getMinX()||n.x==this.rectEnv.getMaxX()||n.y==this.rectEnv.getMinY()||n.y==this.rectEnv.getMaxY()};jsts.operation.predicate.RectangleContains.prototype.isLineStringContainedInBoundary=function(n){for(var r,u,i=n.getCoordinateSequence(),t=0;t<i.length-1;t++)if(r=i[t],u=i[t+1],!this.isLineSegmentContainedInBoundary(r,u))return!1;return!0};jsts.operation.predicate.RectangleContains.prototype.isLineSegmentContainedInBoundary=function(n,t){if(n.equals(t))return this.isPointContainedInBoundary(n);if(n.x==t.x){if(n.x==this.rectEnv.getMinX()||n.x==this.rectEnv.getMaxX())return!0}else if(n.y==t.y&&(n.y==this.rectEnv.getMinY()||n.y==this.rectEnv.getMaxY()))return!0;return!1}}(),function(){var n=jsts.geom.Location,t=jsts.geomgraph.Position;jsts.geomgraph.Depth=function(){var n,t;for(this.depth=[[],[]],n=0;2>n;n++)for(t=0;3>t;t++)this.depth[n][t]=jsts.geomgraph.Depth.NULL_VALUE};jsts.geomgraph.Depth.NULL_VALUE=-1;jsts.geomgraph.Depth.depthAtLocation=function(t){return t===n.EXTERIOR?0:t===n.INTERIOR?1:jsts.geomgraph.Depth.NULL_VALUE};jsts.geomgraph.Depth.prototype.depth=null;jsts.geomgraph.Depth.prototype.getDepth=function(n,t){return this.depth[n][t]};jsts.geomgraph.Depth.prototype.setDepth=function(n,t,i){this.depth[n][t]=i};jsts.geomgraph.Depth.prototype.getLocation=function(t,i){return this.depth[t][i]<=0?n.EXTERIOR:n.INTERIOR};jsts.geomgraph.Depth.prototype.add=function(t,i,r){r===n.INTERIOR&&this.depth[t][i]++};jsts.geomgraph.Depth.prototype.isNull=function(){var n,t;if(arguments.length>0)return this.isNull2.apply(this,arguments);for(n=0;2>n;n++)for(t=0;3>t;t++)if(this.depth[n][t]!==jsts.geomgraph.Depth.NULL_VALUE)return!1;return!0};jsts.geomgraph.Depth.prototype.isNull2=function(n){return arguments.length>1?this.isNull3.apply(this,arguments):this.depth[n][1]==jsts.geomgraph.Depth.NULL_VALUE};jsts.geomgraph.Depth.prototype.isNull3=function(n,t){return this.depth[n][t]==jsts.geomgraph.Depth.NULL_VALUE};jsts.geomgraph.Depth.prototype.add=function(t){for(var r,u,i=0;2>i;i++)for(r=1;3>r;r++)u=t.getLocation(i,r),(u===n.EXTERIOR||u===n.INTERIOR)&&(this.isNull(i,r)?this.depth[i][r]=jsts.geomgraph.Depth.depthAtLocation(u):this.depth[i][r]+=jsts.geomgraph.Depth.depthAtLocation(u))};jsts.geomgraph.Depth.prototype.getDelta=function(n){return this.depth[n][t.RIGHT]-this.depth[n][t.LEFT]};jsts.geomgraph.Depth.prototype.normalize=function(){for(var t,i,r,n=0;2>n;n++)if(!this.isNull(n))for(t=this.depth[n][1],this.depth[n][2]<t&&(t=this.depth[n][2]),0>t&&(t=0),i=1;3>i;i++)r=0,this.depth[n][i]>t&&(r=1),this.depth[n][i]=r};jsts.geomgraph.Depth.prototype.toString=function(){return"A: "+this.depth[0][1]+","+this.depth[0][2]+" B: "+this.depth[1][1]+","+this.depth[1][2]}}();jsts.algorithm.BoundaryNodeRule=function(){};jsts.algorithm.BoundaryNodeRule.prototype.isInBoundary=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.algorithm.Mod2BoundaryNodeRule=function(){};jsts.algorithm.Mod2BoundaryNodeRule.prototype=new jsts.algorithm.BoundaryNodeRule;jsts.algorithm.Mod2BoundaryNodeRule.prototype.isInBoundary=function(n){return n%2==1};jsts.algorithm.BoundaryNodeRule.MOD2_BOUNDARY_RULE=new jsts.algorithm.Mod2BoundaryNodeRule;jsts.algorithm.BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE=jsts.algorithm.BoundaryNodeRule.MOD2_BOUNDARY_RULE;jsts.operation.distance.GeometryLocation=function(n,t,i){this.component=n;this.segIndex=t;this.pt=i};jsts.operation.distance.GeometryLocation.INSIDE_AREA=-1;jsts.operation.distance.GeometryLocation.prototype.component=null;jsts.operation.distance.GeometryLocation.prototype.segIndex=null;jsts.operation.distance.GeometryLocation.prototype.pt=null;jsts.operation.distance.GeometryLocation.prototype.getGeometryComponent=function(){return this.component};jsts.operation.distance.GeometryLocation.prototype.getSegmentIndex=function(){return this.segIndex};jsts.operation.distance.GeometryLocation.prototype.getCoordinate=function(){return this.pt};jsts.operation.distance.GeometryLocation.prototype.isInsideArea=function(){return this.segIndex===jsts.operation.distance.GeometryLocation.INSIDE_AREA};jsts.geom.util.PointExtracter=function(n){this.pts=n};jsts.geom.util.PointExtracter.prototype=new jsts.geom.GeometryFilter;jsts.geom.util.PointExtracter.prototype.pts=null;jsts.geom.util.PointExtracter.getPoints=function(n,t){return void 0===t&&(t=[]),n instanceof jsts.geom.Point?t.push(n):(n instanceof jsts.geom.GeometryCollection||n instanceof jsts.geom.MultiPoint||n instanceof jsts.geom.MultiLineString||n instanceof jsts.geom.MultiPolygon)&&n.apply(new jsts.geom.util.PointExtracter(t)),t};jsts.geom.util.PointExtracter.prototype.filter=function(n){n instanceof jsts.geom.Point&&this.pts.push(n)},function(){var n=jsts.geom.Location;jsts.operation.relate.RelateNodeGraph=function(){this.nodes=new jsts.geomgraph.NodeMap(new jsts.operation.relate.RelateNodeFactory)};jsts.operation.relate.RelateNodeGraph.prototype.nodes=null;jsts.operation.relate.RelateNodeGraph.prototype.build=function(n){this.computeIntersectionNodes(n,0);this.copyNodesAndLabels(n,0);var t=new jsts.operation.relate.EdgeEndBuilder,i=t.computeEdgeEnds(n.getEdgeIterator());this.insertEdgeEnds(i)};jsts.operation.relate.RelateNodeGraph.prototype.computeIntersectionNodes=function(t,i){for(var o,r,u=t.getEdgeIterator();u.hasNext();)for(var f=u.next(),s=f.getLabel().getLocation(i),e=f.getEdgeIntersectionList().iterator();e.hasNext();)o=e.next(),r=this.nodes.addNode(o.coord),s===n.BOUNDARY?r.setLabelBoundary(i):r.getLabel().isNull(i)&&r.setLabel(i,n.INTERIOR)};jsts.operation.relate.RelateNodeGraph.prototype.copyNodesAndLabels=function(n,t){for(var r,u,i=n.getNodeIterator();i.hasNext();)r=i.next(),u=this.nodes.addNode(r.getCoordinate()),u.setLabel(t,r.getLabel().getLocation(t))};jsts.operation.relate.RelateNodeGraph.prototype.insertEdgeEnds=function(n){for(var i,t=n.iterator();t.hasNext();)i=t.next(),this.nodes.add(i)};jsts.operation.relate.RelateNodeGraph.prototype.getNodeIterator=function(){return this.nodes.iterator()}}();jsts.geomgraph.index.SimpleSweepLineIntersector=function(){};jsts.geomgraph.index.SimpleSweepLineIntersector.prototype=new jsts.geomgraph.index.EdgeSetIntersector;jsts.geomgraph.index.SimpleSweepLineIntersector.prototype.events=[];jsts.geomgraph.index.SimpleSweepLineIntersector.prototype.nOverlaps=null;jsts.geomgraph.index.SimpleSweepLineIntersector.prototype.computeIntersections=function(n,t,i){return t instanceof javascript.util.List?void this.computeIntersections2.apply(this,arguments):(i?this.add(n,null):this.add(n),void this.computeIntersections3(t))};jsts.geomgraph.index.SimpleSweepLineIntersector.prototype.computeIntersections2=function(n,t,i){this.add(n,n);this.add(t,t);this.computeIntersections3(i)};jsts.geomgraph.index.SimpleSweepLineIntersector.prototype.add=function(n,t){var f,i,r,u;if(n instanceof javascript.util.List)return void this.add2.apply(this,arguments);for(f=n.getCoordinates(),i=0;i<f.length-1;i++)r=new jsts.geomgraph.index.SweepLineSegment(n,i),u=new jsts.geomgraph.index.SweepLineEvent(r.getMinX(),r,t),this.events.push(u),this.events.push(new jsts.geomgraph.index.SweepLineEvent(r.getMaxX(),u))};jsts.geomgraph.index.SimpleSweepLineIntersector.prototype.add2=function(n,t){for(var i,r=n.iterator();r.hasNext();)i=r.next(),t?this.add(i,t):this.add(i,i)};jsts.geomgraph.index.SimpleSweepLineIntersector.prototype.prepareEvents=function(){var n,t;for(this.events.sort(function(n,t){return n.compareTo(t)}),n=0;n<this.events.length;n++)t=this.events[n],t.isDelete()&&t.getInsertEvent().setDeleteEventIndex(n)};jsts.geomgraph.index.SimpleSweepLineIntersector.prototype.computeIntersections3=function(n){var t,i;for(this.nOverlaps=0,this.prepareEvents(),t=0;t<this.events.length;t++)i=this.events[t],i.isInsert()&&this.processOverlaps(t,i.getDeleteEventIndex(),i,n)};jsts.geomgraph.index.SimpleSweepLineIntersector.prototype.processOverlaps=function(n,t,i,r){for(var f,o,e=i.getObject(),u=n;t>u;u++)f=this.events[u],f.isInsert()&&(o=f.getObject(),i.isSameLabel(f)||(e.computeIntersections(o,r),this.nOverlaps++))};jsts.triangulate.VoronoiDiagramBuilder=function(){this.siteCoords=null;this.tolerance=0;this.subdiv=null;this.clipEnv=null;this.diagramEnv=null};jsts.triangulate.VoronoiDiagramBuilder.prototype.setSites=function(){var n=arguments[0];n instanceof jsts.geom.Geometry||n instanceof jsts.geom.Coordinate||n instanceof jsts.geom.Point||n instanceof jsts.geom.MultiPoint||n instanceof jsts.geom.LineString||n instanceof jsts.geom.MultiLineString||n instanceof jsts.geom.LinearRing||n instanceof jsts.geom.Polygon||n instanceof jsts.geom.MultiPolygon?this.setSitesByGeometry(n):this.setSitesByArray(n)};jsts.triangulate.VoronoiDiagramBuilder.prototype.setSitesByGeometry=function(n){this.siteCoords=jsts.triangulate.DelaunayTriangulationBuilder.extractUniqueCoordinates(n)};jsts.triangulate.VoronoiDiagramBuilder.prototype.setSitesByArray=function(n){this.siteCoords=jsts.triangulate.DelaunayTriangulationBuilder.unique(n)};jsts.triangulate.VoronoiDiagramBuilder.prototype.setClipEnvelope=function(n){this.clipEnv=n};jsts.triangulate.VoronoiDiagramBuilder.prototype.setTolerance=function(n){this.tolerance=n};jsts.triangulate.VoronoiDiagramBuilder.prototype.create=function(){if(null===this.subdiv){var n,t,i,r;n=jsts.triangulate.DelaunayTriangulationBuilder.envelope(this.siteCoords);this.diagramEnv=n;t=Math.max(this.diagramEnv.getWidth(),this.diagramEnv.getHeight());this.diagramEnv.expandBy(t);null!==this.clipEnv&&this.diagramEnv.expandToInclude(this.clipEnv);i=jsts.triangulate.DelaunayTriangulationBuilder.toVertices(this.siteCoords);this.subdiv=new jsts.triangulate.quadedge.QuadEdgeSubdivision(n,this.tolerance);r=new jsts.triangulate.IncrementalDelaunayTriangulator(this.subdiv);r.insertSites(i)}};jsts.triangulate.VoronoiDiagramBuilder.prototype.getSubdivision=function(){return this.create(),this.subdiv};jsts.triangulate.VoronoiDiagramBuilder.prototype.getDiagram=function(n){this.create();var t=this.subdiv.getVoronoiDiagram(n);return this.clipGeometryCollection(t,this.diagramEnv)};jsts.triangulate.VoronoiDiagramBuilder.prototype.clipGeometryCollection=function(n,t){var e,f,r,o,u,i;for(e=n.getFactory().toGeometry(t),f=[],r=0,o=n.getNumGeometries(),r;o>r;r++)u=n.getGeometryN(r),i=null,t.contains(u.getEnvelopeInternal())?i=u:t.intersects(u.getEnvelopeInternal())&&(i=e.intersection(u)),null===i||i.isEmpty()||f.push(i);return n.getFactory().createGeometryCollection(f)};jsts.operation.valid.IndexedNestedRingTester=function(n){this.graph=n;this.rings=new javascript.util.ArrayList;this.totalEnv=new jsts.geom.Envelope;this.index=null;this.nestedPt=null};jsts.operation.valid.IndexedNestedRingTester.prototype.getNestedPoint=function(){return this.nestedPt};jsts.operation.valid.IndexedNestedRingTester.prototype.add=function(n){this.rings.add(n);this.totalEnv.expandToInclude(n.getEnvelopeInternal())};jsts.operation.valid.IndexedNestedRingTester.prototype.isNonNested=function(){var t,n,e,r,o;for(this.buildIndex(),t=0;t<this.rings.size();t++)for(var i=this.rings.get(t),s=i.getCoordinates(),f=this.index.query(i.getEnvelopeInternal()),u=0;u<f.length;u++)if(n=f[u],e=n.getCoordinates(),i!=n&&i.getEnvelopeInternal().intersects(n.getEnvelopeInternal())&&(r=jsts.operation.valid.IsValidOp.findPtNotNode(s,n,this.graph),null!=r&&(o=jsts.algorithm.CGAlgorithms.isPointInRing(r,e),o)))return this.nestedPt=r,!1;return!0};jsts.operation.valid.IndexedNestedRingTester.prototype.buildIndex=function(){var n,t,i;for(this.index=new jsts.index.strtree.STRtree,n=0;n<this.rings.size();n++)t=this.rings.get(n),i=t.getEnvelopeInternal(),this.index.insert(i,t)};jsts.geomgraph.index.MonotoneChain=function(n,t){this.mce=n;this.chainIndex=t};jsts.geomgraph.index.MonotoneChain.prototype.mce=null;jsts.geomgraph.index.MonotoneChain.prototype.chainIndex=null;jsts.geomgraph.index.MonotoneChain.prototype.computeIntersections=function(n,t){this.mce.computeIntersectsForChain(this.chainIndex,n.mce,n.chainIndex,t)};jsts.noding.SegmentNode=function(n,t,i,r){this.segString=n;this.coord=new jsts.geom.Coordinate(t);this.segmentIndex=i;this.segmentOctant=r;this._isInterior=!t.equals2D(n.getCoordinate(i))};jsts.noding.SegmentNode.prototype.segString=null;jsts.noding.SegmentNode.prototype.coord=null;jsts.noding.SegmentNode.prototype.segmentIndex=null;jsts.noding.SegmentNode.prototype.segmentOctant=null;jsts.noding.SegmentNode.prototype._isInterior=null;jsts.noding.SegmentNode.prototype.getCoordinate=function(){return this.coord};jsts.noding.SegmentNode.prototype.isInterior=function(){return this._isInterior};jsts.noding.SegmentNode.prototype.isEndPoint=function(){return 0!==this.segmentIndex||this._isInterior?this.segmentIndex===this.maxSegmentIndex?!0:!1:!0};jsts.noding.SegmentNode.prototype.compareTo=function(n){var t=n;return this.segmentIndex<t.segmentIndex?-1:this.segmentIndex>t.segmentIndex?1:this.coord.equals2D(t.coord)?0:jsts.noding.SegmentPointComparator.compare(this.segmentOctant,this.coord,t.coord)},function(){jsts.io.GeoJSONWriter=function(){this.parser=new jsts.io.GeoJSONParser(this.geometryFactory)};jsts.io.GeoJSONWriter.prototype.write=function(n){return this.parser.write(n)}}();jsts.io.OpenLayersParser=function(n){this.geometryFactory=n||new jsts.geom.GeometryFactory};jsts.io.OpenLayersParser.prototype.read=function(n){return"OpenLayers.Geometry.Point"===n.CLASS_NAME?this.convertFromPoint(n):"OpenLayers.Geometry.LineString"===n.CLASS_NAME?this.convertFromLineString(n):"OpenLayers.Geometry.LinearRing"===n.CLASS_NAME?this.convertFromLinearRing(n):"OpenLayers.Geometry.Polygon"===n.CLASS_NAME?this.convertFromPolygon(n):"OpenLayers.Geometry.MultiPoint"===n.CLASS_NAME?this.convertFromMultiPoint(n):"OpenLayers.Geometry.MultiLineString"===n.CLASS_NAME?this.convertFromMultiLineString(n):"OpenLayers.Geometry.MultiPolygon"===n.CLASS_NAME?this.convertFromMultiPolygon(n):"OpenLayers.Geometry.Collection"===n.CLASS_NAME?this.convertFromCollection(n):void 0};jsts.io.OpenLayersParser.prototype.convertFromPoint=function(n){return this.geometryFactory.createPoint(new jsts.geom.Coordinate(n.x,n.y))};jsts.io.OpenLayersParser.prototype.convertFromLineString=function(n){for(var i=[],t=0;t<n.components.length;t++)i.push(new jsts.geom.Coordinate(n.components[t].x,n.components[t].y));return this.geometryFactory.createLineString(i)};jsts.io.OpenLayersParser.prototype.convertFromLinearRing=function(n){for(var i=[],t=0;t<n.components.length;t++)i.push(new jsts.geom.Coordinate(n.components[t].x,n.components[t].y));return this.geometryFactory.createLinearRing(i)};jsts.io.OpenLayersParser.prototype.convertFromPolygon=function(n){for(var r=null,u=[],i,t=0;t<n.components.length;t++)i=this.convertFromLinearRing(n.components[t]),0===t?r=i:u.push(i);return this.geometryFactory.createPolygon(r,u)};jsts.io.OpenLayersParser.prototype.convertFromMultiPoint=function(n){for(var i=[],t=0;t<n.components.length;t++)i.push(this.convertFromPoint(n.components[t]));return this.geometryFactory.createMultiPoint(i)};jsts.io.OpenLayersParser.prototype.convertFromMultiLineString=function(n){for(var i=[],t=0;t<n.components.length;t++)i.push(this.convertFromLineString(n.components[t]));return this.geometryFactory.createMultiLineString(i)};jsts.io.OpenLayersParser.prototype.convertFromMultiPolygon=function(n){for(var i=[],t=0;t<n.components.length;t++)i.push(this.convertFromPolygon(n.components[t]));return this.geometryFactory.createMultiPolygon(i)};jsts.io.OpenLayersParser.prototype.convertFromCollection=function(n){for(var i=[],t=0;t<n.components.length;t++)i.push(this.read(n.components[t]));return this.geometryFactory.createGeometryCollection(i)};jsts.io.OpenLayersParser.prototype.write=function(n){return"jsts.geom.Point"===n.CLASS_NAME?this.convertToPoint(n.coordinate):"jsts.geom.LineString"===n.CLASS_NAME?this.convertToLineString(n):"jsts.geom.LinearRing"===n.CLASS_NAME?this.convertToLinearRing(n):"jsts.geom.Polygon"===n.CLASS_NAME?this.convertToPolygon(n):"jsts.geom.MultiPoint"===n.CLASS_NAME?this.convertToMultiPoint(n):"jsts.geom.MultiLineString"===n.CLASS_NAME?this.convertToMultiLineString(n):"jsts.geom.MultiPolygon"===n.CLASS_NAME?this.convertToMultiPolygon(n):"jsts.geom.GeometryCollection"===n.CLASS_NAME?this.convertToCollection(n):void 0};jsts.io.OpenLayersParser.prototype.convertToPoint=function(n){return new OpenLayers.Geometry.Point(n.x,n.y)};jsts.io.OpenLayersParser.prototype.convertToLineString=function(n){for(var i=[],r,t=0;t<n.points.length;t++)r=n.points[t],i.push(this.convertToPoint(r));return new OpenLayers.Geometry.LineString(i)};jsts.io.OpenLayersParser.prototype.convertToLinearRing=function(n){for(var i=[],r,t=0;t<n.points.length;t++)r=n.points[t],i.push(this.convertToPoint(r));return new OpenLayers.Geometry.LinearRing(i)};jsts.io.OpenLayersParser.prototype.convertToPolygon=function(n){var t,i=[],r;for(i.push(this.convertToLinearRing(n.shell)),t=0;t<n.holes.length;t++)r=n.holes[t],i.push(this.convertToLinearRing(r));return new OpenLayers.Geometry.Polygon(i)};jsts.io.OpenLayersParser.prototype.convertToMultiPoint=function(n){for(var r=[],i,t=0;t<n.geometries.length;t++)i=n.geometries[t].coordinate,r.push(new OpenLayers.Geometry.Point(i.x,i.y));return new OpenLayers.Geometry.MultiPoint(r)};jsts.io.OpenLayersParser.prototype.convertToMultiLineString=function(n){for(var i=[],t=0;t<n.geometries.length;t++)i.push(this.convertToLineString(n.geometries[t]));return new OpenLayers.Geometry.MultiLineString(i)};jsts.io.OpenLayersParser.prototype.convertToMultiPolygon=function(n){for(var i=[],t=0;t<n.geometries.length;t++)i.push(this.convertToPolygon(n.geometries[t]));return new OpenLayers.Geometry.MultiPolygon(i)};jsts.io.OpenLayersParser.prototype.convertToCollection=function(n){for(var i=[],r,u,t=0;t<n.geometries.length;t++)r=n.geometries[t],u=this.write(r),i.push(u);return new OpenLayers.Geometry.Collection(i)};jsts.index.quadtree.Quadtree=function(){this.root=new jsts.index.quadtree.Root;this.minExtent=1};jsts.index.quadtree.Quadtree.ensureExtent=function(n,t){var i,u,r,f;return i=n.getMinX(),u=n.getMaxX(),r=n.getMinY(),f=n.getMaxY(),i!==u&&r!==f?n:(i===u&&(i-=t/2,u=i+t/2),r===f&&(r-=t/2,f=r+t/2),new jsts.geom.Envelope(i,u,r,f))};jsts.index.quadtree.Quadtree.prototype.depth=function(){return this.root.depth()};jsts.index.quadtree.Quadtree.prototype.size=function(){return this.root.size()};jsts.index.quadtree.Quadtree.prototype.insert=function(n,t){this.collectStats(n);var i=jsts.index.quadtree.Quadtree.ensureExtent(n,this.minExtent);this.root.insert(i,t)};jsts.index.quadtree.Quadtree.prototype.remove=function(n,t){var i=jsts.index.quadtree.Quadtree.ensureExtent(n,this.minExtent);return this.root.remove(i,t)};jsts.index.quadtree.Quadtree.prototype.query=function(){return 1===arguments.length?jsts.index.quadtree.Quadtree.prototype.queryByEnvelope.apply(this,arguments):void jsts.index.quadtree.Quadtree.prototype.queryWithVisitor.apply(this,arguments)};jsts.index.quadtree.Quadtree.prototype.queryByEnvelope=function(n){var t=new jsts.index.ArrayListVisitor;return this.query(n,t),t.getItems()};jsts.index.quadtree.Quadtree.prototype.queryWithVisitor=function(n,t){this.root.visit(n,t)};jsts.index.quadtree.Quadtree.prototype.queryAll=function(){return this.root.addAllItems([])};jsts.index.quadtree.Quadtree.prototype.collectStats=function(n){var i=n.getWidth(),t;i<this.minExtent&&i>0&&(this.minExtent=i);t=n.getHeight();t<this.minExtent&&t>0&&(this.minExtent=t)};jsts.operation.relate.RelateNodeFactory=function(){};jsts.operation.relate.RelateNodeFactory.prototype=new jsts.geomgraph.NodeFactory;jsts.operation.relate.RelateNodeFactory.prototype.createNode=function(n){return new jsts.operation.relate.RelateNode(n,new jsts.operation.relate.EdgeEndBundleStar)};jsts.index.quadtree.Key=function(n){this.pt=new jsts.geom.Coordinate;this.level=0;this.env=null;this.computeKey(n)};jsts.index.quadtree.Key.computeQuadLevel=function(n){var t,i,r,u;return t=n.getWidth(),i=n.getHeight(),r=t>i?t:i,u=jsts.index.DoubleBits.exponent(r)+1};jsts.index.quadtree.Key.prototype.getPoint=function(){return this.pt};jsts.index.quadtree.Key.prototype.getLevel=function(){return this.level};jsts.index.quadtree.Key.prototype.getEnvelope=function(){return this.env};jsts.index.quadtree.Key.prototype.getCentre=function(){var n,t;return n=(this.env.getMinX()+this.env.getMaxX())/2,t=(this.env.getMinY()+this.env.getMaxY())/2,new jsts.geom.Coordinate(n,t)};jsts.index.quadtree.Key.prototype.computeKey=function(){arguments[0]instanceof jsts.geom.Envelope?this.computeKeyFromEnvelope(arguments[0]):this.computeKeyFromLevel(arguments[0],arguments[1])};jsts.index.quadtree.Key.prototype.computeKeyFromEnvelope=function(n){for(this.level=jsts.index.quadtree.Key.computeQuadLevel(n),this.env=new jsts.geom.Envelope,this.computeKey(this.level,n);!this.env.contains(n);)this.level+=1,this.computeKey(this.level,n)};jsts.index.quadtree.Key.prototype.computeKeyFromLevel=function(n,t){var i=jsts.index.DoubleBits.powerOf2(n);this.pt.x=Math.floor(t.getMinX()/i)*i;this.pt.y=Math.floor(t.getMinY()/i)*i;this.env.init(this.pt.x,this.pt.x+i,this.pt.y,this.pt.y+i)};jsts.geom.CoordinateArrays=function(){throw new jsts.error.AbstractMethodInvocationError;};jsts.geom.CoordinateArrays.copyDeep=function(){return 1===arguments.length?jsts.geom.CoordinateArrays.copyDeep1(arguments[0]):void(5===arguments.length&&jsts.geom.CoordinateArrays.copyDeep2(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]))};jsts.geom.CoordinateArrays.copyDeep1=function(n){for(var i=[],t=0;t<n.length;t++)i[t]=new jsts.geom.Coordinate(n[t]);return i};jsts.geom.CoordinateArrays.copyDeep2=function(n,t,i,r,u){for(var f=0;u>f;f++)i[r+f]=new jsts.geom.Coordinate(n[t+f])};jsts.geom.CoordinateArrays.removeRepeatedPoints=function(n){var t;return this.hasRepeatedPoints(n)?(t=new jsts.geom.CoordinateList(n,!1),t.toCoordinateArray()):n};jsts.geom.CoordinateArrays.hasRepeatedPoints=function(n){for(var t=1;t<n.length;t++)if(n[t-1].equals(n[t]))return!0;return!1};jsts.geom.CoordinateArrays.ptNotInList=function(n,t){for(var r,i=0;i<n.length;i++)if(r=n[i],jsts.geom.CoordinateArrays.indexOf(r,t)<0)return r;return null};jsts.geom.CoordinateArrays.increasingDirection=function(n){for(var r,i,t=0;t<parseInt(n.length/2);t++)if(r=n.length-1-t,i=n[t].compareTo(n[r]),0!=i)return i;return 1};jsts.geom.CoordinateArrays.minCoordinate=function(n){for(var t=null,i=0;i<n.length;i++)(null===t||t.compareTo(n[i])>0)&&(t=n[i]);return t};jsts.geom.CoordinateArrays.scroll=function(n,t){var i=jsts.geom.CoordinateArrays.indexOf(t,n),r;if(!(0>i))for(r=n.slice(i).concat(n.slice(0,i)),i=0;i<r.length;i++)n[i]=r[i]};jsts.geom.CoordinateArrays.indexOf=function(n,t){for(var i=0;i<t.length;i++)if(n.equals(t[i]))return i;return-1};jsts.operation.overlay.MinimalEdgeRing=function(n,t){jsts.geomgraph.EdgeRing.call(this,n,t)};jsts.operation.overlay.MinimalEdgeRing.prototype=new jsts.geomgraph.EdgeRing;jsts.operation.overlay.MinimalEdgeRing.constructor=jsts.operation.overlay.MinimalEdgeRing;jsts.operation.overlay.MinimalEdgeRing.prototype.getNext=function(n){return n.getNextMin()};jsts.operation.overlay.MinimalEdgeRing.prototype.setEdgeRing=function(n,t){n.setMinEdgeRing(t)};jsts.triangulate.DelaunayTriangulationBuilder=function(){this.siteCoords=null;this.tolerance=0;this.subdiv=null};jsts.triangulate.DelaunayTriangulationBuilder.extractUniqueCoordinates=function(n){if(void 0===n||null===n)return new jsts.geom.CoordinateList([],!1).toArray();var t=n.getCoordinates();return jsts.triangulate.DelaunayTriangulationBuilder.unique(t)};jsts.triangulate.DelaunayTriangulationBuilder.unique=function(n){n.sort(function(n,t){return n.compareTo(t)});var t=new jsts.geom.CoordinateList(n,!1);return t.toArray()};jsts.triangulate.DelaunayTriangulationBuilder.toVertices=function(n){var i,r=new Array(n.length),t=0,u=n.length;for(t;u>t;t++)i=n[t],r[t]=new jsts.triangulate.quadedge.Vertex(i);return r};jsts.triangulate.DelaunayTriangulationBuilder.envelope=function(n){var i=new jsts.geom.Envelope,t=0,r=n.length;for(t;r>t;t++)i.expandToInclude(n[t]);return i};jsts.triangulate.DelaunayTriangulationBuilder.prototype.setSites=function(){var n=arguments[0];n instanceof jsts.geom.Geometry||n instanceof jsts.geom.Coordinate||n instanceof jsts.geom.Point||n instanceof jsts.geom.MultiPoint||n instanceof jsts.geom.LineString||n instanceof jsts.geom.MultiLineString||n instanceof jsts.geom.LinearRing||n instanceof jsts.geom.Polygon||n instanceof jsts.geom.MultiPolygon?this.setSitesFromGeometry(n):this.setSitesFromCollection(n)};jsts.triangulate.DelaunayTriangulationBuilder.prototype.setSitesFromGeometry=function(n){this.siteCoords=jsts.triangulate.DelaunayTriangulationBuilder.extractUniqueCoordinates(n)};jsts.triangulate.DelaunayTriangulationBuilder.prototype.setSitesFromCollection=function(n){this.siteCoords=jsts.triangulate.DelaunayTriangulationBuilder.unique(n)};jsts.triangulate.DelaunayTriangulationBuilder.prototype.setTolerance=function(n){this.tolerance=n};jsts.triangulate.DelaunayTriangulationBuilder.prototype.create=function(){if(null===this.subdiv){var n,t,i;n=jsts.triangulate.DelaunayTriangulationBuilder.envelope(this.siteCoords);t=jsts.triangulate.DelaunayTriangulationBuilder.toVertices(this.siteCoords);this.subdiv=new jsts.triangulate.quadedge.QuadEdgeSubdivision(n,this.tolerance);i=new jsts.triangulate.IncrementalDelaunayTriangulator(this.subdiv);i.insertSites(t)}};jsts.triangulate.DelaunayTriangulationBuilder.prototype.getSubdivision=function(){return this.create(),this.subdiv};jsts.triangulate.DelaunayTriangulationBuilder.prototype.getEdges=function(n){return this.create(),this.subdiv.getEdges(n)};jsts.triangulate.DelaunayTriangulationBuilder.prototype.getTriangles=function(n){return this.create(),this.subdiv.getTriangles(n)};jsts.algorithm.RayCrossingCounter=function(n){this.p=n};jsts.algorithm.RayCrossingCounter.locatePointInRing=function(n,t){for(var u,f,i=new jsts.algorithm.RayCrossingCounter(n),r=1;r<t.length;r++)if(u=t[r],f=t[r-1],i.countSegment(u,f),i.isOnSegment())return i.getLocation();return i.getLocation()};jsts.algorithm.RayCrossingCounter.prototype.p=null;jsts.algorithm.RayCrossingCounter.prototype.crossingCount=0;jsts.algorithm.RayCrossingCounter.prototype.isPointOnSegment=!1;jsts.algorithm.RayCrossingCounter.prototype.countSegment=function(n,t){var i,r;if(!(n.x<this.p.x&&t.x<this.p.x)){if(this.p.x==t.x&&this.p.y===t.y)return void(this.isPointOnSegment=!0);if(n.y===this.p.y&&t.y===this.p.y)return i=n.x,r=t.x,i>r&&(i=t.x,r=n.x),void(this.p.x>=i&&this.p.x<=r&&(this.isPointOnSegment=!0));if(n.y>this.p.y&&t.y<=this.p.y||t.y>this.p.y&&n.y<=this.p.y){var o=n.x-this.p.x,f=n.y-this.p.y,s=t.x-this.p.x,e=t.y-this.p.y,u=jsts.algorithm.RobustDeterminant.signOfDet2x2(o,f,s,e);if(0===u)return void(this.isPointOnSegment=!0);f>e&&(u=-u);u>0&&this.crossingCount++}}};jsts.algorithm.RayCrossingCounter.prototype.isOnSegment=function(){return jsts.geom.isPointOnSegment};jsts.algorithm.RayCrossingCounter.prototype.getLocation=function(){return this.isPointOnSegment?jsts.geom.Location.BOUNDARY:this.crossingCount%2==1?jsts.geom.Location.INTERIOR:jsts.geom.Location.EXTERIOR};jsts.algorithm.RayCrossingCounter.prototype.isPointInPolygon=function(){return this.getLocation()!==jsts.geom.Location.EXTERIOR};jsts.operation.BoundaryOp=function(n,t){this.geom=n;this.geomFact=n.getFactory();this.bnRule=t||jsts.algorithm.BoundaryNodeRule.MOD2_BOUNDARY_RULE};jsts.operation.BoundaryOp.prototype.geom=null;jsts.operation.BoundaryOp.prototype.geomFact=null;jsts.operation.BoundaryOp.prototype.bnRule=null;jsts.operation.BoundaryOp.prototype.getBoundary=function(){return this.geom instanceof jsts.geom.LineString?this.boundaryLineString(this.geom):this.geom instanceof jsts.geom.MultiLineString?this.boundaryMultiLineString(this.geom):this.geom.getBoundary()};jsts.operation.BoundaryOp.prototype.getEmptyMultiPoint=function(){return this.geomFact.createMultiPoint(null)};jsts.operation.BoundaryOp.prototype.boundaryMultiLineString=function(n){if(this.geom.isEmpty())return this.getEmptyMultiPoint();var t=this.computeBoundaryCoordinates(n);return 1==t.length?this.geomFact.createPoint(t[0]):this.geomFact.createMultiPoint(t)};jsts.operation.BoundaryOp.prototype.endpoints=null;jsts.operation.BoundaryOp.prototype.computeBoundaryCoordinates=function(n){var t,i,r,u=[];for(this.endpoints=[],t=0;t<n.getNumGeometries();t++)i=n.getGeometryN(t),0!=i.getNumPoints()&&(this.addEndpoint(i.getCoordinateN(0)),this.addEndpoint(i.getCoordinateN(i.getNumPoints()-1)));for(t=0;t<this.endpoints.length;t++)r=this.endpoints[t],this.bnRule.isInBoundary(r.count)&&u.push(r.coordinate);return u};jsts.operation.BoundaryOp.prototype.addEndpoint=function(n){for(var t,r=!1,i=0;i<this.endpoints.length;i++)if(t=this.endpoints[i],t.coordinate.equals(n)){r=!0;break}r||(t={},t.coordinate=n,t.count=0,this.endpoints.push(t));t.count++};jsts.operation.BoundaryOp.prototype.boundaryLineString=function(n){if(this.geom.isEmpty())return this.getEmptyMultiPoint();if(n.isClosed()){var t=this.bnRule.isInBoundary(2);return t?n.getStartPoint():this.geomFact.createMultiPoint(null)}return this.geomFact.createMultiPoint([n.getStartPoint(),n.getEndPoint()])};jsts.operation.buffer.OffsetCurveSetBuilder=function(n,t,i){this.inputGeom=n;this.distance=t;this.curveBuilder=i;this.curveList=new javascript.util.ArrayList};jsts.operation.buffer.OffsetCurveSetBuilder.prototype.inputGeom=null;jsts.operation.buffer.OffsetCurveSetBuilder.prototype.distance=null;jsts.operation.buffer.OffsetCurveSetBuilder.prototype.curveBuilder=null;jsts.operation.buffer.OffsetCurveSetBuilder.prototype.curveList=null;jsts.operation.buffer.OffsetCurveSetBuilder.prototype.getCurves=function(){return this.add(this.inputGeom),this.curveList};jsts.operation.buffer.OffsetCurveSetBuilder.prototype.addCurve=function(n,t,i){if(!(null==n||n.length<2)){var r=new jsts.noding.NodedSegmentString(n,new jsts.geomgraph.Label(0,jsts.geom.Location.BOUNDARY,t,i));this.curveList.add(r)}};jsts.operation.buffer.OffsetCurveSetBuilder.prototype.add=function(n){if(!n.isEmpty())if(n instanceof jsts.geom.Polygon)this.addPolygon(n);else if(n instanceof jsts.geom.LineString)this.addLineString(n);else if(n instanceof jsts.geom.Point)this.addPoint(n);else if(n instanceof jsts.geom.MultiPoint)this.addCollection(n);else if(n instanceof jsts.geom.MultiLineString)this.addCollection(n);else if(n instanceof jsts.geom.MultiPolygon)this.addCollection(n);else{if(!(n instanceof jsts.geom.GeometryCollection))throw new jsts.error.IllegalArgumentError;this.addCollection(n)}};jsts.operation.buffer.OffsetCurveSetBuilder.prototype.addCollection=function(n){for(var i,t=0;t<n.getNumGeometries();t++)i=n.getGeometryN(t),this.add(i)};jsts.operation.buffer.OffsetCurveSetBuilder.prototype.addPoint=function(n){if(!(this.distance<=0)){var t=n.getCoordinates(),i=this.curveBuilder.getLineCurve(t,this.distance);this.addCurve(i,jsts.geom.Location.EXTERIOR,jsts.geom.Location.INTERIOR)}};jsts.operation.buffer.OffsetCurveSetBuilder.prototype.addLineString=function(n){if(!(this.distance<=0)||this.curveBuilder.getBufferParameters().isSingleSided()){var t=jsts.geom.CoordinateArrays.removeRepeatedPoints(n.getCoordinates()),i=this.curveBuilder.getLineCurve(t,this.distance);this.addCurve(i,jsts.geom.Location.EXTERIOR,jsts.geom.Location.INTERIOR)}};jsts.operation.buffer.OffsetCurveSetBuilder.prototype.addPolygon=function(n){var i=this.distance,r=jsts.geomgraph.Position.LEFT,u,f,t,e,o;if(this.distance<0&&(i=-this.distance,r=jsts.geomgraph.Position.RIGHT),u=n.getExteriorRing(),f=jsts.geom.CoordinateArrays.removeRepeatedPoints(u.getCoordinates()),!(this.distance<0&&this.isErodedCompletely(u,this.distance)||this.distance<=0&&f.length<3))for(this.addPolygonRing(f,i,r,jsts.geom.Location.EXTERIOR,jsts.geom.Location.INTERIOR),t=0;t<n.getNumInteriorRing();t++)e=n.getInteriorRingN(t),o=jsts.geom.CoordinateArrays.removeRepeatedPoints(e.getCoordinates()),this.distance>0&&this.isErodedCompletely(e,-this.distance)||this.addPolygonRing(o,i,jsts.geomgraph.Position.opposite(r),jsts.geom.Location.INTERIOR,jsts.geom.Location.EXTERIOR)};jsts.operation.buffer.OffsetCurveSetBuilder.prototype.addPolygonRing=function(n,t,i,r,u){var f,e,o;0==t&&n.length<jsts.geom.LinearRing.MINIMUM_VALID_SIZE||(f=r,e=u,n.length>=jsts.geom.LinearRing.MINIMUM_VALID_SIZE&&jsts.algorithm.CGAlgorithms.isCCW(n)&&(f=u,e=r,i=jsts.geomgraph.Position.opposite(i)),o=this.curveBuilder.getRingCurve(n,i,t),this.addCurve(o,f,e))};jsts.operation.buffer.OffsetCurveSetBuilder.prototype.isErodedCompletely=function(n,t){var i=n.getCoordinates(),r,u;return i.length<4?0>t:4==i.length?this.isTriangleErodedCompletely(i,t):(r=n.getEnvelopeInternal(),u=Math.min(r.getHeight(),r.getWidth()),0>t&&2*Math.abs(t)>u?!0:!1)};jsts.operation.buffer.OffsetCurveSetBuilder.prototype.isTriangleErodedCompletely=function(n,t){var i=new jsts.geom.Triangle(n[0],n[1],n[2]),r=i.inCentre(),u=jsts.algorithm.CGAlgorithms.distancePointLine(r,i.p0,i.p1);return u<Math.abs(t)};jsts.operation.buffer.BufferSubgraph=function(){this.dirEdgeList=new javascript.util.ArrayList;this.nodes=new javascript.util.ArrayList;this.finder=new jsts.operation.buffer.RightmostEdgeFinder};jsts.operation.buffer.BufferSubgraph.prototype.finder=null;jsts.operation.buffer.BufferSubgraph.prototype.dirEdgeList=null;jsts.operation.buffer.BufferSubgraph.prototype.nodes=null;jsts.operation.buffer.BufferSubgraph.prototype.rightMostCoord=null;jsts.operation.buffer.BufferSubgraph.prototype.env=null;jsts.operation.buffer.BufferSubgraph.prototype.getDirectedEdges=function(){return this.dirEdgeList};jsts.operation.buffer.BufferSubgraph.prototype.getNodes=function(){return this.nodes};jsts.operation.buffer.BufferSubgraph.prototype.getEnvelope=function(){var n,t;if(null===this.env){for(n=new jsts.geom.Envelope,t=this.dirEdgeList.iterator();t.hasNext();)for(var u=t.next(),r=u.getEdge().getCoordinates(),i=0;i<r.length-1;i++)n.expandToInclude(r[i]);this.env=n}return this.env};jsts.operation.buffer.BufferSubgraph.prototype.getRightmostCoordinate=function(){return this.rightMostCoord};jsts.operation.buffer.BufferSubgraph.prototype.create=function(n){this.addReachable(n);this.finder.findEdge(this.dirEdgeList);this.rightMostCoord=this.finder.getCoordinate()};jsts.operation.buffer.BufferSubgraph.prototype.addReachable=function(n){var t=[],i;for(t.push(n);0!==t.length;)i=t.pop(),this.add(i,t)};jsts.operation.buffer.BufferSubgraph.prototype.add=function(n,t){var i,r,f,u;for(n.setVisited(!0),this.nodes.add(n),i=n.getEdges().iterator();i.hasNext();)r=i.next(),this.dirEdgeList.add(r),f=r.getSym(),u=f.getNode(),u.isVisited()||t.push(u)};jsts.operation.buffer.BufferSubgraph.prototype.clearVisitedEdges=function(){for(var t,n=this.dirEdgeList.iterator();n.hasNext();)t=n.next(),t.setVisited(!1)};jsts.operation.buffer.BufferSubgraph.prototype.computeDepth=function(n){this.clearVisitedEdges();var t=this.finder.getEdge();t.getNode();t.getLabel();t.setEdgeDepths(jsts.geomgraph.Position.RIGHT,n);this.copySymDepths(t);this.computeDepths(t)};jsts.operation.buffer.BufferSubgraph.prototype.computeDepths=function(n){var t=[],i=[],o=n.getNode(),r,f,s,e,u;for(i.push(o),t.push(o),n.setVisited(!0);0!==i.length;)for(r=i.shift(),t.push(r),this.computeNodeDepth(r),f=r.getEdges().iterator();f.hasNext();)s=f.next(),e=s.getSym(),e.isVisited()||(u=e.getNode(),-1===t.indexOf(u)&&(i.push(u),t.push(u)))};jsts.operation.buffer.BufferSubgraph.prototype.computeNodeDepth=function(n){for(var t,r=null,i=n.getEdges().iterator();i.hasNext();)if(t=i.next(),t.isVisited()||t.getSym().isVisited()){r=t;break}if(null==r)throw new jsts.error.TopologyError("unable to find edge to compute depths at "+n.getCoordinate());for(n.getEdges().computeDepths(r),i=n.getEdges().iterator();i.hasNext();)t=i.next(),t.setVisited(!0),this.copySymDepths(t)};jsts.operation.buffer.BufferSubgraph.prototype.copySymDepths=function(n){var t=n.getSym();t.setDepth(jsts.geomgraph.Position.LEFT,n.getDepth(jsts.geomgraph.Position.RIGHT));t.setDepth(jsts.geomgraph.Position.RIGHT,n.getDepth(jsts.geomgraph.Position.LEFT))};jsts.operation.buffer.BufferSubgraph.prototype.findResultEdges=function(){for(var n,t=this.dirEdgeList.iterator();t.hasNext();)n=t.next(),n.getDepth(jsts.geomgraph.Position.RIGHT)>=1&&n.getDepth(jsts.geomgraph.Position.LEFT)<=0&&!n.isInteriorAreaEdge()&&n.setInResult(!0)};jsts.operation.buffer.BufferSubgraph.prototype.compareTo=function(n){var t=n;return this.rightMostCoord.x<t.rightMostCoord.x?-1:this.rightMostCoord.x>t.rightMostCoord.x?1:0};jsts.simplify.DPTransformer=function(n,t){this.distanceTolerance=n;this.isEnsureValidTopology=t};jsts.simplify.DPTransformer.prototype=new jsts.geom.util.GeometryTransformer;jsts.simplify.DPTransformer.prototype.distanceTolerance=null;jsts.simplify.DPTransformer.prototype.isEnsureValidTopology=null;jsts.simplify.DPTransformer.prototype.transformCoordinates=function(n){var t=n;return 0==t.length?[]:jsts.simplify.DouglasPeuckerLineSimplifier.simplify(t,this.distanceTolerance)};jsts.simplify.DPTransformer.prototype.transformPolygon=function(n,t){if(n.isEmpty())return null;var i=jsts.geom.util.GeometryTransformer.prototype.transformPolygon.apply(this,arguments);return t instanceof jsts.geom.MultiPolygon?i:this.createValidArea(i)};jsts.simplify.DPTransformer.prototype.transformLinearRing=function(n,t){var r=t instanceof jsts.geom.Polygon,i=jsts.geom.util.GeometryTransformer.prototype.transformLinearRing.apply(this,arguments);return!r||i instanceof jsts.geom.LinearRing?i:null};jsts.simplify.DPTransformer.prototype.transformMultiPolygon=function(){var n=jsts.geom.util.GeometryTransformer.prototype.transformMultiPolygon.apply(this,arguments);return this.createValidArea(n)};jsts.simplify.DPTransformer.prototype.createValidArea=function(n){return this.isEnsureValidTopology?n.buffer(0):n};jsts.geom.util.GeometryExtracter=function(n,t){this.clz=n;this.comps=t};jsts.geom.util.GeometryExtracter.prototype=new jsts.geom.GeometryFilter;jsts.geom.util.GeometryExtracter.prototype.clz=null;jsts.geom.util.GeometryExtracter.prototype.comps=null;jsts.geom.util.GeometryExtracter.extract=function(n,t,i){return i=i||new javascript.util.ArrayList,n instanceof t?i.add(n):(n instanceof jsts.geom.GeometryCollection||n instanceof jsts.geom.MultiPoint||n instanceof jsts.geom.MultiLineString||n instanceof jsts.geom.MultiPolygon)&&n.apply(new jsts.geom.util.GeometryExtracter(t,i)),i};jsts.geom.util.GeometryExtracter.prototype.filter=function(n){(null===this.clz||n instanceof this.clz)&&this.comps.add(n)},function(){var t=jsts.operation.overlay.OverlayOp,i=jsts.operation.overlay.snap.SnapOverlayOp,n=function(n,t){this.geom=[];this.geom[0]=n;this.geom[1]=t};n.overlayOp=function(t,i,r){var u=new n(t,i);return u.getResultGeometry(r)};n.intersection=function(n,i){return overlayOp(n,i,t.INTERSECTION)};n.union=function(n,i){return overlayOp(n,i,t.UNION)};n.difference=function(n,i){return overlayOp(n,i,t.DIFFERENCE)};n.symDifference=function(n,i){return overlayOp(n,i,t.SYMDIFFERENCE)};n.prototype.geom=null;n.prototype.getResultGeometry=function(n){var r=null,u=!1,f=null,e;try{r=t.overlayOp(this.geom[0],this.geom[1],n);e=!0;e&&(u=!0)}catch(o){f=o}if(!u)try{r=i.overlayOp(this.geom[0],this.geom[1],n)}catch(o){throw f;}return r};jsts.operation.overlay.snap.SnapIfNeededOverlayOp=n}(),function(){var t=jsts.geom.util.GeometryExtracter,i=jsts.operation.union.CascadedPolygonUnion,r=jsts.operation.union.PointGeometryUnion,u=jsts.operation.overlay.OverlayOp,f=jsts.operation.overlay.snap.SnapIfNeededOverlayOp,n=javascript.util.ArrayList;jsts.operation.union.UnaryUnionOp=function(t,i){this.polygons=new n;this.lines=new n;this.points=new n;i&&(this.geomFact=i);this.extract(t)};jsts.operation.union.UnaryUnionOp.union=function(n,t){var i=new jsts.operation.union.UnaryUnionOp(n,t);return i.union()};jsts.operation.union.UnaryUnionOp.prototype.polygons=null;jsts.operation.union.UnaryUnionOp.prototype.lines=null;jsts.operation.union.UnaryUnionOp.prototype.points=null;jsts.operation.union.UnaryUnionOp.prototype.geomFact=null;jsts.operation.union.UnaryUnionOp.prototype.extract=function(i){var r,u;if(i instanceof n)for(r=i.iterator();r.hasNext();)u=r.next(),this.extract(u);else null===this.geomFact&&(this.geomFact=i.getFactory()),t.extract(i,jsts.geom.Polygon,this.polygons),t.extract(i,jsts.geom.LineString,this.lines),t.extract(i,jsts.geom.Point,this.points)};jsts.operation.union.UnaryUnionOp.prototype.union=function(){var n,o,f,s,e,t,u;return null===this.geomFact?null:(n=null,this.points.size()>0&&(o=this.geomFact.buildGeometry(this.points),n=this.unionNoOpt(o)),f=null,this.lines.size()>0&&(s=this.geomFact.buildGeometry(this.lines),f=this.unionNoOpt(s)),e=null,this.polygons.size()>0&&(e=i.union(this.polygons)),t=this.unionWithNull(f,e),u=null,u=null===n?t:null===t?n:r(n,t),null===u?this.geomFact.createGeometryCollection(null):u)};jsts.operation.union.UnaryUnionOp.prototype.unionWithNull=function(n,t){return null===n&&null===t?null:null===t?n:null===n?t:n.union(t)};jsts.operation.union.UnaryUnionOp.prototype.unionNoOpt=function(n){var t=this.geomFact.createPoint(null);return f.overlayOp(n,t,u.UNION)}}();jsts.index.kdtree.KdNode=function(){this.left=null;this.right=null;this.count=1;2===arguments.length?this.initializeFromCoordinate.apply(this,arguments[0],arguments[1]):3===arguments.length&&this.initializeFromXY.apply(this,arguments[0],arguments[1],arguments[2])};jsts.index.kdtree.KdNode.prototype.initializeFromXY=function(n,t,i){this.p=new jsts.geom.Coordinate(n,t);this.data=i};jsts.index.kdtree.KdNode.prototype.initializeFromCoordinate=function(n,t){this.p=n;this.data=t};jsts.index.kdtree.KdNode.prototype.getX=function(){return this.p.x};jsts.index.kdtree.KdNode.prototype.getY=function(){return this.p.y};jsts.index.kdtree.KdNode.prototype.getCoordinate=function(){return this.p};jsts.index.kdtree.KdNode.prototype.getData=function(){return this.data};jsts.index.kdtree.KdNode.prototype.getLeft=function(){return this.left};jsts.index.kdtree.KdNode.prototype.getRight=function(){return this.right};jsts.index.kdtree.KdNode.prototype.increment=function(){this.count+=1};jsts.index.kdtree.KdNode.prototype.getCount=function(){return this.count};jsts.index.kdtree.KdNode.prototype.isRepeated=function(){return count>1};jsts.index.kdtree.KdNode.prototype.setLeft=function(n){this.left=n};jsts.index.kdtree.KdNode.prototype.setRight=function(n){this.right=n};jsts.algorithm.InteriorPointPoint=function(n){this.minDistance=Number.MAX_VALUE;this.interiorPoint=null;this.centroid=n.getCentroid().getCoordinate();this.add(n)};jsts.algorithm.InteriorPointPoint.prototype.add=function(n){if(n instanceof jsts.geom.Point)this.addPoint(n.getCoordinate());else if(n instanceof jsts.geom.GeometryCollection)for(var t=0;t<n.getNumGeometries();t++)this.add(n.getGeometryN(t))};jsts.algorithm.InteriorPointPoint.prototype.addPoint=function(n){var t=n.distance(this.centroid);t<this.minDistance&&(this.interiorPoint=new jsts.geom.Coordinate(n),this.minDistance=t)};jsts.algorithm.InteriorPointPoint.prototype.getInteriorPoint=function(){return this.interiorPoint},function(){jsts.geom.MultiLineString=function(n,t){this.geometries=n||[];this.factory=t};jsts.geom.MultiLineString.prototype=new jsts.geom.GeometryCollection;jsts.geom.MultiLineString.constructor=jsts.geom.MultiLineString;jsts.geom.MultiLineString.prototype.getBoundary=function(){return new jsts.operation.BoundaryOp(this).getBoundary()};jsts.geom.MultiLineString.prototype.equalsExact=function(n,t){return this.isEquivalentClass(n)?jsts.geom.GeometryCollection.prototype.equalsExact.call(this,n,t):!1};jsts.geom.MultiLineString.prototype.CLASS_NAME="jsts.geom.MultiLineString"}(),function(){var t=jsts.index.bintree.Interval,i=jsts.index.bintree.Root,n=function(){this.root=new i;this.minExtent=1};n.ensureExtent=function(n,i){var r,u;return r=n.getMin(),u=n.getMax(),r!==u?n:(r===u&&(r-=i/2,u=r+i/2),new t(r,u))};n.prototype.depth=function(){return null!==this.root?this.root.depth():0};n.prototype.size=function(){return null!==this.root?this.root.size():0};n.prototype.nodeSize=function(){return null!==this.root?this.root.nodeSize():0};n.prototype.insert=function(t,i){this.collectStats(t);var r=n.ensureExtent(t,this.minExtent);this.root.insert(r,i)};n.prototype.remove=function(t,i){var r=n.ensureExtent(t,this.minExtent);return this.root.remove(r,i)};n.prototype.iterator=function(){var n=new javascript.util.ArrayList;return this.root.addAllItems(n),n.iterator()};n.prototype.query=function(){if(2!==arguments.length){var n=arguments[0];return!n instanceof t&&(n=new t(n,n)),this.queryInterval(n)}this.queryAndAdd(arguments[0],arguments[1])};n.prototype.queryInterval=function(n){var t=new javascript.util.ArrayList;return this.query(n,t),t};n.prototype.queryAndAdd=function(n,t){this.root.addAllItemsFromOverlapping(n,t)};n.prototype.collectStats=function(n){var t=n.getWidth();t<this.minExtent&&t>0&&(this.minExtent=t)};jsts.index.bintree.Bintree=n}();jsts.algorithm.InteriorPointArea=function(n){this.factory;this.interiorPoint=null;this.maxWidth=0;this.factory=n.getFactory();this.add(n)};jsts.algorithm.InteriorPointArea.avg=function(n,t){return(n+t)/2};jsts.algorithm.InteriorPointArea.prototype.getInteriorPoint=function(){return this.interiorPoint};jsts.algorithm.InteriorPointArea.prototype.add=function(n){if(n instanceof jsts.geom.Polygon)this.addPolygon(n);else if(n instanceof jsts.geom.GeometryCollection)for(var t=0;t<n.getNumGeometries();t++)this.add(n.getGeometryN(t))};jsts.algorithm.InteriorPointArea.prototype.addPolygon=function(n){var r,t,i,f,u;n.isEmpty()||(t=0,i=this.horizontalBisector(n),0==i.getLength()?(t=0,r=i.getCoordinate()):(f=i.intersection(n),u=this.widestGeometry(f),t=u.getEnvelopeInternal().getWidth(),r=this.centre(u.getEnvelopeInternal())),(null==this.interiorPoint||t>this.maxWidth)&&(this.interiorPoint=r,this.maxWidth=t))};jsts.algorithm.InteriorPointArea.prototype.widestGeometry=function(n){var t,r,i;if(n instanceof jsts.geom.GeometryCollection){if(t=n,t.isEmpty())return t;for(r=t.getGeometryN(0),i=1;i<t.getNumGeometries();i++)t.getGeometryN(i).getEnvelopeInternal().getWidth()>r.getEnvelopeInternal().getWidth()&&(r=t.getGeometryN(i));return r}if(n instanceof jsts.geom.Geometry)return n};jsts.algorithm.InteriorPointArea.prototype.horizontalBisector=function(n){var t=n.getEnvelopeInternal(),i=jsts.algorithm.SafeBisectorFinder.getBisectorY(n);return this.factory.createLineString([new jsts.geom.Coordinate(t.getMinX(),i),new jsts.geom.Coordinate(t.getMaxX(),i)])};jsts.algorithm.InteriorPointArea.prototype.centre=function(n){return new jsts.geom.Coordinate(jsts.algorithm.InteriorPointArea.avg(n.getMinX(),n.getMaxX()),jsts.algorithm.InteriorPointArea.avg(n.getMinY(),n.getMaxY()))};jsts.algorithm.SafeBisectorFinder=function(n){this.poly;this.centreY;this.hiY=Number.MAX_VALUE;this.loY=-Number.MAX_VALUE;this.poly=n;this.hiY=n.getEnvelopeInternal().getMaxY();this.loY=n.getEnvelopeInternal().getMinY();this.centreY=jsts.algorithm.InteriorPointArea.avg(this.loY,this.hiY)};jsts.algorithm.SafeBisectorFinder.getBisectorY=function(n){var t=new jsts.algorithm.SafeBisectorFinder(n);return t.getBisectorY()};jsts.algorithm.SafeBisectorFinder.prototype.getBisectorY=function(){var n;for(this.process(this.poly.getExteriorRing()),n=0;n<this.poly.getNumInteriorRing();n++)this.process(this.poly.getInteriorRingN(n));return jsts.algorithm.InteriorPointArea.avg(this.hiY,this.loY)};jsts.algorithm.SafeBisectorFinder.prototype.process=function(n){for(var r,i=n.getCoordinateSequence(),t=0;t<i.length;t++)r=i[t].y,this.updateInterval(r)};jsts.algorithm.SafeBisectorFinder.prototype.updateInterval=function(n){n<=this.centreY?n>this.loY&&(this.loY=n):n>this.centreY&&n<this.hiY&&(this.hiY=n)};jsts.operation.buffer.BufferParameters=function(n,t,i,r){n&&this.setQuadrantSegments(n);t&&this.setEndCapStyle(t);i&&this.setJoinStyle(i);r&&this.setMitreLimit(r)};jsts.operation.buffer.BufferParameters.CAP_ROUND=1;jsts.operation.buffer.BufferParameters.CAP_FLAT=2;jsts.operation.buffer.BufferParameters.CAP_SQUARE=3;jsts.operation.buffer.BufferParameters.JOIN_ROUND=1;jsts.operation.buffer.BufferParameters.JOIN_MITRE=2;jsts.operation.buffer.BufferParameters.JOIN_BEVEL=3;jsts.operation.buffer.BufferParameters.DEFAULT_QUADRANT_SEGMENTS=8;jsts.operation.buffer.BufferParameters.DEFAULT_MITRE_LIMIT=5;jsts.operation.buffer.BufferParameters.prototype.quadrantSegments=jsts.operation.buffer.BufferParameters.DEFAULT_QUADRANT_SEGMENTS;jsts.operation.buffer.BufferParameters.prototype.endCapStyle=jsts.operation.buffer.BufferParameters.CAP_ROUND;jsts.operation.buffer.BufferParameters.prototype.joinStyle=jsts.operation.buffer.BufferParameters.JOIN_ROUND;jsts.operation.buffer.BufferParameters.prototype.mitreLimit=jsts.operation.buffer.BufferParameters.DEFAULT_MITRE_LIMIT;jsts.operation.buffer.BufferParameters.prototype._isSingleSided=!1;jsts.operation.buffer.BufferParameters.prototype.getQuadrantSegments=function(){return this.quadrantSegments};jsts.operation.buffer.BufferParameters.prototype.setQuadrantSegments=function(n){this.quadrantSegments=n};jsts.operation.buffer.BufferParameters.prototype.setQuadrantSegments=function(n){this.quadrantSegments=n;0===this.quadrantSegments&&(this.joinStyle=jsts.operation.buffer.BufferParameters.JOIN_BEVEL);this.quadrantSegments<0&&(this.joinStyle=jsts.operation.buffer.BufferParameters.JOIN_MITRE,this.mitreLimit=Math.abs(this.quadrantSegments));0>=n&&(this.quadrantSegments=1);this.joinStyle!==jsts.operation.buffer.BufferParameters.JOIN_ROUND&&(this.quadrantSegments=jsts.operation.buffer.BufferParameters.DEFAULT_QUADRANT_SEGMENTS)};jsts.operation.buffer.BufferParameters.bufferDistanceError=function(n){var t=Math.PI/2/n;return 1-Math.cos(t/2)};jsts.operation.buffer.BufferParameters.prototype.getEndCapStyle=function(){return this.endCapStyle};jsts.operation.buffer.BufferParameters.prototype.setEndCapStyle=function(n){this.endCapStyle=n};jsts.operation.buffer.BufferParameters.prototype.getJoinStyle=function(){return this.joinStyle};jsts.operation.buffer.BufferParameters.prototype.setJoinStyle=function(n){this.joinStyle=n};jsts.operation.buffer.BufferParameters.prototype.getMitreLimit=function(){return this.mitreLimit};jsts.operation.buffer.BufferParameters.prototype.setMitreLimit=function(n){this.mitreLimit=n};jsts.operation.buffer.BufferParameters.prototype.setSingleSided=function(n){this._isSingleSided=n};jsts.operation.buffer.BufferParameters.prototype.isSingleSided=function(){return this._isSingleSided},function(){jsts.geom.util.ShortCircuitedGeometryVisitor=function(){};jsts.geom.util.ShortCircuitedGeometryVisitor.prototype.isDone=!1;jsts.geom.util.ShortCircuitedGeometryVisitor.prototype.applyTo=function(n){for(var i,t=0;t<n.getNumGeometries()&&!this.isDone;t++)if(i=n.getGeometryN(t),i instanceof jsts.geom.GeometryCollection)this.applyTo(i);else if(this.visit(i),this.isDone())return void(this.isDone=!0)};jsts.geom.util.ShortCircuitedGeometryVisitor.prototype.visit=function(){};jsts.geom.util.ShortCircuitedGeometryVisitor.prototype.isDone=function(){}}(),function(){var i=function(n){this.rectEnv=n},t,n;i.prototype=new jsts.geom.util.ShortCircuitedGeometryVisitor;i.constructor=i;i.prototype.rectEnv=null;i.prototype.intersects=!1;i.prototype.intersects=function(){return this.intersects};i.prototype.visit=function(n){var t=n.getEnvelopeInternal();if(this.rectEnv.intersects(t))return this.rectEnv.contains(t)?void(this.intersects=!0):t.getMinX()>=rectEnv.getMinX()&&t.getMaxX()<=rectEnv.getMaxX()?void(this.intersects=!0):t.getMinY()>=rectEnv.getMinY()&&t.getMaxY()<=rectEnv.getMaxY()?void(this.intersects=!0):void 0};i.prototype.isDone=function(){return 1==this.intersects};t=function(n){this.rectSeq=n.getExteriorRing().getCoordinateSequence();this.rectEnv=n.getEnvelopeInternal()};t.prototype=new jsts.geom.util.ShortCircuitedGeometryVisitor;t.constructor=t;t.prototype.rectSeq=null;t.prototype.rectEnv=null;t.prototype.containsPoint=!1;t.prototype.containsPoint=function(){return this.containsPoint};t.prototype.visit=function(n){var r,t,i;if(n instanceof jsts.geom.Polygon&&(r=n.getEnvelopeInternal(),this.rectEnv.intersects(r)))for(t=new jsts.geom.Coordinate,i=0;4>i;i++)if(this.rectSeq.getCoordinate(i,t),r.contains(t)&&SimplePointInAreaLocator.containsPointInPolygon(t,n))return void(this.containsPoint=!0)};t.prototype.isDone=function(){return 1==this.containsPoint};n=function(n){this.rectEnv=n.getEnvelopeInternal();this.rectIntersector=new RectangleLineIntersector(rectEnv)};n.prototype=new jsts.geom.util.ShortCircuitedGeometryVisitor;n.constructor=n;n.prototype.rectEnv=null;n.prototype.rectIntersector=null;n.prototype.hasIntersection=!1;n.prototype.p0=null;n.prototype.p1=null;n.prototype.intersects=function(){return this.hasIntersection};n.prototype.visit=function(n){var i=n.getEnvelopeInternal(),t;this.rectEnv.intersects(i)&&(t=LinearComponentExtracter.getLines(n),this.checkIntersectionWithLineStrings(t))};n.prototype.checkIntersectionWithLineStrings=function(n){for(var i,t=n.iterator();t.hasNext();)if(i=t.next(),this.checkIntersectionWithSegments(i),this.hasIntersection)return};n.prototype.checkIntersectionWithSegments=function(n){for(var i=n.getCoordinateSequence(),t=1;t<i.length;t++)if(this.p0=i[t-1],this.p1=i[t],rectIntersector.intersects(p0,p1))return void(this.hasIntersection=!0)};n.prototype.isDone=function(){return 1==this.hasIntersection};jsts.operation.predicate.RectangleIntersects=function(n){this.rectangle=n;this.rectEnv=n.getEnvelopeInternal()};jsts.operation.predicate.RectangleIntersects.intersects=function(n,t){var i=new jsts.operation.predicate.RectangleIntersects(n);return i.intersects(t)};jsts.operation.predicate.RectangleIntersects.prototype.rectangle=null;jsts.operation.predicate.RectangleIntersects.prototype.rectEnv=null;jsts.operation.predicate.RectangleIntersects.prototype.intersects=function(r){var u,f,e;return this.rectEnv.intersects(r.getEnvelopeInternal())?(u=new i(this.rectEnv),u.applyTo(r),u.intersects())?!0:(f=new t(rectangle),f.applyTo(r),f.containsPoint())?!0:(e=new n(rectangle),e.applyTo(r),e.intersects()?!0:!1):!1}}();jsts.operation.buffer.BufferBuilder=function(n){this.bufParams=n;this.edgeList=new jsts.geomgraph.EdgeList};jsts.operation.buffer.BufferBuilder.depthDelta=function(n){var t=n.getLocation(0,jsts.geomgraph.Position.LEFT),i=n.getLocation(0,jsts.geomgraph.Position.RIGHT);return t===jsts.geom.Location.INTERIOR&&i===jsts.geom.Location.EXTERIOR?1:t===jsts.geom.Location.EXTERIOR&&i===jsts.geom.Location.INTERIOR?-1:0};jsts.operation.buffer.BufferBuilder.prototype.bufParams=null;jsts.operation.buffer.BufferBuilder.prototype.workingPrecisionModel=null;jsts.operation.buffer.BufferBuilder.prototype.workingNoder=null;jsts.operation.buffer.BufferBuilder.prototype.geomFact=null;jsts.operation.buffer.BufferBuilder.prototype.graph=null;jsts.operation.buffer.BufferBuilder.prototype.edgeList=null;jsts.operation.buffer.BufferBuilder.prototype.setWorkingPrecisionModel=function(n){this.workingPrecisionModel=n};jsts.operation.buffer.BufferBuilder.prototype.setNoder=function(n){this.workingNoder=n};jsts.operation.buffer.BufferBuilder.prototype.buffer=function(n,t){var i=this.workingPrecisionModel,e,r,u;null===i&&(i=n.getPrecisionModel());this.geomFact=n.getFactory();var o=new jsts.operation.buffer.OffsetCurveBuilder(i,this.bufParams),s=new jsts.operation.buffer.OffsetCurveSetBuilder(n,t,o),f=s.getCurves();return f.size()<=0?this.createEmptyResultGeometry():(this.computeNodedEdges(f,i),this.graph=new jsts.geomgraph.PlanarGraph(new jsts.operation.overlay.OverlayNodeFactory),this.graph.addEdges(this.edgeList.getEdges()),e=this.createSubgraphs(this.graph),r=new jsts.operation.overlay.PolygonBuilder(this.geomFact),this.buildSubgraphs(e,r),u=r.getPolygons(),u.size()<=0)?this.createEmptyResultGeometry():this.geomFact.buildGeometry(u)};jsts.operation.buffer.BufferBuilder.prototype.getNoder=function(n){if(null!==this.workingNoder)return this.workingNoder;var t=new jsts.noding.MCIndexNoder,i=new jsts.algorithm.RobustLineIntersector;return i.setPrecisionModel(n),t.setSegmentIntersector(new jsts.noding.IntersectionAdder(i)),t};jsts.operation.buffer.BufferBuilder.prototype.computeNodedEdges=function(n,t){var r=this.getNoder(t),u,i;for(r.computeNodes(n),u=r.getNodedSubstrings(),i=u.iterator();i.hasNext();){var f=i.next(),e=f.getData(),o=new jsts.geomgraph.Edge(f.getCoordinates(),new jsts.geomgraph.Label(e));this.insertUniqueEdge(o)}};jsts.operation.buffer.BufferBuilder.prototype.insertUniqueEdge=function(n){var t=this.edgeList.findEqualEdge(n),r,i;if(null!=t){r=t.getLabel();i=n.getLabel();t.isPointwiseEqual(n)||(i=new jsts.geomgraph.Label(n.getLabel()),i.flip());r.merge(i);var u=jsts.operation.buffer.BufferBuilder.depthDelta(i),f=t.getDepthDelta(),e=f+u;t.setDepthDelta(e)}else this.edgeList.add(n),n.setDepthDelta(jsts.operation.buffer.BufferBuilder.depthDelta(n.getLabel()))};jsts.operation.buffer.BufferBuilder.prototype.createSubgraphs=function(n){for(var r,u,f,t=[],i=n.getNodes().iterator();i.hasNext();)r=i.next(),r.isVisited()||(u=new jsts.operation.buffer.BufferSubgraph,u.create(r),t.push(u));return f=function(n,t){return n.compareTo(t)},t.sort(f),t.reverse(),t};jsts.operation.buffer.BufferBuilder.prototype.buildSubgraphs=function(n,t){for(var u=[],r=0;r<n.length;r++){var i=n[r],f=i.getRightmostCoordinate(),e=new jsts.operation.buffer.SubgraphDepthLocater(u),o=e.getDepth(f);i.computeDepth(o);i.findResultEdges();u.push(i);t.add(i.getDirectedEdges(),i.getNodes())}};jsts.operation.buffer.BufferBuilder.convertSegStrings=function(n){for(var r,u,t=new jsts.geom.GeometryFactory,i=new javascript.util.ArrayList;n.hasNext();)r=n.next(),u=t.createLineString(r.getCoordinates()),i.add(u);return t.buildGeometry(i)};jsts.operation.buffer.BufferBuilder.prototype.createEmptyResultGeometry=function(){return this.geomFact.createPolygon(null,null)};jsts.noding.SegmentPointComparator=function(){};jsts.noding.SegmentPointComparator.compare=function(n,t,i){if(t.equals2D(i))return 0;var r=jsts.noding.SegmentPointComparator.relativeSign(t.x,i.x),u=jsts.noding.SegmentPointComparator.relativeSign(t.y,i.y);switch(n){case 0:return jsts.noding.SegmentPointComparator.compareValue(r,u);case 1:return jsts.noding.SegmentPointComparator.compareValue(u,r);case 2:return jsts.noding.SegmentPointComparator.compareValue(u,-r);case 3:return jsts.noding.SegmentPointComparator.compareValue(-r,u);case 4:return jsts.noding.SegmentPointComparator.compareValue(-r,-u);case 5:return jsts.noding.SegmentPointComparator.compareValue(-u,-r);case 6:return jsts.noding.SegmentPointComparator.compareValue(-u,r);case 7:return jsts.noding.SegmentPointComparator.compareValue(r,-u)}return 0};jsts.noding.SegmentPointComparator.relativeSign=function(n,t){return t>n?-1:n>t?1:0};jsts.noding.SegmentPointComparator.compareValue=function(n,t){return 0>n?-1:n>0?1:0>t?-1:t>0?1:0};jsts.operation.relate.RelateOp=function(){jsts.operation.GeometryGraphOperation.apply(this,arguments);this._relate=new jsts.operation.relate.RelateComputer(this.arg)};jsts.operation.relate.RelateOp.prototype=new jsts.operation.GeometryGraphOperation;jsts.operation.relate.RelateOp.relate=function(n,t,i){var r=new jsts.operation.relate.RelateOp(n,t,i);return r.getIntersectionMatrix()};jsts.operation.relate.RelateOp.prototype._relate=null;jsts.operation.relate.RelateOp.prototype.getIntersectionMatrix=function(){return this._relate.computeIM()};jsts.index.chain.MonotoneChain=function(n,t,i,r){this.pts=n;this.start=t;this.end=i;this.context=r};jsts.index.chain.MonotoneChain.prototype.pts=null;jsts.index.chain.MonotoneChain.prototype.start=null;jsts.index.chain.MonotoneChain.prototype.end=null;jsts.index.chain.MonotoneChain.prototype.env=null;jsts.index.chain.MonotoneChain.prototype.context=null;jsts.index.chain.MonotoneChain.prototype.id=null;jsts.index.chain.MonotoneChain.prototype.setId=function(n){this.id=n};jsts.index.chain.MonotoneChain.prototype.getId=function(){return this.id};jsts.index.chain.MonotoneChain.prototype.getContext=function(){return this.context};jsts.index.chain.MonotoneChain.prototype.getEnvelope=function(){if(null==this.env){var n=this.pts[this.start],t=this.pts[this.end];this.env=new jsts.geom.Envelope(n,t)}return this.env};jsts.index.chain.MonotoneChain.prototype.getStartIndex=function(){return this.start};jsts.index.chain.MonotoneChain.prototype.getEndIndex=function(){return this.end};jsts.index.chain.MonotoneChain.prototype.getLineSegment=function(n,t){t.p0=this.pts[n];t.p1=this.pts[n+1]};jsts.index.chain.MonotoneChain.prototype.getCoordinates=function(){for(var t=[],i=0,n=this.start;n<=this.end;n++)t[i++]=this.pts[n];return t};jsts.index.chain.MonotoneChain.prototype.select=function(n,t){this.computeSelect2(n,this.start,this.end,t)};jsts.index.chain.MonotoneChain.prototype.computeSelect2=function(n,t,i,r){var f=this.pts[t],e=this.pts[i],u;if(r.tempEnv1.init(f,e),i-t==1)return void r.select(this,t);n.intersects(r.tempEnv1)&&(u=parseInt((t+i)/2),u>t&&this.computeSelect2(n,t,u,r),i>u&&this.computeSelect2(n,u,i,r))};jsts.index.chain.MonotoneChain.prototype.computeOverlaps=function(n,t){return 6===arguments.length?this.computeOverlaps2.apply(this,arguments):void this.computeOverlaps2(this.start,this.end,n,n.start,n.end,t)};jsts.index.chain.MonotoneChain.prototype.computeOverlaps2=function(n,t,i,r,u,f){var s=this.pts[n],h=this.pts[t],c=i.pts[r],l=i.pts[u],o,e;if(t-n==1&&u-r==1)return void f.overlap(this,n,i,r);(f.tempEnv1.init(s,h),f.tempEnv2.init(c,l),f.tempEnv1.intersects(f.tempEnv2))&&(o=parseInt((n+t)/2),e=parseInt((r+u)/2),o>n&&(e>r&&this.computeOverlaps2(n,o,i,r,e,f),u>e&&this.computeOverlaps2(n,o,i,e,u,f)),t>o&&(e>r&&this.computeOverlaps2(o,t,i,r,e,f),u>e&&this.computeOverlaps2(o,t,i,e,u,f)))},function(){var n=jsts.geom.Location,t=jsts.geom.Dimension;jsts.geom.IntersectionMatrix=function(i){var r=i;void 0===i||null===i?(this.matrix=[[],[],[]],this.setAll(t.FALSE)):"string"==typeof i?this.set(i):r instanceof jsts.geom.IntersectionMatrix&&(this.matrix[n.INTERIOR][n.INTERIOR]=r.matrix[n.INTERIOR][n.INTERIOR],this.matrix[n.INTERIOR][n.BOUNDARY]=r.matrix[n.INTERIOR][n.BOUNDARY],this.matrix[n.INTERIOR][n.EXTERIOR]=r.matrix[n.INTERIOR][n.EXTERIOR],this.matrix[n.BOUNDARY][n.INTERIOR]=r.matrix[n.BOUNDARY][n.INTERIOR],this.matrix[n.BOUNDARY][n.BOUNDARY]=r.matrix[n.BOUNDARY][n.BOUNDARY],this.matrix[n.BOUNDARY][n.EXTERIOR]=r.matrix[n.BOUNDARY][n.EXTERIOR],this.matrix[n.EXTERIOR][n.INTERIOR]=r.matrix[n.EXTERIOR][n.INTERIOR],this.matrix[n.EXTERIOR][n.BOUNDARY]=r.matrix[n.EXTERIOR][n.BOUNDARY],this.matrix[n.EXTERIOR][n.EXTERIOR]=r.matrix[n.EXTERIOR][n.EXTERIOR])};jsts.geom.IntersectionMatrix.prototype.matrix=null;jsts.geom.IntersectionMatrix.prototype.add=function(n){for(var i,t=0;3>t;t++)for(i=0;3>i;i++)this.setAtLeast(t,i,n.get(t,i))};jsts.geom.IntersectionMatrix.matches=function(n,i){return"string"==typeof n?jsts.geom.IntersectionMatrix.matches2.call(this,arguments):"*"===i?!0:"T"===i&&(n>=0||n===t.TRUE)?!0:"F"===i&&n===t.FALSE?!0:"0"===i&&n===t.P?!0:"1"===i&&n===t.L?!0:"2"===i&&n===t.A?!0:!1};jsts.geom.IntersectionMatrix.matches2=function(n,t){var i=new jsts.geom.IntersectionMatrix(n);return i.matches(t)};jsts.geom.IntersectionMatrix.prototype.set=function(n,t,i){return"string"==typeof n?void this.set2(n):void(this.matrix[n][t]=i)};jsts.geom.IntersectionMatrix.prototype.set2=function(n){for(var r,u,i=0;i<n.length();i++)r=i/3,u=i%3,this.matrix[r][u]=t.toDimensionValue(n.charAt(i))};jsts.geom.IntersectionMatrix.prototype.setAtLeast=function(n,t,i){return 1===arguments.length?void this.setAtLeast2(arguments[0]):void(this.matrix[n][t]<i&&(this.matrix[n][t]=i))};jsts.geom.IntersectionMatrix.prototype.setAtLeastIfValid=function(n,t,i){n>=0&&t>=0&&this.setAtLeast(n,t,i)};jsts.geom.IntersectionMatrix.prototype.setAtLeast2=function(n){for(var i,r,t=0;t<n.length;t++)i=parseInt(t/3),r=parseInt(t%3),this.setAtLeast(i,r,jsts.geom.Dimension.toDimensionValue(n.charAt(t)))};jsts.geom.IntersectionMatrix.prototype.setAll=function(n){for(var i,t=0;3>t;t++)for(i=0;3>i;i++)this.matrix[t][i]=n};jsts.geom.IntersectionMatrix.prototype.get=function(n,t){return this.matrix[n][t]};jsts.geom.IntersectionMatrix.prototype.isDisjoint=function(){return this.matrix[n.INTERIOR][n.INTERIOR]===t.FALSE&&this.matrix[n.INTERIOR][n.BOUNDARY]===t.FALSE&&this.matrix[n.BOUNDARY][n.INTERIOR]===t.FALSE&&this.matrix[n.BOUNDARY][n.BOUNDARY]===t.FALSE};jsts.geom.IntersectionMatrix.prototype.isIntersects=function(){return!this.isDisjoint()};jsts.geom.IntersectionMatrix.prototype.isTouches=function(i,r){return i>r?this.isTouches(r,i):i==t.A&&r==t.A||i==t.L&&r==t.L||i==t.L&&r==t.A||i==t.P&&r==t.A||i==t.P&&r==t.L?this.matrix[n.INTERIOR][n.INTERIOR]===t.FALSE&&(jsts.geom.IntersectionMatrix.matches(this.matrix[n.INTERIOR][n.BOUNDARY],"T")||jsts.geom.IntersectionMatrix.matches(this.matrix[n.BOUNDARY][n.INTERIOR],"T")||jsts.geom.IntersectionMatrix.matches(this.matrix[n.BOUNDARY][n.BOUNDARY],"T")):!1};jsts.geom.IntersectionMatrix.prototype.isCrosses=function(i,r){return i==t.P&&r==t.L||i==t.P&&r==t.A||i==t.L&&r==t.A?jsts.geom.IntersectionMatrix.matches(this.matrix[n.INTERIOR][n.INTERIOR],"T")&&jsts.geom.IntersectionMatrix.matches(this.matrix[n.INTERIOR][n.EXTERIOR],"T"):i==t.L&&r==t.P||i==t.A&&r==t.P||i==t.A&&r==t.L?jsts.geom.IntersectionMatrix.matches(matrix[n.INTERIOR][n.INTERIOR],"T")&&jsts.geom.IntersectionMatrix.matches(this.matrix[n.EXTERIOR][n.INTERIOR],"T"):i===t.L&&r===t.L?0===this.matrix[n.INTERIOR][n.INTERIOR]:!1};jsts.geom.IntersectionMatrix.prototype.isWithin=function(){return jsts.geom.IntersectionMatrix.matches(this.matrix[n.INTERIOR][n.INTERIOR],"T")&&this.matrix[n.INTERIOR][n.EXTERIOR]==t.FALSE&&this.matrix[n.BOUNDARY][n.EXTERIOR]==t.FALSE};jsts.geom.IntersectionMatrix.prototype.isContains=function(){return jsts.geom.IntersectionMatrix.matches(this.matrix[n.INTERIOR][n.INTERIOR],"T")&&this.matrix[n.EXTERIOR][n.INTERIOR]==t.FALSE&&this.matrix[n.EXTERIOR][n.BOUNDARY]==t.FALSE};jsts.geom.IntersectionMatrix.prototype.isCovers=function(){var i=jsts.geom.IntersectionMatrix.matches(this.matrix[n.INTERIOR][n.INTERIOR],"T")||jsts.geom.IntersectionMatrix.matches(this.matrix[n.INTERIOR][n.BOUNDARY],"T")||jsts.geom.IntersectionMatrix.matches(this.matrix[n.BOUNDARY][n.INTERIOR],"T")||jsts.geom.IntersectionMatrix.matches(this.matrix[n.BOUNDARY][n.BOUNDARY],"T");return i&&this.matrix[n.EXTERIOR][n.INTERIOR]==t.FALSE&&this.matrix[n.EXTERIOR][n.BOUNDARY]==t.FALSE};jsts.geom.IntersectionMatrix.prototype.isCoveredBy=function(){var i=jsts.geom.IntersectionMatrix.matches(this.matrix[n.INTERIOR][n.INTERIOR],"T")||jsts.geom.IntersectionMatrix.matches(this.matrix[n.INTERIOR][n.BOUNDARY],"T")||jsts.geom.IntersectionMatrix.matches(this.matrix[n.BOUNDARY][n.INTERIOR],"T")||jsts.geom.IntersectionMatrix.matches(this.matrix[n.BOUNDARY][n.BOUNDARY],"T");return i&&this.matrix[n.INTERIOR][n.EXTERIOR]===t.FALSE&&this.matrix[n.BOUNDARY][n.EXTERIOR]===t.FALSE};jsts.geom.IntersectionMatrix.prototype.isEquals=function(i,r){return i!==r?!1:jsts.geom.IntersectionMatrix.matches(this.matrix[n.INTERIOR][n.INTERIOR],"T")&&this.matrix[n.EXTERIOR][n.INTERIOR]===t.FALSE&&this.matrix[n.INTERIOR][n.EXTERIOR]===t.FALSE&&this.matrix[n.EXTERIOR][n.BOUNDARY]===t.FALSE&&this.matrix[n.BOUNDARY][n.EXTERIOR]===t.FALSE};jsts.geom.IntersectionMatrix.prototype.isOverlaps=function(i,r){return i==t.P&&r===t.P||i==t.A&&r===t.A?jsts.geom.IntersectionMatrix.matches(this.matrix[n.INTERIOR][n.INTERIOR],"T")&&jsts.geom.IntersectionMatrix.matches(this.matrix[n.INTERIOR][n.EXTERIOR],"T")&&jsts.geom.IntersectionMatrix.matches(this.matrix[n.EXTERIOR][n.INTERIOR],"T"):i===t.L&&r===t.L?1==this.matrix[n.INTERIOR][n.INTERIOR]&&jsts.geom.IntersectionMatrix.matches(this.matrix[n.INTERIOR][n.EXTERIOR],"T")&&jsts.geom.IntersectionMatrix.matches(this.matrix[n.EXTERIOR][n.INTERIOR],"T"):!1};jsts.geom.IntersectionMatrix.prototype.matches=function(n){var t,i;if(9!=n.length)throw new jsts.error.IllegalArgumentException("Should be length 9: "+n);for(t=0;3>t;t++)for(i=0;3>i;i++)if(!jsts.geom.IntersectionMatrix.matches(this.matrix[t][i],n.charAt(3*t+i)))return!1;return!0};jsts.geom.IntersectionMatrix.prototype.transpose=function(){var n=matrix[1][0];return this.matrix[1][0]=this.matrix[0][1],this.matrix[0][1]=n,n=this.matrix[2][0],this.matrix[2][0]=this.matrix[0][2],this.matrix[0][2]=n,n=this.matrix[2][1],this.matrix[2][1]=this.matrix[1][2],this.matrix[1][2]=n,this};jsts.geom.IntersectionMatrix.prototype.toString=function(){for(var i,r="",n=0;3>n;n++)for(i=0;3>i;i++)r+=t.toDimensionSymbol(this.matrix[n][i]);return r}}();jsts.triangulate.quadedge.LastFoundQuadEdgeLocator=function(n){this.subdiv=n;this.lastEdge=null;this.init()};jsts.triangulate.quadedge.LastFoundQuadEdgeLocator.prototype.init=function(){this.lastEdge=this.findEdge()};jsts.triangulate.quadedge.LastFoundQuadEdgeLocator.prototype.findEdge=function(){var n=this.subdiv.getEdges();return n[0]};jsts.triangulate.quadedge.LastFoundQuadEdgeLocator.prototype.locate=function(n){this.lastEdge.isLive()||this.init();var t=this.subdiv.locateFromEdge(n,this.lastEdge);return this.lastEdge=t,t};jsts.noding.SegmentNodeList=function(n){this.nodeMap=new javascript.util.TreeMap;this.edge=n};jsts.noding.SegmentNodeList.prototype.nodeMap=null;jsts.noding.SegmentNodeList.prototype.iterator=function(){return this.nodeMap.values().iterator()};jsts.noding.SegmentNodeList.prototype.edge=null;jsts.noding.SegmentNodeList.prototype.getEdge=function(){return this.edge};jsts.noding.SegmentNodeList.prototype.add=function(n,t){var i=new jsts.noding.SegmentNode(this.edge,n,t,this.edge.getSegmentOctant(t)),r=this.nodeMap.get(i);return null!==r?(jsts.util.Assert.isTrue(r.coord.equals2D(n),"Found equal nodes with different coordinates"),r):(this.nodeMap.put(i,i),i)};jsts.noding.SegmentNodeList.prototype.addEndpoints=function(){var n=this.edge.size()-1;this.add(this.edge.getCoordinate(0),0);this.add(this.edge.getCoordinate(n),n)};jsts.noding.SegmentNodeList.prototype.addCollapsedNodes=function(){var n=[],t,i;for(this.findCollapsesFromInsertedNodes(n),this.findCollapsesFromExistingVertices(n),t=0;t<n.length;t++)i=n[t],this.add(this.edge.getCoordinate(i),i)};jsts.noding.SegmentNodeList.prototype.findCollapsesFromExistingVertices=function(n){for(var i,r,t=0;t<this.edge.size()-2;t++)i=this.edge.getCoordinate(t),r=(this.edge.getCoordinate(t+1),this.edge.getCoordinate(t+2)),i.equals2D(r)&&n.push(t+1)};jsts.noding.SegmentNodeList.prototype.findCollapsesFromInsertedNodes=function(n){for(var i,f,r=[null],t=this.iterator(),u=t.next();t.hasNext();)i=t.next(),f=this.findCollapseIndex(u,i,r),f&&n.push(r[0]),u=i};jsts.noding.SegmentNodeList.prototype.findCollapseIndex=function(n,t,i){if(!n.coord.equals2D(t.coord))return!1;var r=t.segmentIndex-n.segmentIndex;return t.isInterior()||r--,1===r?(i[0]=n.segmentIndex+1,!0):!1};jsts.noding.SegmentNodeList.prototype.addSplitEdges=function(n){var t,i,r,u;for(this.addEndpoints(),this.addCollapsedNodes(),t=this.iterator(),i=t.next();t.hasNext();)r=t.next(),u=this.createSplitEdge(i,r),n.add(u),i=r};jsts.noding.SegmentNodeList.prototype.checkSplitEdgesCorrectness=function(n){var t=edge.getCoordinates(),f=n[0],i=f.getCoordinate(0);if(!i.equals2D(t[0]))throw new Error("bad split edge start point at "+i);var e=n[n.length-1],r=e.getCoordinates(),u=r[r.length-1];if(!u.equals2D(t[t.length-1]))throw new Error("bad split edge end point at "+u);};jsts.noding.SegmentNodeList.prototype.createSplitEdge=function(n,t){var e=t.segmentIndex-n.segmentIndex+2,o=this.edge.getCoordinate(t.segmentIndex),f=t.isInterior()||!t.coord.equals2D(o),i,r,u;for(f||e--,i=[],r=0,i[r++]=new jsts.geom.Coordinate(n.coord),u=n.segmentIndex+1;u<=t.segmentIndex;u++)i[r++]=this.edge.getCoordinate(u);return f&&(i[r]=t.coord),new jsts.noding.NodedSegmentString(i,this.edge.getData())};jsts.io.WKTWriter=function(){this.parser=new jsts.io.WKTParser(this.geometryFactory)};jsts.io.WKTWriter.prototype.write=function(n){return this.parser.write(n)};jsts.io.WKTWriter.toLineString=function(n,t){if(2!==arguments.length)throw new jsts.error.NotImplementedError;return"LINESTRING ( "+n.x+" "+n.y+", "+t.x+" "+t.y+" )"};jsts.io.WKTReader=function(n){this.geometryFactory=n||new jsts.geom.GeometryFactory;this.precisionModel=this.geometryFactory.getPrecisionModel();this.parser=new jsts.io.WKTParser(this.geometryFactory)};jsts.io.WKTReader.prototype.read=function(n){var t=this.parser.read(n);return this.precisionModel.getType()===jsts.geom.PrecisionModel.FIXED&&this.reducePrecision(t),t};jsts.io.WKTReader.prototype.reducePrecision=function(n){var t,i;if(n.coordinate)this.precisionModel.makePrecise(n.coordinate);else if(n.points)for(t=0,i=n.points.length;i>t;t++)this.precisionModel.makePrecise(n.points[t]);else if(n.geometries)for(t=0,i=n.geometries.length;i>t;t++)this.reducePrecision(n.geometries[t])};jsts.triangulate.quadedge.QuadEdgeSubdivision=function(n,t){this.tolerance=t;this.edgeCoincidenceTolerance=t/jsts.triangulate.quadedge.QuadEdgeSubdivision.EDGE_COINCIDENCE_TOL_FACTOR;this.visitedKey=0;this.quadEdges=[];this.startingEdge;this.tolerance;this.edgeCoincidenceTolerance;this.frameEnv;this.locator=null;this.seg=new jsts.geom.LineSegment;this.triEdges=new Array(3);this.frameVertex=new Array(3);this.createFrame(n);this.startingEdge=this.initSubdiv();this.locator=new jsts.triangulate.quadedge.LastFoundQuadEdgeLocator(this)};jsts.triangulate.quadedge.QuadEdgeSubdivision.EDGE_COINCIDENCE_TOL_FACTOR=1e3;jsts.triangulate.quadedge.QuadEdgeSubdivision.getTriangleEdges=function(n,t){if(t[0]=n,t[1]=t[0].lNext(),t[2]=t[1].lNext(),t[2].lNext()!=t[0])throw new jsts.IllegalArgumentError("Edges do not form a triangle");};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.createFrame=function(n){var i,r,t;i=n.getWidth();r=n.getHeight();t=0;t=i>r?10*i:10*r;this.frameVertex[0]=new jsts.triangulate.quadedge.Vertex((n.getMaxX()+n.getMinX())/2,n.getMaxY()+t);this.frameVertex[1]=new jsts.triangulate.quadedge.Vertex(n.getMinX()-t,n.getMinY()-t);this.frameVertex[2]=new jsts.triangulate.quadedge.Vertex(n.getMaxX()+t,n.getMinY()-t);this.frameEnv=new jsts.geom.Envelope(this.frameVertex[0].getCoordinate(),this.frameVertex[1].getCoordinate());this.frameEnv.expandToInclude(this.frameVertex[2].getCoordinate())};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.initSubdiv=function(){var n,t,i;return n=this.makeEdge(this.frameVertex[0],this.frameVertex[1]),t=this.makeEdge(this.frameVertex[1],this.frameVertex[2]),jsts.triangulate.quadedge.QuadEdge.splice(n.sym(),t),i=this.makeEdge(this.frameVertex[2],this.frameVertex[0]),jsts.triangulate.quadedge.QuadEdge.splice(t.sym(),i),jsts.triangulate.quadedge.QuadEdge.splice(i.sym(),n),n};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.getTolerance=function(){return this.tolerance};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.getEnvelope=function(){return new jsts.geom.Envelope(this.frameEnv)};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.getEdges=function(){return arguments.length>0?this.getEdgesByFactory(arguments[0]):this.quadEdges};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.setLocator=function(n){this.locator=n};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.makeEdge=function(n,t){var i=jsts.triangulate.quadedge.QuadEdge.makeEdge(n,t);return this.quadEdges.push(i),i};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.connect=function(n,t){var i=jsts.triangulate.quadedge.QuadEdge.connect(n,t);return this.quadEdges.push(i),i};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.delete_jsts=function(n){var u,i,r,t;jsts.triangulate.quadedge.QuadEdge.splice(n,n.oPrev());jsts.triangulate.quadedge.QuadEdge.splice(n.sym(),n.sym().oPrev());n.eSym=n.sym();i=n.rot;r=n.rot.sym();t=this.quadEdges.indexOf(n);-1!==t&&this.quadEdges.splice(t,1);t=this.quadEdges.indexOf(u);-1!==t&&this.quadEdges.splice(t,1);t=this.quadEdges.indexOf(i);-1!==t&&this.quadEdges.splice(t,1);t=this.quadEdges.indexOf(r);-1!==t&&this.quadEdges.splice(t,1);n.delete_jsts();u.delete_jsts();i.delete_jsts();r.delete_jsts()};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.locateFromEdge=function(n,t){for(var r=0,u=this.quadEdges.length,i=t;;){if(r++,r>u)throw new jsts.error.LocateFailureError(i.toLineSegment());if(n.equals(i.orig())||n.equals(i.dest()))break;if(n.rightOf(i))i=i.sym();else if(n.rightOf(i.oNext())){if(n.rightOf(i.dPrev()))break;i=i.dPrev()}else i=i.oNext()}return i};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.locate=function(){return 1===arguments.length?arguments[0]instanceof jsts.triangulate.quadedge.Vertex?this.locateByVertex(arguments[0]):this.locateByCoordinate(arguments[0]):this.locateByCoordinates(arguments[0],arguments[1])};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.locateByVertex=function(n){return this.locator.locate(n)};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.locateByCoordinate=function(n){return this.locator.locate(new jsts.triangulate.quadedge.Vertex(n))};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.locateByCoordinates=function(n,t){var r,i,u=this.locator.locate(new jsts.triangulate.quadedge.Vertex(n));if(null===u)return null;r=u;u.dest().getCoordinate().equals2D(n)&&(r=u.sym());i=r;do{if(i.dest().getCoordinate().equals2D(t))return i;i=i.oNext()}while(i!=r);return null};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.insertSite=function(n){var t,i,r;if(t=this.locate(n),n.equals(t.orig(),this.tolerance)||n.equals(t.dest(),this.tolerance))return t;i=this.makeEdge(t.orig(),n);jsts.triangulate.quadedge.QuadEdge.splice(i,t);r=i;do i=this.connect(t,i.sym()),t=i.oPrev();while(t.lNext()!=r);return r};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.isFrameEdge=function(n){return this.isFrameVertex(n.orig())||this.isFrameVertex(n.dest())?!0:!1};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.isFrameBorderEdge=function(n){var t,i,r,u;return t=new Array(3),this.getTriangleEdges(n,t),i=new Array(3),this.getTriangleEdges(n.sym(),i),r=n.lNext().dest(),this.isFrameVertex(r)?!0:(u=n.sym().lNext().dest(),this.isFrameVertex(u)?!0:!1)};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.isFrameVertex=function(n){return n.equals(this.frameVertex[0])?!0:n.equals(this.frameVertex[1])?!0:n.equals(this.frameVertex[2])?!0:!1};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.isOnEdge=function(n,t){this.seg.setCoordinates(n.orig().getCoordinate(),n.dest().getCoordinate());var i=this.seg.distance(t);return i<this.edgeCoincidenceTolerance};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.isVertexOfEdge=function(n,t){return t.equals(n.orig(),this.tolerance)||t.equals(n.dest(),this.tolerance)?!0:!1};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.getVertices=function(n){var t,e,i,r,u,f=[];for(t=0,e=this.quadEdges.length,t;e>t;t++)i=this.quadEdges[t],r=i.orig(),(n||!this.isFrameVertex(r))&&f.push(r),u=i.dest(),(n||!this.isFrameVertex(u))&&f.push(u);return f};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.getVertexUniqueEdges=function(n){var r,t,i,s,u,f,o,e;for(r=[],t=[],i=0,s=this.quadEdges.length,i;s>i;i++)u=this.quadEdges[i],f=u.orig(),-1===t.indexOf(f)&&(t.push(f),(n||!this.isFrameVertex(f))&&r.push(u)),o=u.sym(),e=o.orig(),-1===t.indexOf(e)&&(t.push(e),(n||!this.isFrameVertex(e))&&r.push(o));return r};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.getPrimaryEdges=function(n){this.visitedKey++;var u,i,r,t,f;for(u=[],i=[],i.push(this.startingEdge),r=[];i.length>0;)t=i.pop(),-1===r.indexOf(t)&&(f=t.getPrimary(),(n||!this.isFrameEdge(f))&&u.push(f),i.push(t.oNext()),i.push(t.sym().oNext()),r.push(t),r.push(t.sym()));return u};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.visitTriangles=function(n,t){this.visitedKey++;var i,r,u,f;for(i=[],i.push(this.startingEdge),r=[];i.length>0;)u=i.pop(),-1===r.indexOf(u)&&(f=this.fetchTriangleToVisit(u,i,t,r),null!==f&&n.visit(f))};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.fetchTriangleToVisit=function(n,t,i,r){var u,f,e,o;u=n;f=0;e=!1;do this.triEdges[f]=u,this.isFrameEdge(u)&&(e=!0),o=u.sym(),-1===r.indexOf(o)&&t.push(o),r.push(u),f++,u=u.lNext();while(u!==n);return e&&!i?null:this.triEdges};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.getTriangleEdges=function(n){var t=new jsts.triangulate.quadedge.TriangleEdgesListVisitor;return this.visitTriangles(t,n),t.getTriangleEdges()};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.getTriangleVertices=function(n){var t=new TriangleVertexListVisitor;return this.visitTriangles(t,n),t.getTriangleVertices()};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.getTriangleCoordinates=function(n){var t=new jsts.triangulate.quadedge.TriangleCoordinatesVisitor;return this.visitTriangles(t,n),t.getTriangles()};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.getEdgesByFactory=function(n){var r,u,t,e,f,i;for(r=this.getPrimaryEdges(!1),u=[],t=0,e=r.length,t;e>t;t++)f=r[t],i=[],i[0]=f.orig().getCoordinate(),i[1]=f.dest().getCoordinate(),u[t]=n.createLineString(i);return n.createMultiLineString(u)};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.getTriangles=function(n){var i,r,u,t,f;for(i=this.getTriangleCoordinates(!1),r=new Array(i.length),t=0,f=i.length,t;f>t;t++)u=i[t],r[t]=n.createPolygon(n.createLinearRing(u,null));return n.createGeometryCollection(r)};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.getVoronoiDiagram=function(n){var t=this.getVoronoiCellPolygons(n);return n.createGeometryCollection(t)};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.getVoronoiCellPolygons=function(n){this.visitTriangles(new jsts.triangulate.quadedge.TriangleCircumcentreVisitor,!0);var i,r,t,u,f;for(i=[],r=this.getVertexUniqueEdges(!1),t=0,u=r.length,t;u>t;t++)f=r[t],i.push(this.getVoronoiCellPolygon(f,n));return i};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.getVoronoiCellPolygon=function(n,t){var r,u,i,f,e;r=[];startQE=n;do u=n.rot.orig().getCoordinate(),r.push(u),n=n.oPrev();while(n!==startQE);return i=new jsts.geom.CoordinateList([],!1),i.add(r,!1),i.closeRing(),i.size()<4&&i.add(i.get(i.size()-1),!0),f=t.createPolygon(t.createLinearRing(i.toArray()),null),e=startQE.orig(),f};jsts.triangulate.quadedge.TriangleCircumcentreVisitor=function(){};jsts.triangulate.quadedge.TriangleCircumcentreVisitor.prototype.visit=function(n){var i,r,u,f,e,t;for(i=n[0].orig().getCoordinate(),r=n[1].orig().getCoordinate(),u=n[2].orig().getCoordinate(),f=jsts.geom.Triangle.circumcentre(i,r,u),e=new jsts.triangulate.quadedge.Vertex(f),t=0;3>t;t++)n[t].rot.setOrig(e)};jsts.triangulate.quadedge.TriangleEdgesListVisitor=function(){this.triList=[]};jsts.triangulate.quadedge.TriangleEdgesListVisitor.prototype.visit=function(n){var t=n.concat();this.triList.push(t)};jsts.triangulate.quadedge.TriangleEdgesListVisitor.prototype.getTriangleEdges=function(){return this.triList};jsts.triangulate.quadedge.TriangleVertexListVisitor=function(){this.triList=[]};jsts.triangulate.quadedge.TriangleVertexListVisitor.prototype.visit=function(){var n=[];n.push(trieEdges[0].orig());n.push(trieEdges[1].orig());n.push(trieEdges[2].orig());this.triList.push(n)};jsts.triangulate.quadedge.TriangleVertexListVisitor.prototype.getTriangleVertices=function(){return this.triList};jsts.triangulate.quadedge.TriangleCoordinatesVisitor=function(){this.coordList=new jsts.geom.CoordinateList([],!1);this.triCoords=[]};jsts.triangulate.quadedge.TriangleCoordinatesVisitor.prototype.visit=function(n){this.coordList=new jsts.geom.CoordinateList([],!1);var r,i,t=0;for(t;3>t;t++)r=n[t].orig(),this.coordList.add(r.getCoordinate());if(this.coordList.size()>0){if(this.coordList.closeRing(),i=this.coordList.toArray(),4!==i.length)return;this.triCoords.push(i)}};jsts.triangulate.quadedge.TriangleCoordinatesVisitor.prototype.getTriangles=function(){return this.triCoords};jsts.operation.relate.EdgeEndBundle=function(){this.edgeEnds=[];var n=arguments[0]instanceof jsts.geomgraph.EdgeEnd?arguments[0]:arguments[1],t=n.getEdge(),i=n.getCoordinate(),r=n.getDirectedCoordinate(),u=new jsts.geomgraph.Label(n.getLabel());jsts.geomgraph.EdgeEnd.call(this,t,i,r,u);this.insert(n)};jsts.operation.relate.EdgeEndBundle.prototype=new jsts.geomgraph.EdgeEnd;jsts.operation.relate.EdgeEndBundle.prototype.edgeEnds=null;jsts.operation.relate.EdgeEndBundle.prototype.getLabel=function(){return this.label};jsts.operation.relate.EdgeEndBundle.prototype.getEdgeEnds=function(){return this.edgeEnds};jsts.operation.relate.EdgeEndBundle.prototype.insert=function(n){this.edgeEnds.push(n)};jsts.operation.relate.EdgeEndBundle.prototype.computeLabel=function(n){for(var r,i=!1,t=0;t<this.edgeEnds.length;t++)r=this.edgeEnds[t],r.getLabel().isArea()&&(i=!0);for(this.label=i?new jsts.geomgraph.Label(jsts.geom.Location.NONE,jsts.geom.Location.NONE,jsts.geom.Location.NONE):new jsts.geomgraph.Label(jsts.geom.Location.NONE),t=0;2>t;t++)this.computeLabelOn(t,n),i&&this.computeLabelSides(t)};jsts.operation.relate.EdgeEndBundle.prototype.computeLabelOn=function(n,t){for(var e,i,r=0,f=!1,u=0;u<this.edgeEnds.length;u++)e=this.edgeEnds[u],i=e.getLabel().getLocation(n),i==jsts.geom.Location.BOUNDARY&&r++,i==jsts.geom.Location.INTERIOR&&(f=!0);i=jsts.geom.Location.NONE;f&&(i=jsts.geom.Location.INTERIOR);r>0&&(i=jsts.geomgraph.GeometryGraph.determineBoundary(t,r));this.label.setLocation(n,i)};jsts.operation.relate.EdgeEndBundle.prototype.computeLabelSides=function(n){this.computeLabelSide(n,jsts.geomgraph.Position.LEFT);this.computeLabelSide(n,jsts.geomgraph.Position.RIGHT)};jsts.operation.relate.EdgeEndBundle.prototype.computeLabelSide=function(n,t){for(var r,u,i=0;i<this.edgeEnds.length;i++)if(r=this.edgeEnds[i],r.getLabel().isArea()){if(u=r.getLabel().getLocation(n,t),u===jsts.geom.Location.INTERIOR)return void this.label.setLocation(n,t,jsts.geom.Location.INTERIOR);u===jsts.geom.Location.EXTERIOR&&this.label.setLocation(n,t,jsts.geom.Location.EXTERIOR)}};jsts.operation.relate.EdgeEndBundle.prototype.updateIM=function(n){jsts.geomgraph.Edge.updateIM(this.label,n)};jsts.index.kdtree.KdTree=function(n){var t=0;void 0!==n&&(t=n);this.root=null;this.last=null;this.numberOfNodes=0;this.tolerance=t};jsts.index.kdtree.KdTree.prototype.insert=function(){return 1===arguments.length?this.insertCoordinate.apply(this,arguments[0]):this.insertWithData.apply(this,arguments[0],arguments[1])};jsts.index.kdtree.KdTree.prototype.insertCoordinate=function(n){return this.insertWithData(n,null)};jsts.index.kdtree.KdTree.prototype.insertWithData=function(n,t){var o,r;if(null===this.root)return this.root=new jsts.index.kdtree.KdNode(n,t),this.root;for(var i=this.root,u=this.root,f=!0,e=!0;i!==last;){if((e=f?n.x<i.getX():n.y<i.getY(),u=i,i=e?i.getLeft():i.getRight(),null!==i)&&(o=n.distance(i.getCoordinate())<=this.tolerance,o))return i.increment(),i;f=!f}return this.numberOfNodes=numberOfNodes+1,r=new jsts.index.kdtree.KdNode(n,t),r.setLeft(this.last),r.setRight(this.last),e?u.setLeft(r):u.setRight(r),r};jsts.index.kdtree.KdTree.prototype.queryNode=function(n,t,i,r,u){var e,o,f,s,h;n!==t&&(r?(e=i.getMinX(),o=i.getMaxX(),f=n.getX()):(e=i.getMinY(),o=i.getMaxY(),f=n.getY()),s=f>e,h=o>=f,s&&this.queryNode(n.getLeft(),t,i,!r,u),i.contains(n.getCoordinate())&&u.add(n),h&&this.queryNode(n.getRight(),t,i,!r,u))};jsts.index.kdtree.KdTree.prototype.query=function(){return 1===arguments.length?this.queryByEnvelope.apply(this,arguments[0]):this.queryWithArray.apply(this,arguments[0],arguments[1])};jsts.index.kdtree.KdTree.prototype.queryByEnvelope=function(n){var t=[];return this.queryNode(this.root,this.last,n,!0,t),t};jsts.index.kdtree.KdTree.prototype.queryWithArray=function(n,t){this.queryNode(this.root,this.last,n,!0,t)};jsts.geom.Triangle=function(n,t,i){this.p0=n;this.p1=t;this.p2=i};jsts.geom.Triangle.isAcute=function(n,t,i){return jsts.algorithm.Angle.isAcute(n,t,i)&&jsts.algorithm.Angle.isAcute(t,i,n)&&jsts.algorithm.Angle.isAcute(i,n,t)?!0:!1};jsts.geom.Triangle.perpendicularBisector=function(n,t){var i,r,u,f;return i=t.x-n.x,r=t.y-n.y,u=new jsts.algorithm.HCoordinate(n.x+i/2,n.y+r/2,1),f=new jsts.algorithm.HCoordinate(n.x-r+i/2,n.y+i+r/2,1),new jsts.algorithm.HCoordinate(u,f)};jsts.geom.Triangle.circumcentre=function(n,t,i){var o,s,r,u,f,e,h,c,l,a,v;return o=i.x,s=i.y,r=n.x-o,u=n.y-s,f=t.x-o,e=t.y-s,h=2*jsts.geom.Triangle.det(r,u,f,e),c=jsts.geom.Triangle.det(u,r*r+u*u,e,f*f+e*e),l=jsts.geom.Triangle.det(r,r*r+u*u,f,f*f+e*e),a=o-c/h,v=s+l/h,new jsts.geom.Coordinate(a,v)};jsts.geom.Triangle.det=function(n,t,i,r){return n*r-t*i};jsts.geom.Triangle.inCentre=function(n,t,i){var r,u,f,e,o,s;return r=t.distance(i),u=n.distance(i),f=n.distance(t),e=r+u+f,o=(r*n.x+u*t.x+f*i.x)/e,s=(r*n.y+u*t.y+f*i.y)/e,new jsts.geom.Coordinate(o,s)};jsts.geom.Triangle.centroid=function(n,t,i){var r,u;return r=(n.x+t.x+i.x)/3,u=(n.y+t.y+i.y)/3,new jsts.geom.Coordinate(r,u)};jsts.geom.Triangle.longestSideLength=function(n,t,i){var e,u,f,r;return e=n.distance(t),u=t.distance(i),f=i.distance(n),r=e,u>r&&(r=u),f>r&&(r=f),r};jsts.geom.Triangle.angleBisector=function(n,t,i){var r,f,u,e,o,s;return r=t.distance(n),f=t.distance(i),u=r/(r+f),e=i.x-n.x,o=i.y-n.y,s=new jsts.geom.Coordinate(n.x+u*e,n.y+u*o)};jsts.geom.Triangle.area=function(n,t,i){return Math.abs(((i.x-n.x)*(t.y-n.y)-(t.x-n.x)*(i.y-n.y))/2)};jsts.geom.Triangle.signedArea=function(n,t,i){return((i.x-n.x)*(t.y-n.y)-(t.x-n.x)*(i.y-n.y))/2};jsts.geom.Triangle.prototype.inCentre=function(){return jsts.geom.Triangle.inCentre(this.p0,this.p1,this.p2)};jsts.noding.OrientedCoordinateArray=function(n){this.pts=n;this._orientation=jsts.noding.OrientedCoordinateArray.orientation(n)};jsts.noding.OrientedCoordinateArray.prototype.pts=null;jsts.noding.OrientedCoordinateArray.prototype._orientation=void 0;jsts.noding.OrientedCoordinateArray.orientation=function(n){return 1===jsts.geom.CoordinateArrays.increasingDirection(n)};jsts.noding.OrientedCoordinateArray.prototype.compareTo=function(n){var t=n;return jsts.noding.OrientedCoordinateArray.compareOriented(this.pts,this._orientation,t.pts,t._orientation)};jsts.noding.OrientedCoordinateArray.compareOriented=function(n,t,i,r){for(var s,u,f,h=t?1:-1,c=r?1:-1,l=t?n.length:-1,a=r?i.length:-1,e=t?0:n.length-1,o=r?0:i.length-1;;){if(s=n[e].compareTo(i[o]),0!==s)return s;if(e+=h,o+=c,u=e===l,f=o===a,u&&!f)return-1;if(!u&&f)return 1;if(u&&f)return 0}};jsts.algorithm.CentralEndpointIntersector=function(n,t,i,r){this.pts=[n,t,i,r];this.compute()};jsts.algorithm.CentralEndpointIntersector.getIntersection=function(n,t,i,r){var u=new jsts.algorithm.CentralEndpointIntersector(n,t,i,r);return u.getIntersection()};jsts.algorithm.CentralEndpointIntersector.prototype.pts=null;jsts.algorithm.CentralEndpointIntersector.prototype.intPt=null;jsts.algorithm.CentralEndpointIntersector.prototype.compute=function(){var n=jsts.algorithm.CentralEndpointIntersector.average(this.pts);this.intPt=this.findNearestPoint(n,this.pts)};jsts.algorithm.CentralEndpointIntersector.prototype.getIntersection=function(){return this.intPt};jsts.algorithm.CentralEndpointIntersector.average=function(n){for(var i=new jsts.geom.Coordinate,r=n.length,t=0;r>t;t++)i.x+=n[t].x,i.y+=n[t].y;return r>0&&(i.x/=r,i.y/=r),i};jsts.algorithm.CentralEndpointIntersector.prototype.findNearestPoint=function(n,t){for(var r,u=Number.MAX_VALUE,f=null,i=0;i<t.length;i++)r=n.distance(t[i]),u>r&&(u=r,f=t[i]);return f};jsts.operation.buffer.BufferOp=function(n,t){this.argGeom=n;this.bufParams=t?t:new jsts.operation.buffer.BufferParameters};jsts.operation.buffer.BufferOp.MAX_PRECISION_DIGITS=12;jsts.operation.buffer.BufferOp.precisionScaleFactor=function(n,t,i){var r=n.getEnvelopeInternal(),u=Math.max(r.getHeight(),r.getWidth()),f=t>0?t:0,e=u+2*f,o=Math.log(e)/Math.log(10)+1,s=o-i;return Math.pow(10,-s)};jsts.operation.buffer.BufferOp.bufferOp=function(n,t){if(arguments.length>2)return jsts.operation.buffer.BufferOp.bufferOp2.apply(this,arguments);var i=new jsts.operation.buffer.BufferOp(n);return i.getResultGeometry(t)};jsts.operation.buffer.BufferOp.bufferOp2=function(n,t,i){if(arguments.length>3)return jsts.operation.buffer.BufferOp.bufferOp3.apply(this,arguments);var r=new jsts.operation.buffer.BufferOp(n,i);return r.getResultGeometry(t)};jsts.operation.buffer.BufferOp.bufferOp3=function(n,t,i){var r;return arguments.length>4?jsts.operation.buffer.BufferOp.bufferOp4.apply(this,arguments):(r=new jsts.operation.buffer.BufferOp(n),r.setQuadrantSegments(i),r.getResultGeometry(t))};jsts.operation.buffer.BufferOp.bufferOp4=function(n,t,i,r){var u=new jsts.operation.buffer.BufferOp(n);return u.setQuadrantSegments(i),u.setEndCapStyle(r),u.getResultGeometry(t)};jsts.operation.buffer.BufferOp.prototype.argGeom=null;jsts.operation.buffer.BufferOp.prototype.distance=null;jsts.operation.buffer.BufferOp.prototype.bufParams=null;jsts.operation.buffer.BufferOp.prototype.resultGeometry=null;jsts.operation.buffer.BufferOp.prototype.setEndCapStyle=function(n){this.bufParams.setEndCapStyle(n)};jsts.operation.buffer.BufferOp.prototype.setQuadrantSegments=function(n){this.bufParams.setQuadrantSegments(n)};jsts.operation.buffer.BufferOp.prototype.getResultGeometry=function(n){return this.distance=n,this.computeGeometry(),this.resultGeometry};jsts.operation.buffer.BufferOp.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null===this.resultGeometry){var n=this.argGeom.getPrecisionModel();n.getType()===jsts.geom.PrecisionModel.FIXED?this.bufferFixedPrecision(n):this.bufferReducedPrecision()}};jsts.operation.buffer.BufferOp.prototype.bufferReducedPrecision=function(){for(var t=null,n=jsts.operation.buffer.BufferOp.MAX_PRECISION_DIGITS;n>=0;n--){try{this.bufferReducedPrecision2(n)}catch(i){t=i}if(null!==this.resultGeometry)return}throw t;};jsts.operation.buffer.BufferOp.prototype.bufferOriginalPrecision=function(){try{var n=new jsts.operation.buffer.BufferBuilder(this.bufParams);this.resultGeometry=n.buffer(this.argGeom,this.distance)}catch(t){}};jsts.operation.buffer.BufferOp.prototype.bufferReducedPrecision2=function(n){var t=jsts.operation.buffer.BufferOp.precisionScaleFactor(this.argGeom,this.distance,n),i=new jsts.geom.PrecisionModel(t);this.bufferFixedPrecision(i)};jsts.operation.buffer.BufferOp.prototype.bufferFixedPrecision=function(n){var i=new jsts.noding.ScaledNoder(new jsts.noding.snapround.MCIndexSnapRounder(new jsts.geom.PrecisionModel(1)),n.getScale()),t=new jsts.operation.buffer.BufferBuilder(this.bufParams);t.setWorkingPrecisionModel(n);t.setNoder(i);this.resultGeometry=t.buffer(this.argGeom,this.distance)},function(){var n=jsts.geom.Location,t=jsts.geomgraph.Position,i=jsts.util.Assert;jsts.geomgraph.GeometryGraph=function(n,t,i){jsts.geomgraph.PlanarGraph.call(this);this.lineEdgeMap=new javascript.util.HashMap;this.ptLocator=new jsts.algorithm.PointLocator;this.argIndex=n;this.parentGeom=t;this.boundaryNodeRule=i||jsts.algorithm.BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE;null!==t&&this.add(t)};jsts.geomgraph.GeometryGraph.prototype=new jsts.geomgraph.PlanarGraph;jsts.geomgraph.GeometryGraph.constructor=jsts.geomgraph.GeometryGraph;jsts.geomgraph.GeometryGraph.prototype.createEdgeSetIntersector=function(){return new jsts.geomgraph.index.SimpleMCSweepLineIntersector};jsts.geomgraph.GeometryGraph.determineBoundary=function(t,i){return t.isInBoundary(i)?n.BOUNDARY:n.INTERIOR};jsts.geomgraph.GeometryGraph.prototype.parentGeom=null;jsts.geomgraph.GeometryGraph.prototype.lineEdgeMap=null;jsts.geomgraph.GeometryGraph.prototype.boundaryNodeRule=null;jsts.geomgraph.GeometryGraph.prototype.useBoundaryDeterminationRule=!0;jsts.geomgraph.GeometryGraph.prototype.argIndex=null;jsts.geomgraph.GeometryGraph.prototype.boundaryNodes=null;jsts.geomgraph.GeometryGraph.prototype.hasTooFewPoints=!1;jsts.geomgraph.GeometryGraph.prototype.invalidPoint=null;jsts.geomgraph.GeometryGraph.prototype.areaPtLocator=null;jsts.geomgraph.GeometryGraph.prototype.ptLocator=null;jsts.geomgraph.GeometryGraph.prototype.getGeometry=function(){return this.parentGeom};jsts.geomgraph.GeometryGraph.prototype.getBoundaryNodes=function(){return null===this.boundaryNodes&&(this.boundaryNodes=this.nodes.getBoundaryNodes(this.argIndex)),this.boundaryNodes};jsts.geomgraph.GeometryGraph.prototype.getBoundaryNodeRule=function(){return this.boundaryNodeRule};jsts.geomgraph.GeometryGraph.prototype.findEdge=function(n){return this.lineEdgeMap.get(n)};jsts.geomgraph.GeometryGraph.prototype.computeSplitEdges=function(n){for(var i,t=this.edges.iterator();t.hasNext();)i=t.next(),i.eiList.addSplitEdges(n)};jsts.geomgraph.GeometryGraph.prototype.add=function(n){if(!n.isEmpty())if(n instanceof jsts.geom.MultiPolygon&&(this.useBoundaryDeterminationRule=!1),n instanceof jsts.geom.Polygon)this.addPolygon(n);else if(n instanceof jsts.geom.LineString)this.addLineString(n);else if(n instanceof jsts.geom.Point)this.addPoint(n);else if(n instanceof jsts.geom.MultiPoint)this.addCollection(n);else if(n instanceof jsts.geom.MultiLineString)this.addCollection(n);else if(n instanceof jsts.geom.MultiPolygon)this.addCollection(n);else{if(!(n instanceof jsts.geom.GeometryCollection))throw new jsts.error.IllegalArgumentError("Geometry type not supported.");this.addCollection(n)}};jsts.geomgraph.GeometryGraph.prototype.addCollection=function(n){for(var i,t=0;t<n.getNumGeometries();t++)i=n.getGeometryN(t),this.add(i)};jsts.geomgraph.GeometryGraph.prototype.addEdge=function(t){this.insertEdge(t);var i=t.getCoordinates();this.insertPoint(this.argIndex,i[0],n.BOUNDARY);this.insertPoint(this.argIndex,i[i.length-1],n.BOUNDARY)};jsts.geomgraph.GeometryGraph.prototype.addPoint=function(t){var i=t.getCoordinate();this.insertPoint(this.argIndex,i,n.INTERIOR)};jsts.geomgraph.GeometryGraph.prototype.addLineString=function(t){var r=jsts.geom.CoordinateArrays.removeRepeatedPoints(t.getCoordinates()),u;if(r.length<2)return this.hasTooFewPoints=!0,void(this.invalidPoint=coords[0]);u=new jsts.geomgraph.Edge(r,new jsts.geomgraph.Label(this.argIndex,n.INTERIOR));this.lineEdgeMap.put(t,u);this.insertEdge(u);i.isTrue(r.length>=2,"found LineString with single point");this.insertBoundaryPoint(this.argIndex,r[0]);this.insertBoundaryPoint(this.argIndex,r[r.length-1])};jsts.geomgraph.GeometryGraph.prototype.addPolygonRing=function(t,i,r){var u,f,e,o;if(!t.isEmpty()){if(u=jsts.geom.CoordinateArrays.removeRepeatedPoints(t.getCoordinates()),u.length<4)return this.hasTooFewPoints=!0,void(this.invalidPoint=u[0]);f=i;e=r;jsts.algorithm.CGAlgorithms.isCCW(u)&&(f=r,e=i);o=new jsts.geomgraph.Edge(u,new jsts.geomgraph.Label(this.argIndex,n.BOUNDARY,f,e));this.lineEdgeMap.put(t,o);this.insertEdge(o);this.insertPoint(this.argIndex,u[0],n.BOUNDARY)}};jsts.geomgraph.GeometryGraph.prototype.addPolygon=function(t){var i,r;for(this.addPolygonRing(t.getExteriorRing(),n.EXTERIOR,n.INTERIOR),i=0;i<t.getNumInteriorRing();i++)r=t.getInteriorRingN(i),this.addPolygonRing(r,n.INTERIOR,n.EXTERIOR)};jsts.geomgraph.GeometryGraph.prototype.computeEdgeIntersections=function(n,t,i){var r=new jsts.geomgraph.index.SegmentIntersector(t,i,!0),u;return r.setBoundaryNodes(this.getBoundaryNodes(),n.getBoundaryNodes()),u=this.createEdgeSetIntersector(),u.computeIntersections(this.edges,n.edges,r),r};jsts.geomgraph.GeometryGraph.prototype.computeSelfNodes=function(n,t){var i=new jsts.geomgraph.index.SegmentIntersector(n,!0,!1),r=this.createEdgeSetIntersector();return!t&&(this.parentGeom instanceof jsts.geom.LinearRing||this.parentGeom instanceof jsts.geom.Polygon||this.parentGeom instanceof jsts.geom.MultiPolygon)?r.computeIntersections(this.edges,i,!1):r.computeIntersections(this.edges,i,!0),this.addSelfIntersectionNodes(this.argIndex),i};jsts.geomgraph.GeometryGraph.prototype.insertPoint=function(n,t,i){var r=this.nodes.addNode(t),u=r.getLabel();null==u?r.label=new jsts.geomgraph.Label(n,i):u.setLocation(n,i)};jsts.geomgraph.GeometryGraph.prototype.insertBoundaryPoint=function(i,r){var s=this.nodes.addNode(r),u=s.getLabel(),f=1,e=n.NONE,o;null!==u&&(e=u.getLocation(i,t.ON));e===n.BOUNDARY&&f++;o=jsts.geomgraph.GeometryGraph.determineBoundary(this.boundaryNodeRule,f);u.setLocation(i,o)};jsts.geomgraph.GeometryGraph.prototype.addSelfIntersectionNodes=function(n){for(var u,t=this.edges.iterator();t.hasNext();)for(var i=t.next(),f=i.getLabel().getLocation(n),r=i.eiList.iterator();r.hasNext();)u=r.next(),this.addSelfIntersectionNode(n,u.coord,f)};jsts.geomgraph.GeometryGraph.prototype.addSelfIntersectionNode=function(t,i,r){this.isBoundaryNode(t,i)||(r===n.BOUNDARY&&this.useBoundaryDeterminationRule?this.insertBoundaryPoint(t,i):this.insertPoint(t,i,r))};jsts.geomgraph.GeometryGraph.prototype.getInvalidPoint=function(){return this.invalidPoint}}();jsts.operation.buffer.OffsetSegmentString=function(){this.ptList=[]};jsts.operation.buffer.OffsetSegmentString.prototype.ptList=null;jsts.operation.buffer.OffsetSegmentString.prototype.precisionModel=null;jsts.operation.buffer.OffsetSegmentString.prototype.minimimVertexDistance=0;jsts.operation.buffer.OffsetSegmentString.prototype.setPrecisionModel=function(n){this.precisionModel=n};jsts.operation.buffer.OffsetSegmentString.prototype.setMinimumVertexDistance=function(n){this.minimimVertexDistance=n};jsts.operation.buffer.OffsetSegmentString.prototype.addPt=function(n){var t=new jsts.geom.Coordinate(n);this.precisionModel.makePrecise(t);this.isRedundant(t)||this.ptList.push(t)};jsts.operation.buffer.OffsetSegmentString.prototype.addPts=function(n,t){var i;if(t)for(i=0;i<n.length;i++)this.addPt(n[i]);else for(i=n.length-1;i>=0;i--)this.addPt(n[i])};jsts.operation.buffer.OffsetSegmentString.prototype.isRedundant=function(n){if(this.ptList.length<1)return!1;var t=this.ptList[this.ptList.length-1],i=n.distance(t);return i<this.minimimVertexDistance?!0:!1};jsts.operation.buffer.OffsetSegmentString.prototype.closeRing=function(){if(!(this.ptList.length<1)){var n=new jsts.geom.Coordinate(this.ptList[0]),t=this.ptList[this.ptList.length-1],i=null;this.ptList.length>=2&&(i=this.ptList[this.ptList.length-2]);n.equals(t)||this.ptList.push(n)}};jsts.operation.buffer.OffsetSegmentString.prototype.reverse=function(){};jsts.operation.buffer.OffsetSegmentString.prototype.getCoordinates=function(){return this.ptList};jsts.algorithm.distance.PointPairDistance=function(){this.pt=[new jsts.geom.Coordinate,new jsts.geom.Coordinate]};jsts.algorithm.distance.PointPairDistance.prototype.pt=null;jsts.algorithm.distance.PointPairDistance.prototype.distance=NaN;jsts.algorithm.distance.PointPairDistance.prototype.isNull=!0;jsts.algorithm.distance.PointPairDistance.prototype.initialize=function(n,t,i){return void 0===n?void(this.isNull=!0):(this.pt[0].setCoordinate(n),this.pt[1].setCoordinate(t),this.distance=void 0!==i?i:n.distance(t),void(this.isNull=!1))};jsts.algorithm.distance.PointPairDistance.prototype.getDistance=function(){return this.distance};jsts.algorithm.distance.PointPairDistance.prototype.getCoordinates=function(){return this.pt};jsts.algorithm.distance.PointPairDistance.prototype.getCoordinate=function(n){return this.pt[n]};jsts.algorithm.distance.PointPairDistance.prototype.setMaximum=function(n){return 2===arguments.length?void this.setMaximum2.apply(this,arguments):void this.setMaximum(n.pt[0],n.pt[1])};jsts.algorithm.distance.PointPairDistance.prototype.setMaximum2=function(n,t){if(this.isNull)return void this.initialize(n,t);var i=n.distance(t);i>this.distance&&this.initialize(n,t,i)};jsts.algorithm.distance.PointPairDistance.prototype.setMinimum=function(n){return 2===arguments.length?void this.setMinimum2.apply(this,arguments):void this.setMinimum(n.pt[0],n.pt[1])};jsts.algorithm.distance.PointPairDistance.prototype.setMinimum2=function(n,t){if(this.isNull)return void this.initialize(n,t);var i=n.distance(t);i<this.distance&&this.initialize(n,t,i)},function(){var t=jsts.algorithm.distance.PointPairDistance,r=jsts.algorithm.distance.DistanceToPoint,i=function(n){this.maxPtDist=new t;this.minPtDist=new t;this.euclideanDist=new r;this.geom=n},n;i.prototype=new jsts.geom.CoordinateFilter;i.prototype.maxPtDist=new t;i.prototype.minPtDist=new t;i.prototype.euclideanDist=new r;i.prototype.geom;i.prototype.filter=function(n){this.minPtDist.initialize();r.computeDistance(this.geom,n,this.minPtDist);this.maxPtDist.setMaximum(this.minPtDist)};i.prototype.getMaxPointDistance=function(){return this.maxPtDist};n=function(n,i){this.maxPtDist=new t;this.minPtDist=new t;this.geom=n;this.numSubSegs=Math.round(1/i)};n.prototype=new jsts.geom.CoordinateSequenceFilter;n.prototype.maxPtDist=new t;n.prototype.minPtDist=new t;n.prototype.geom;n.prototype.numSubSegs=0;n.prototype.filter=function(n,t){if(0!=t)for(var i=n[t-1],f=n[t],e=(f.x-i.x)/this.numSubSegs,o=(f.y-i.y)/this.numSubSegs,u=0;u<this.numSubSegs;u++){var s=i.x+u*e,h=i.y+u*o,c=new jsts.geom.Coordinate(s,h);this.minPtDist.initialize();r.computeDistance(this.geom,c,this.minPtDist);this.maxPtDist.setMaximum(this.minPtDist)}};n.prototype.isGeometryChanged=function(){return!1};n.prototype.isDone=function(){return!1};n.prototype.getMaxPointDistance=function(){return this.maxPtDist};jsts.algorithm.distance.DiscreteHausdorffDistance=function(n,t){this.g0=n;this.g1=t;this.ptDist=new jsts.algorithm.distance.PointPairDistance};jsts.algorithm.distance.DiscreteHausdorffDistance.prototype.g0=null;jsts.algorithm.distance.DiscreteHausdorffDistance.prototype.g1=null;jsts.algorithm.distance.DiscreteHausdorffDistance.prototype.ptDist=null;jsts.algorithm.distance.DiscreteHausdorffDistance.prototype.densifyFrac=0;jsts.algorithm.distance.DiscreteHausdorffDistance.distance=function(n,t,i){var r=new jsts.algorithm.distance.DiscreteHausdorffDistance(n,t);return void 0!==i&&r.setDensifyFraction(i),r.distance()};jsts.algorithm.distance.DiscreteHausdorffDistance.prototype.setDensifyFraction=function(n){if(n>1||0>=n)throw new jsts.error.IllegalArgumentError("Fraction is not in range (0.0 - 1.0]");this.densifyFrac=n};jsts.algorithm.distance.DiscreteHausdorffDistance.prototype.distance=function(){return this.compute(this.g0,this.g1),ptDist.getDistance()};jsts.algorithm.distance.DiscreteHausdorffDistance.prototype.orientedDistance=function(){return this.computeOrientedDistance(this.g0,this.g1,this.ptDist),this.ptDist.getDistance()};jsts.algorithm.distance.DiscreteHausdorffDistance.prototype.getCoordinates=function(){return ptDist.getCoordinates()};jsts.algorithm.distance.DiscreteHausdorffDistance.prototype.compute=function(n,t){this.computeOrientedDistance(n,t,this.ptDist);this.computeOrientedDistance(t,n,this.ptDist)};jsts.algorithm.distance.DiscreteHausdorffDistance.prototype.computeOrientedDistance=function(t,r,u){var e=new i(r),f;(t.apply(e),u.setMaximum(e.getMaxPointDistance()),this.densifyFrac>0)&&(f=new n(r,this.densifyFrac),t.apply(f),u.setMaximum(f.getMaxPointDistance()))}}();jsts.algorithm.MinimumBoundingCircle=function(n){this.input=null;this.extremalPts=null;this.centre=null;this.radius=0;this.input=n};jsts.algorithm.MinimumBoundingCircle.prototype.getCircle=function(){if(this.compute(),null===this.centre)return this.input.getFactory().createPolygon(null,null);var n=this.input.getFactory().createPoint(this.centre);return 0===this.radius?n:n.buffer(this.radius)};jsts.algorithm.MinimumBoundingCircle.prototype.getExtremalPoints=function(){return this.compute(),this.extremalPts};jsts.algorithm.MinimumBoundingCircle.prototype.getCentre=function(){return this.compute(),this.centre};jsts.algorithm.MinimumBoundingCircle.prototype.getRadius=function(){return this.compute(),this.radius};jsts.algorithm.MinimumBoundingCircle.prototype.computeCentre=function(){switch(this.extremalPts.length){case 0:this.centre=null;break;case 1:this.centre=this.extremalPts[0];break;case 2:this.centre=new jsts.geom.Coordinate((this.extremalPts[0].x+this.extremalPts[1].x)/2,(this.extremalPts[0].y+this.extremalPts[1].y)/2);break;case 3:this.centre=jsts.geom.Triangle.circumcentre(this.extremalPts[0],this.extremalPts[1],this.extremalPts[2])}};jsts.algorithm.MinimumBoundingCircle.prototype.compute=function(){null===this.extremalPts&&(this.computeCirclePoints(),this.computeCentre(),null!==this.centre&&(this.radius=this.centre.distance(this.extremalPts[0])))};jsts.algorithm.MinimumBoundingCircle.prototype.computeCirclePoints=function(){var n,f,i,u;if(this.input.isEmpty())return void(this.extremalPts=[]);if(1===this.input.getNumPoints())return n=this.input.getCoordinates(),void(this.extremalPts=[new jsts.geom.Coordinate(n[0])]);if(f=this.input.convexHull(),i=f.getCoordinates(),n=i,i[0].equals2D(i[i.length-1])&&(n=[],jsts.geom.CoordinateArrays.copyDeep(i,0,n,0,i.length-1)),n.length<=2)return void(this.extremalPts=jsts.geom.CoordinateArrays.copyDeep(n));for(var t=jsts.algorithm.MinimumBoundingCircle.lowestPoint(n),r=jsts.algorithm.MinimumBoundingCircle.pointWitMinAngleWithX(n,t),e=0;e<n.length;e++){if(u=jsts.algorithm.MinimumBoundingCircle.pointWithMinAngleWithSegment(n,t,r),jsts.algorithm.Angle.isObtuse(t,u,r))return void(this.extremalPts=[new jsts.geom.Coordinate(t),new jsts.geom.Coordinate(r)]);if(jsts.algorithm.Angle.isObtuse(u,t,r))t=u;else{if(!jsts.algorithm.Angle.isObtuse(u,r,t))return void(this.extremalPts=[new jsts.geom.Coordinate(t),new jsts.geom.Coordinate(r),new jsts.geom.Coordinate(u)]);r=u}}throw new Error("Logic failure in Minimum Bounding Circle algorithm!");};jsts.algorithm.MinimumBoundingCircle.lowestPoint=function(n){for(var i=n[0],t=1;t<n.length;t++)n[t].y<i.y&&(i=n[t]);return i};jsts.algorithm.MinimumBoundingCircle.pointWitMinAngleWithX=function(n,t){for(var r,f,i,h,e,o=Number.MAX_VALUE,s=null,u=0;u<n.length;u++)r=n[u],r!==t&&(f=r.x-t.x,i=r.y-t.y,0>i&&(i=-i),h=Math.sqrt(f*f+i*i),e=i/h,o>e&&(o=e,s=r));return s};jsts.algorithm.MinimumBoundingCircle.pointWithMinAngleWithSegment=function(n,t,i){for(var r,f,e=Number.MAX_VALUE,o=null,u=0;u<n.length;u++)r=n[u],r!==t&&r!==i&&(f=jsts.algorithm.Angle.angleBetween(t,r,i),e>f&&(e=f,o=r));return o};jsts.noding.ScaledNoder=function(n,t,i,r){this.offsetX=i?i:0;this.offsetY=r?r:0;this.noder=n;this.scaleFactor=t;this.isScaled=!this.isIntegerPrecision()};jsts.noding.ScaledNoder.prototype=new jsts.noding.Noder;jsts.noding.ScaledNoder.constructor=jsts.noding.ScaledNoder;jsts.noding.ScaledNoder.prototype.noder=null;jsts.noding.ScaledNoder.prototype.scaleFactor=void 0;jsts.noding.ScaledNoder.prototype.offsetX=void 0;jsts.noding.ScaledNoder.prototype.offsetY=void 0;jsts.noding.ScaledNoder.prototype.isScaled=!1;jsts.noding.ScaledNoder.prototype.isIntegerPrecision=function(){return 1===this.scaleFactor};jsts.noding.ScaledNoder.prototype.getNodedSubstrings=function(){var n=this.noder.getNodedSubstrings();return this.isScaled&&this.rescale(n),n};jsts.noding.ScaledNoder.prototype.computeNodes=function(n){var t=n;this.isScaled&&(t=this.scale(n));this.noder.computeNodes(t)};jsts.noding.ScaledNoder.prototype.scale=function(n){var t,i,r;if(n instanceof Array)return this.scale2(n);for(t=new javascript.util.ArrayList,i=n.iterator();i.hasNext();)r=i.next(),t.add(new jsts.noding.NodedSegmentString(this.scale(r.getCoordinates()),r.getData()));return t};jsts.noding.ScaledNoder.prototype.scale2=function(n){for(var i=[],t=0;t<n.length;t++)i[t]=new jsts.geom.Coordinate(Math.round((n[t].x-this.offsetX)*this.scaleFactor),Math.round((n[t].y-this.offsetY)*this.scaleFactor));return jsts.geom.CoordinateArrays.removeRepeatedPoints(i)};jsts.noding.ScaledNoder.prototype.rescale=function(n){var t,i;if(n instanceof Array)return void this.rescale2(n);for(t=n.iterator();t.hasNext();)i=t.next(),this.rescale(i.getCoordinates())};jsts.noding.ScaledNoder.prototype.rescale2=function(n){for(var t=0;t<n.length;t++)n[t].x=n[t].x/this.scaleFactor+this.offsetX,n[t].y=n[t].y/this.scaleFactor+this.offsetY},function(){javascript.util.ArrayList;jsts.geomgraph.index.SegmentIntersector=function(n,t,i){this.li=n;this.includeProper=t;this.recordIsolated=i};jsts.geomgraph.index.SegmentIntersector.isAdjacentSegments=function(n,t){return 1===Math.abs(n-t)};jsts.geomgraph.index.SegmentIntersector.prototype._hasIntersection=!1;jsts.geomgraph.index.SegmentIntersector.prototype.hasProper=!1;jsts.geomgraph.index.SegmentIntersector.prototype.hasProperInterior=!1;jsts.geomgraph.index.SegmentIntersector.prototype.properIntersectionPoint=null;jsts.geomgraph.index.SegmentIntersector.prototype.li=null;jsts.geomgraph.index.SegmentIntersector.prototype.includeProper=null;jsts.geomgraph.index.SegmentIntersector.prototype.recordIsolated=null;jsts.geomgraph.index.SegmentIntersector.prototype.isSelfIntersection=null;jsts.geomgraph.index.SegmentIntersector.prototype.numIntersections=0;jsts.geomgraph.index.SegmentIntersector.prototype.numTests=0;jsts.geomgraph.index.SegmentIntersector.prototype.bdyNodes=null;jsts.geomgraph.index.SegmentIntersector.prototype.setBoundaryNodes=function(n,t){this.bdyNodes=[];this.bdyNodes[0]=n;this.bdyNodes[1]=t};jsts.geomgraph.index.SegmentIntersector.prototype.getProperIntersectionPoint=function(){return this.properIntersectionPoint};jsts.geomgraph.index.SegmentIntersector.prototype.hasIntersection=function(){return this._hasIntersection};jsts.geomgraph.index.SegmentIntersector.prototype.hasProperIntersection=function(){return this.hasProper};jsts.geomgraph.index.SegmentIntersector.prototype.hasProperInteriorIntersection=function(){return this.hasProperInterior};jsts.geomgraph.index.SegmentIntersector.prototype.isTrivialIntersection=function(n,t,i,r){if(n===i&&1===this.li.getIntersectionNum()){if(jsts.geomgraph.index.SegmentIntersector.isAdjacentSegments(t,r))return!0;if(n.isClosed()){var u=n.getNumPoints()-1;if(0===t&&r===u||0===r&&t===u)return!0}}return!1};jsts.geomgraph.index.SegmentIntersector.prototype.addIntersections=function(n,t,i,r){if(n!==i||t!==r){this.numTests++;var u=n.getCoordinates()[t],f=n.getCoordinates()[t+1],e=i.getCoordinates()[r],o=i.getCoordinates()[r+1];this.li.computeIntersection(u,f,e,o);this.li.hasIntersection()&&(this.recordIsolated&&(n.setIsolated(!1),i.setIsolated(!1)),this.numIntersections++,this.isTrivialIntersection(n,t,i,r)||(this._hasIntersection=!0,(this.includeProper||!this.li.isProper())&&(n.addIntersections(this.li,t,0),i.addIntersections(this.li,r,1)),this.li.isProper()&&(this.properIntersectionPoint=this.li.getIntersection(0).clone(),this.hasProper=!0,this.isBoundaryPoint(this.li,this.bdyNodes)||(this.hasProperInterior=!0))))}};jsts.geomgraph.index.SegmentIntersector.prototype.isBoundaryPoint=function(n,t){var i,r,u;if(null===t)return!1;if(t instanceof Array)return this.isBoundaryPoint(n,t[0])?!0:this.isBoundaryPoint(n,t[1])?!0:!1;for(i=t.iterator();i.hasNext();)if(r=i.next(),u=r.getCoordinate(),n.isIntersection(u))return!0;return!1}}()},{}],38:[function(){(function(n){(function(){function e(n,t){var r=n.split("."),i=ct,u;for((r[0]in i)||!i.execScript||i.execScript("var "+r[0]);r.length&&(u=r.shift());)r.length||void 0===t?i=i[u]?i[u]:i[u]={}:i[u]=t}function h(n,t){function i(){}i.prototype=t.prototype;n.q=t.prototype;n.prototype=new i;n.prototype.constructor=n;n.p=function(n,i){var r=Array.prototype.slice.call(arguments,2);return t.prototype[i].apply(n,r)}}function k(n){this.message=n||""}function d(n){this.message=n||""}function y(){}function w(){}function g(){}function tt(){}function b(n){this.message=n||""}function p(n){this.message=n||""}function t(n){this.a=[];n instanceof w&&this.e(n)}function c(n){this.j=n}function it(){}function o(){this.i={}}function nt(){}function f(n){this.a=[];n instanceof w&&this.e(n)}function l(n){this.k=n}function rt(){}function ut(){}function r(){this.a=[]}function i(n){return null==n?null:n.parent}function v(n,t){null!==n&&(n.color=t)}function ft(n){return null==n?null:n.left}function et(n){return null==n?null:n.right}function s(){this.d=null;this.n=0}function ot(n,t){if(null!=t){var i=t.right;t.right=i.left;null!=i.left&&(i.left.parent=t);i.parent=t.parent;null==t.parent?n.d=i:t.parent.left==t?t.parent.left=i:t.parent.right=i;i.left=t;t.parent=i}}function st(n,t){if(null!=t){var i=t.left;t.left=i.right;null!=i.right&&(i.right.parent=t);i.parent=t.parent;null==t.parent?n.d=i:t.parent.right==t?t.parent.right=i:t.parent.left=i;i.right=t;t.parent=i}}function ht(n){if(null===n)return null;if(null!==n.right)for(var t=n.right;null!==t.left;)t=t.left;else for(t=n.parent;null!==t&&n===t.right;)n=t,t=t.parent;return t}function u(n){this.a=[];n instanceof w&&this.e(n)}function a(n){this.l=n}var ct=this;h(k,Error);e("javascript.util.EmptyStackException",k);k.prototype.name="EmptyStackException";h(d,Error);e("javascript.util.IndexOutOfBoundsException",d);d.prototype.name="IndexOutOfBoundsException";e("javascript.util.Iterator",y);y.prototype.hasNext=y.prototype.c;y.prototype.next=y.prototype.next;y.prototype.remove=y.prototype.remove;e("javascript.util.Collection",w);h(g,w);e("javascript.util.List",g);e("javascript.util.Map",tt);h(b,Error);e("javascript.util.NoSuchElementException",b);b.prototype.name="NoSuchElementException";h(p,Error);p.prototype.name="OperationNotSupported";h(t,g);e("javascript.util.ArrayList",t);t.prototype.a=null;t.prototype.add=function(n){return this.a.push(n),!0};t.prototype.add=t.prototype.add;t.prototype.e=function(n){for(n=n.f();n.c();)this.add(n.next());return!0};t.prototype.addAll=t.prototype.e;t.prototype.set=function(n,t){var i=this.a[n];return this.a[n]=t,i};t.prototype.set=t.prototype.set;t.prototype.f=function(){return new c(this)};t.prototype.iterator=t.prototype.f;t.prototype.get=function(n){if(0>n||n>=this.size())throw new d;return this.a[n]};t.prototype.get=t.prototype.get;t.prototype.g=function(){return 0===this.a.length};t.prototype.isEmpty=t.prototype.g;t.prototype.size=function(){return this.a.length};t.prototype.size=t.prototype.size;t.prototype.h=function(){for(var t=[],n=0,i=this.a.length;i>n;n++)t.push(this.a[n]);return t};t.prototype.toArray=t.prototype.h;t.prototype.remove=function(n){for(var i=!1,t=0,r=this.a.length;r>t;t++)if(this.a[t]===n){this.a.splice(t,1);i=!0;break}return i};t.prototype.remove=t.prototype.remove;e("$jscomp.scope.Iterator_",c);c.prototype.j=null;c.prototype.b=0;c.prototype.next=function(){if(this.b===this.j.size())throw new b;return this.j.get(this.b++)};c.prototype.next=c.prototype.next;c.prototype.c=function(){return this.b<this.j.size()?!0:!1};c.prototype.hasNext=c.prototype.c;c.prototype.remove=function(){throw new p;};c.prototype.remove=c.prototype.remove;e("javascript.util.Arrays",it);it.sort=function(){var t,r,i,n=arguments[0];if(1===arguments.length)n.sort();else if(2===arguments.length)r=arguments[1],i=function(n,t){return r.compare(n,t)},n.sort(i);else if(3===arguments.length)for(t=n.slice(arguments[1],arguments[2]),t.sort(),i=n.slice(0,arguments[1]).concat(t,n.slice(arguments[2],n.length)),n.splice(0,n.length),t=0;t<i.length;t++)n.push(i[t]);else if(4===arguments.length)for(t=n.slice(arguments[1],arguments[2]),r=arguments[3],i=function(n,t){return r.compare(n,t)},t.sort(i),i=n.slice(0,arguments[1]).concat(t,n.slice(arguments[2],n.length)),n.splice(0,n.length),t=0;t<i.length;t++)n.push(i[t])};it.asList=function(n){for(var r=new t,i=0,u=n.length;u>i;i++)r.add(n[i]);return r};h(o,tt);e("javascript.util.HashMap",o);o.prototype.i=null;o.prototype.get=function(n){return this.i[n]||null};o.prototype.get=o.prototype.get;o.prototype.put=function(n,t){return this.i[n]=t};o.prototype.put=o.prototype.put;o.prototype.m=function(){var n,i=new t;for(n in this.i)this.i.hasOwnProperty(n)&&i.add(this.i[n]);return i};o.prototype.values=o.prototype.m;o.prototype.size=function(){return this.m().size()};o.prototype.size=o.prototype.size;h(nt,w);e("javascript.util.Set",nt);h(f,nt);e("javascript.util.HashSet",f);f.prototype.a=null;f.prototype.contains=function(n){for(var t=0,i=this.a.length;i>t;t++)if(this.a[t]===n)return!0;return!1};f.prototype.contains=f.prototype.contains;f.prototype.add=function(n){return this.contains(n)?!1:(this.a.push(n),!0)};f.prototype.add=f.prototype.add;f.prototype.e=function(n){for(n=n.f();n.c();)this.add(n.next());return!0};f.prototype.addAll=f.prototype.e;f.prototype.remove=function(){throw new p;};f.prototype.remove=f.prototype.remove;f.prototype.size=function(){return this.a.length};f.prototype.g=function(){return 0===this.a.length};f.prototype.isEmpty=f.prototype.g;f.prototype.h=function(){for(var t=[],n=0,i=this.a.length;i>n;n++)t.push(this.a[n]);return t};f.prototype.toArray=f.prototype.h;f.prototype.f=function(){return new l(this)};f.prototype.iterator=f.prototype.f;e("$jscomp.scope.Iterator_$1",l);l.prototype.k=null;l.prototype.b=0;l.prototype.next=function(){if(this.b===this.k.size())throw new b;return this.k.a[this.b++]};l.prototype.next=l.prototype.next;l.prototype.c=function(){return this.b<this.k.size()?!0:!1};l.prototype.hasNext=l.prototype.c;l.prototype.remove=function(){throw new p;};l.prototype.remove=l.prototype.remove;h(rt,tt);e("javascript.util.SortedMap",rt);h(ut,nt);e("javascript.util.SortedSet",ut);h(r,g);e("javascript.util.Stack",r);r.prototype.a=null;r.prototype.push=function(n){return this.a.push(n),n};r.prototype.push=r.prototype.push;r.prototype.pop=function(){if(0===this.a.length)throw new k;return this.a.pop()};r.prototype.pop=r.prototype.pop;r.prototype.o=function(){if(0===this.a.length)throw new k;return this.a[this.a.length-1]};r.prototype.peek=r.prototype.o;r.prototype.empty=function(){return 0===this.a.length?!0:!1};r.prototype.empty=r.prototype.empty;r.prototype.g=function(){return this.empty()};r.prototype.isEmpty=r.prototype.g;r.prototype.search=function(n){return this.a.indexOf(n)};r.prototype.search=r.prototype.search;r.prototype.size=function(){return this.a.length};r.prototype.size=r.prototype.size;r.prototype.h=function(){for(var t=[],n=0,i=this.a.length;i>n;n++)t.push(this.a[n]);return t};r.prototype.toArray=r.prototype.h;h(s,rt);e("javascript.util.TreeMap",s);s.prototype.get=function(n){for(var i,t=this.d;null!==t;)if(i=n.compareTo(t.key),0>i)t=t.left;else{if(!(i>0))return t.value;t=t.right}return null};s.prototype.get=s.prototype.get;s.prototype.put=function(n,t){if(null===this.d)return this.d={key:n,value:t,left:null,right:null,parent:null,color:0},this.n=1,null;var u,f,r=this.d;do if(u=r,f=n.compareTo(r.key),0>f)r=r.left;else{if(!(f>0))return u=r.value,r.value=t,u;r=r.right}while(null!==r);for(r={key:n,left:null,right:null,value:t,parent:u,color:0},0>f?u.left=r:u.right=r,r.color=1;null!=r&&r!=this.d&&1==r.parent.color;)i(r)==ft(i(i(r)))?(u=et(i(i(r))),1==(null==u?0:u.color)?(v(i(r),0),v(u,0),v(i(i(r)),1),r=i(i(r))):(r==et(i(r))&&(r=i(r),ot(this,r)),v(i(r),0),v(i(i(r)),1),st(this,i(i(r))))):(u=ft(i(i(r))),1==(null==u?0:u.color)?(v(i(r),0),v(u,0),v(i(i(r)),1),r=i(i(r))):(r==ft(i(r))&&(r=i(r),st(this,r)),v(i(r),0),v(i(i(r)),1),ot(this,i(i(r)))));return this.d.color=0,this.n++,null};s.prototype.put=s.prototype.put;s.prototype.m=function(){var n,i=new t;if(n=this.d,null!=n)for(;null!=n.left;)n=n.left;if(null!==n)for(i.add(n.value);null!==(n=ht(n));)i.add(n.value);return i};s.prototype.values=s.prototype.m;s.prototype.size=function(){return this.n};s.prototype.size=s.prototype.size;h(u,ut);e("javascript.util.TreeSet",u);u.prototype.a=null;u.prototype.contains=function(n){for(var t=0,i=this.a.length;i>t;t++)if(0===this.a[t].compareTo(n))return!0;return!1};u.prototype.contains=u.prototype.contains;u.prototype.add=function(n){if(this.contains(n))return!1;for(var t=0,i=this.a.length;i>t;t++)if(1===this.a[t].compareTo(n))return this.a.splice(t,0,n),!0;return this.a.push(n),!0};u.prototype.add=u.prototype.add;u.prototype.e=function(n){for(n=n.f();n.c();)this.add(n.next());return!0};u.prototype.addAll=u.prototype.e;u.prototype.remove=function(){throw new p;};u.prototype.remove=u.prototype.remove;u.prototype.size=function(){return this.a.length};u.prototype.size=u.prototype.size;u.prototype.g=function(){return 0===this.a.length};u.prototype.isEmpty=u.prototype.g;u.prototype.h=function(){for(var t=[],n=0,i=this.a.length;i>n;n++)t.push(this.a[n]);return t};u.prototype.toArray=u.prototype.h;u.prototype.f=function(){return new a(this)};u.prototype.iterator=u.prototype.f;e("$jscomp.scope.Iterator_$2",a);a.prototype.l=null;a.prototype.b=0;a.prototype.next=function(){if(this.b===this.l.size())throw new b;return this.l.a[this.b++]};a.prototype.next=a.prototype.next;a.prototype.c=function(){return this.b<this.l.size()?!0:!1};a.prototype.hasNext=a.prototype.c;a.prototype.remove=function(){throw new p;};a.prototype.remove=a.prototype.remove;"undefined"!=typeof n&&(n.javascript={},n.javascript.util={},n.javascript.util.ArrayList=t,n.javascript.util.Arrays=it,n.javascript.util.Collection=w,n.javascript.util.EmptyStackException=k,n.javascript.util.HashMap=o,n.javascript.util.HashSet=f,n.javascript.util.IndexOutOfBoundsException=d,n.javascript.util.Iterator=y,n.javascript.util.List=g,n.javascript.util.Map=tt,n.javascript.util.NoSuchElementException=b,n.javascript.util.OperationNotSupported=p,n.javascript.util.Set=nt,n.javascript.util.SortedMap=rt,n.javascript.util.SortedSet=ut,n.javascript.util.Stack=r,n.javascript.util.TreeMap=s,n.javascript.util.TreeSet=u)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],39:[function(n){n("./dist/javascript.util-node.min.js")},{"./dist/javascript.util-node.min.js":38}],40:[function(n,t){var i=n("turf-extent");t.exports=function(n){var t=i(n),r=(t[0]+t[2])/2,u=(t[1]+t[3])/2;return{type:"Feature",geometry:{type:"Point",coordinates:[r,u]}}}},{"turf-extent":65}],41:[function(n,t){var i=n("turf-explode"),r=n("turf-point");t.exports=function(n){for(var u=i(n).features,e=0,o=0,f=u.length,t=0;f>t;t++)e+=u[t].geometry.coordinates[0],o+=u[t].geometry.coordinates[1];return r(e/f,o/f)}},{"turf-explode":61,"turf-point":114}],42:[function(n,t){function i(n){return n.map(function(n){return n.coordinates})}t.exports=function(n){var e=n.features[0].geometry.type,t=n.features.map(function(n){return n.geometry}),r,u,f;switch(e){case"Point":return r={type:"Feature",geometry:{type:"MultiPoint",coordinates:[]}},r.geometry.coordinates=i(t),r;case"LineString":return u={type:"Feature",geometry:{type:"MultiLineString",coordinates:[]}},u.geometry.coordinates=i(t),u;case"Polygon":return f={type:"Feature",geometry:{type:"MultiPolygon",coordinates:[]}},f.geometry.coordinates=i(t),f}}},{}],43:[function(n,t){var i={},r;i.tin=n("turf-tin");i.merge=n("turf-merge");i.distance=n("turf-distance");i.point=n("turf-point");t.exports=function(n,t){var u,f;return u=i.tin(n,null),u instanceof Error?u:(f=r(u.features,t),u.features=f,i.merge(u))};r=function(n,t){return n.filter(function(n){var r=i.point(n.geometry.coordinates[0][0][0],n.geometry.coordinates[0][0][1]),u=i.point(n.geometry.coordinates[0][1][0],n.geometry.coordinates[0][1][1]),f=i.point(n.geometry.coordinates[0][2][0],n.geometry.coordinates[0][2][1]),e=i.distance(r,u,"miles"),o=i.distance(u,f,"miles"),s=i.distance(r,f,"miles");return t>=e&&t>=o&&t>=s})}},{"turf-distance":50,"turf-merge":106,"turf-point":114,"turf-tin":132}],44:[function(n,t){function i(n,t,i){return(t[0]-n[0])*(i[1]-n[1])-(t[1]-n[1])*(i[0]-n[0])}t.exports=function(n){var f=n.features.map(function(n){return n.geometry.coordinates}),t,u,r,e;for(f.sort(function(n,t){return n[0]==t[0]?n[1]-t[1]:n[0]-t[0]}),t=[],r=0;r<f.length;r++){for(;t.length>=2&&i(t[t.length-2],t[t.length-1],f[r])<=0;)t.pop();t.push(f[r])}for(u=[],r=f.length-1;r>=0;r--){for(;u.length>=2&&i(u[u.length-2],u[u.length-1],f[r])<=0;)u.pop();u.push(f[r])}return u.pop(),t.pop(),e=t.concat(u),e.push(e[0]),{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[e]}}}},{}],45:[function(n,t){var i=n("turf-inside");t.exports=function(n,t,r){return n.features.forEach(function(n){n.properties||(n.properties={});var u=[];t.features.forEach(function(t){i(t,n)&&u.push(1)});n.properties[r]=u.length}),n}},{"turf-inside":46}],46:[function(n,t){t.exports=n(8)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-aggregate/node_modules/turf-average/node_modules/turf-inside/index.js":8}],47:[function(n,t){function i(n){return n*Math.PI/180}function r(n){return 180*n/Math.PI}var u=n("turf-point");t.exports=function(n,t,f,e){var c=n.geometry.coordinates,v=i(c[0]),s=i(c[1]),l=i(f),o=0,h,a;switch(e){case"miles":o=3960;break;case"kilometers":o=6373;break;case"degrees":o=57.2957795;break;case"radians":o=1}return h=Math.asin(Math.sin(s)*Math.cos(t/o)+Math.cos(s)*Math.sin(t/o)*Math.cos(l)),a=v+Math.atan2(Math.sin(l)*Math.sin(t/o)*Math.cos(s),Math.cos(t/o)-Math.sin(s)*Math.sin(h)),u(r(a),r(h))}},{"turf-point":114}],48:[function(n,t){var i=n("simple-statistics"),r=n("turf-inside");t.exports=function(n,t,u,f){return n.features.forEach(function(n){n.properties||(n.properties={});var e=[];t.features.forEach(function(t){r(t,n)&&e.push(t.properties[u])});n.properties[f]=i.standard_deviation(e)}),n}},{"simple-statistics":49,"turf-inside":73}],49:[function(n,t){!function(){function it(){var n={},t=[];return n.data=function(i){return arguments.length?(t=i.slice(),n):t},n.mb=function(){var u,f,n=t.length;if(1===n)u=0,f=t[0][1];else{for(var e,i,o,r=0,s=0,c=0,l=0,h=0;n>h;h++)e=t[h],i=e[0],o=e[1],r+=i,s+=o,c+=i*i,l+=i*o;u=(n*l-r*s)/(n*c-r*r);f=s/n-u*r/n}return{m:u,b:f}},n.m=function(){return n.mb().m},n.b=function(){return n.mb().b},n.line=function(){var t=n.mb(),i=t.m,r=t.b;return function(n){return r+i*n}},n}function rt(n,t){var s,f,r,e,u,o,i;if(n.length<2)return 1;for(f=0,r=0;r<n.length;r++)f+=n[r][1];for(s=f/n.length,e=0,u=0;u<n.length;u++)e+=Math.pow(s-n[u][1],2);for(o=0,i=0;i<n.length;i++)o+=Math.pow(n[i][1]-t(n[i][0]),2);return 1-o/e}function ut(){var t={},i=0,n={};return t.train=function(t,r){var u,f;n[r]||(n[r]={});for(u in t)f=t[u],void 0===n[r][u]&&(n[r][u]={}),void 0===n[r][u][f]&&(n[r][u][f]=0),n[r][u][t[u]]++;i++},t.score=function(t){var r,u={},f,o,e,s;for(f in t){o=t[f];for(r in n)void 0===u[r]&&(u[r]={}),u[r][f+"_"+o]=n[r][f]?(n[r][f][o]||0)/i:0}e={};for(r in u)for(s in u[r])void 0===e[r]&&(e[r]=0),e[r]+=u[r][s];return e},t}function l(n){for(var i=0,t=0;t<n.length;t++)i+=n[t];return i}function i(n){return 0===n.length?null:l(n)/n.length}function ft(n){if(0===n.length)return null;for(var i=1,t=0;t<n.length;t++){if(n[t]<=0)return null;i*=n[t]}return Math.pow(i,1/n.length)}function et(n){if(0===n.length)return null;for(var i=0,t=0;t<n.length;t++){if(n[t]<=0)return null;i+=1/n[t]}return n.length/i}function ot(n){for(var t,i=0;i<n.length;i++)(n[i]<t||void 0===t)&&(t=n[i]);return t}function st(n){for(var t,i=0;i<n.length;i++)(n[i]>t||void 0===t)&&(t=n[i]);return t}function a(n){if(0===n.length)return null;for(var u=i(n),r=[],t=0;t<n.length;t++)r.push(Math.pow(n[t]-u,2));return i(r)}function v(n){return 0===n.length?null:Math.sqrt(a(n))}function y(n,t){for(var f=i(n),u=0,r=0;r<n.length;r++)u+=Math.pow(n[r]-f,t);return u}function u(n){if(n.length<=1)return null;var t=y(n,2);return t/(n.length-1)}function f(n){return n.length<=1?null:Math.sqrt(u(n))}function p(n,t){if(n.length<=1||n.length!=t.length)return null;for(var f=i(n),e=i(t),u=0,r=0;r<n.length;r++)u+=(n[r]-f)*(t[r]-e);return u/(n.length-1)}function ht(n,t){var i=p(n,t),r=f(n),u=f(t);return null===i||null===r||null===u?null:i/r/u}function o(n){var t,i,r;return 0===n.length?null:(t=n.slice().sort(function(n,t){return n-t}),t.length%2==1)?t[(t.length-1)/2]:(i=t[t.length/2-1],r=t[t.length/2],(i+r)/2)}function ct(n){if(0===n.length)return null;if(1===n.length)return n[0];for(var f,t=n.slice().sort(function(n,t){return n-t}),u=t[0],e=0,i=1,r=1;r<t.length+1;r++)t[r]!==u?(i>e&&(e=i,f=u),i=1,u=t[r]):i++;return f}function lt(n,t){var r=i(n),u=v(n),f=Math.sqrt(n.length);return(r-t)/(u/f)}function at(n,t,r){var f=n.length,e=t.length;if(!f||!e)return null;r||(r=0);var o=i(n),s=i(t),h=((f-1)*u(n)+(e-1)*u(t))/(f+e-2);return(o-s-r)/Math.sqrt(h*(1/f+1/e))}function vt(n,t){var r=[],i;if(0>=t)return null;for(i=0;i<n.length;i+=t)r.push(n.slice(i,i+t));return r}function w(n,t){t=t||Math.random;for(var u,r,i=n.length;i>0;)r=Math.floor(t()*i--),u=n[i],n[i]=n[r],n[r]=u;return n}function b(n,t){return n=n.slice(),w(n.slice(),t)}function yt(n,t,i){var r=b(n,i);return r.slice(0,t)}function s(n,t){var r,u,i;if(0===n.length)return null;if(r=n.slice().sort(function(n,t){return n-t}),t.length){for(u=[],i=0;i<t.length;i++)u[i]=h(r,t[i]);return u}return h(r,t)}function h(n,t){var i=n.length*t;return 0>t||t>1?null:1===t?n[n.length-1]:0===t?n[0]:i%1!=0?n[Math.ceil(i)-1]:n.length%2==0?(n[i-1]+n[i])/2:n[i]}function k(n){return 0===n.length?null:s(n,.75)-s(n,.25)}function d(n){if(!n||0===n.length)return null;for(var r=o(n),i=[],t=0;t<n.length;t++)i.push(Math.abs(n[t]-r));return o(i)}function g(n,t){for(var i,e=[],f=[],o=0,l,a,r,h,c,u=0;u<n.length+1;u++){for(l=[],a=[],i=0;t+1>i;i++)l.push(0),a.push(0);e.push(l);f.push(a)}for(u=1;t+1>u;u++)for(e[1][u]=1,f[1][u]=0,i=2;i<n.length+1;i++)f[i][u]=1/0;for(r=2;r<n.length+1;r++){for(var v=0,p=0,w=0,s=0,y=1;r+1>y;y++)if(h=r-y+1,c=n[h-1],w++,v+=c,p+=c*c,o=p-v*v/w,s=h-1,0!==s)for(i=2;t+1>i;i++)f[r][i]>=o+f[s][i-1]&&(e[r][i]=h,f[r][i]=o+f[s][i-1]);e[r][1]=1;f[r][1]=o}return{lower_class_limits:e,variance_combinations:f}}function nt(n,t,i){var f=n.length-1,u=[],r=i;for(u[i]=n[n.length-1],u[0]=n[0];r>1;)u[r-1]=n[t[f][r]-2],f=t[f][r]-1,r--;return u}function pt(n,t){if(t>n.length)return null;n=n.slice().sort(function(n,t){return n-t});var i=g(n,t),r=i.lower_class_limits;return nt(n,r,t)}function wt(n){if(n.length<3)return null;var t=n.length,i=Math.pow(f(n),3),r=y(n,3);return t*r/((t-1)*(t-2)*i)}function bt(n){var t=Math.abs(n),r=Math.floor(10*t),u=10*(Math.floor(100*t)/10-Math.floor(10*t)),i=Math.min(10*r+u,e.length-1);return n>=0?e[i]:+(1-e[i]).toFixed(4)}function kt(n,t,i){return(n-t)/i}function r(n){if(0>n)return null;for(var i=1,t=2;n>=t;t++)i*=t;return i}function dt(n){return 0>n||n>1?null:tt(1,n)}function tt(n,t){function e(n,t,i){return r(t)/(r(n)*r(t-n))*Math.pow(i,n)*Math.pow(1-i,t-n)}if(0>t||t>1||0>=n||n%1!=0)return null;var i=0,f=0,u={};do u[i]=e(i,n,t),f+=u[i],i++;while(1-c>f);return u}function gt(n){function f(n,t){return Math.pow(Math.E,-t)*Math.pow(t,n)/r(n)}if(0>=n)return null;var t=0,u=0,i={};do i[t]=f(t,n),u+=i[t],t++;while(1-c>u);return i}function ni(n,t,r){for(var s,u,l=i(n),h=0,c=t(l),f=[],o=[],e=0;e<n.length;e++)void 0===f[n[e]]&&(f[n[e]]=0),f[n[e]]++;for(e=0;e<f.length;e++)void 0===f[e]&&(f[e]=0);for(u in c)u in f&&(o[u]=c[u]*n.length);for(u=o.length-1;u>=0;u--)o[u]<3&&(o[u-1]+=o[u],o.pop(),f[u-1]+=f[u],f.pop());for(u=0;u<f.length;u++)h+=Math.pow(f[u]-o[u],2)/o[u];return s=f.length-2,ii[s][r]<h}function ti(t){function f(t){return function(){var i=Array.prototype.slice.apply(arguments);return i.unshift(this),n[t].apply(n,i)}}var e=!(!Object.defineProperty||!Object.defineProperties),u,r,i;if(!e)throw new Error("without defineProperty, simple-statistics cannot be mixed in");for(r=["median","standard_deviation","sum","sample_skewness","mean","min","max","quantile","geometric_mean","harmonic_mean"],u=t?t.slice():Array.prototype,i=0;i<r.length;i++)Object.defineProperty(u,r[i],{value:f(r[i]),configurable:!0,enumerable:!1,writable:!0});return u}var n={};"undefined"!=typeof t?t.exports=n:this.ss=n;var e=[.5,.504,.508,.512,.516,.5199,.5239,.5279,.5319,.5359,.5398,.5438,.5478,.5517,.5557,.5596,.5636,.5675,.5714,.5753,.5793,.5832,.5871,.591,.5948,.5987,.6026,.6064,.6103,.6141,.6179,.6217,.6255,.6293,.6331,.6368,.6406,.6443,.648,.6517,.6554,.6591,.6628,.6664,.67,.6736,.6772,.6808,.6844,.6879,.6915,.695,.6985,.7019,.7054,.7088,.7123,.7157,.719,.7224,.7257,.7291,.7324,.7357,.7389,.7422,.7454,.7486,.7517,.7549,.758,.7611,.7642,.7673,.7704,.7734,.7764,.7794,.7823,.7852,.7881,.791,.7939,.7967,.7995,.8023,.8051,.8078,.8106,.8133,.8159,.8186,.8212,.8238,.8264,.8289,.8315,.834,.8365,.8389,.8413,.8438,.8461,.8485,.8508,.8531,.8554,.8577,.8599,.8621,.8643,.8665,.8686,.8708,.8729,.8749,.877,.879,.881,.883,.8849,.8869,.8888,.8907,.8925,.8944,.8962,.898,.8997,.9015,.9032,.9049,.9066,.9082,.9099,.9115,.9131,.9147,.9162,.9177,.9192,.9207,.9222,.9236,.9251,.9265,.9279,.9292,.9306,.9319,.9332,.9345,.9357,.937,.9382,.9394,.9406,.9418,.9429,.9441,.9452,.9463,.9474,.9484,.9495,.9505,.9515,.9525,.9535,.9545,.9554,.9564,.9573,.9582,.9591,.9599,.9608,.9616,.9625,.9633,.9641,.9649,.9656,.9664,.9671,.9678,.9686,.9693,.9699,.9706,.9713,.9719,.9726,.9732,.9738,.9744,.975,.9756,.9761,.9767,.9772,.9778,.9783,.9788,.9793,.9798,.9803,.9808,.9812,.9817,.9821,.9826,.983,.9834,.9838,.9842,.9846,.985,.9854,.9857,.9861,.9864,.9868,.9871,.9875,.9878,.9881,.9884,.9887,.989,.9893,.9896,.9898,.9901,.9904,.9906,.9909,.9911,.9913,.9916,.9918,.992,.9922,.9925,.9927,.9929,.9931,.9932,.9934,.9936,.9938,.994,.9941,.9943,.9945,.9946,.9948,.9949,.9951,.9952,.9953,.9955,.9956,.9957,.9959,.996,.9961,.9962,.9963,.9964,.9965,.9966,.9967,.9968,.9969,.997,.9971,.9972,.9973,.9974,.9974,.9975,.9976,.9977,.9977,.9978,.9979,.9979,.998,.9981,.9981,.9982,.9982,.9983,.9984,.9984,.9985,.9985,.9986,.9986,.9987,.9987,.9987,.9988,.9988,.9989,.9989,.9989,.999,.999],c=.0001,ii={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}};n.linear_regression=it;n.standard_deviation=v;n.r_squared=rt;n.median=o;n.mean=i;n.mode=ct;n.min=ot;n.max=st;n.sum=l;n.quantile=s;n.quantile_sorted=h;n.iqr=k;n.mad=d;n.chunk=vt;n.shuffle=b;n.shuffle_in_place=w;n.sample=yt;n.sample_covariance=p;n.sample_correlation=ht;n.sample_variance=u;n.sample_standard_deviation=f;n.sample_skewness=wt;n.geometric_mean=ft;n.harmonic_mean=et;n.variance=a;n.t_test=lt;n.t_test_two_sample=at;n.jenksMatrices=g;n.jenksBreaks=nt;n.jenks=pt;n.bayesian=ut;n.epsilon=c;n.factorial=r;n.bernoulli_distribution=dt;n.binomial_distribution=tt;n.poisson_distribution=gt;n.chi_squared_goodness_of_fit=ni;n.z_score=kt;n.cumulative_std_normal_probability=bt;n.standard_normal_table=e;n.average=i;n.interquartile_range=k;n.mixin=ti;n.median_absolute_deviation=d}(this)},{}],50:[function(n,t){function i(n){return n*Math.PI/180}t.exports=function(n,t,r){var f=n.geometry.coordinates,e=t.geometry.coordinates,o=i(e[1]-f[1]),s=i(e[0]-f[0]),c=i(f[1]),l=i(e[1]),h=Math.sin(o/2)*Math.sin(o/2)+Math.sin(s/2)*Math.sin(s/2)*Math.cos(c)*Math.cos(l),a=2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),u=0;switch(r){case"miles":u=3960;break;case"kilometers":u=6373;break;case"degrees":u=57.2957795;break;case"radians":u=1}return u*a}},{}],51:[function(n,t){var i=n("turf-extent"),r=n("turf-bbox-polygon");t.exports=function(n){var t=i(n);return r(t)}},{"turf-bbox-polygon":52,"turf-extent":54}],52:[function(n,t){var i=n("turf-polygon");t.exports=function(n){var t=[n[0],n[1]],r=[n[0],n[3]],u=[n[2],n[3]],f=[n[2],n[1]];return i([[t,f,u,r,t]])}},{"turf-polygon":53}],53:[function(n,t){t.exports=n(31)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-bbox-polygon/node_modules/turf-polygon/index.js":31}],54:[function(n,t){function i(n){var t=[];return n=r(n),n.forEach(function(i,r){r%2==0&&t.push([i,n[r+1]])}),t}var r=n("flatten");t.exports=function(n){var e=1/0,o=1/0,s=-1/0,h=-1/0,u,t,f,r,c;if("FeatureCollection"===n.type){for(u in n.features){switch(n.features[u].geometry.type){case"Point":t=[n.features[u].geometry.coordinates];break;case"LineString":t=n.features[u].geometry.coordinates;break;case"Polygon":t=n.features[u].geometry.coordinates;t=i(t);break;case"MultiPoint":t=n.features[u].geometry.coordinates;break;case"MultiLineString":t=n.features[u].geometry.coordinates;t=i(t);break;case"MultiPolygon":t=n.features[u].geometry.coordinates;t=i(t)}if(!n.features[u].geometry&&n.features[u].properties)return new Error("Unknown Geometry Type");for(r in t)e>t[r][0]&&(e=t[r][0]),o>t[r][1]&&(o=t[r][1]),s<t[r][0]&&(s=t[r][0]),h<t[r][1]&&(h=t[r][1])}return[e,o,s,h]}switch(f="Feature"===n.type?n.geometry:n,f.type){case"Point":t=[f.coordinates];break;case"LineString":t=f.coordinates;break;case"Polygon":t=f.coordinates;t=i(t);break;case"MultiPoint":t=f.coordinates;break;case"MultiLineString":t=f.coordinates;t=i(t);break;case"MultiPolygon":t=f.coordinates;t=i(t)}if(!f)return new Error("No Geometry Found");for(r in t)e>t[r][0]&&(e=t[r][0]),o>t[r][1]&&(o=t[r][1]),s<t[r][0]&&(s=t[r][0]),h<t[r][1]&&(h=t[r][1]);return[e,o,s,h]}},{flatten:55}],55:[function(n,t){t.exports=function(n,t){function i(n,r){return n.reduce(function(n,u){return n.concat(Array.isArray(u)&&t>r?i(u,r+1):u)},[])}return t="number"==typeof t?t:1/0,i(n,1)}},{}],56:[function(n,t){var i=n("jsts");t.exports=function(n,t){"Feature"!==n.type&&(n={type:"Feature",properties:{},geometry:n});"Feature"!==t.type&&(t={type:"Feature",properties:{},geometry:t});var u=new i.io.GeoJSONReader,f=u.read(JSON.stringify(n.geometry)),e=u.read(JSON.stringify(t.geometry)),r=f.difference(e),o=new i.io.GeoJSONParser;return r=o.write(r),n.geometry=r,"GeometryCollection"===n.geometry.type&&0===n.geometry.geometries.length?void 0:{type:"Feature",properties:n.properties,geometry:r}}},{jsts:57}],57:[function(n,t){t.exports=n(36)},{"./lib/jsts":58,"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-buffer/node_modules/jsts/index.js":36,"javascript.util":60}],58:[function(n,t){t.exports=n(37)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-buffer/node_modules/jsts/lib/jsts.js":37}],59:[function(n,t){t.exports=n(38)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-buffer/node_modules/jsts/node_modules/javascript.util/dist/javascript.util-node.min.js":38}],60:[function(n,t){t.exports=n(39)},{"./dist/javascript.util-node.min.js":59,"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-buffer/node_modules/jsts/node_modules/javascript.util/index.js":39}],61:[function(n,t){function i(n){var t=[];return n=f(n),n.forEach(function(i,r){r%2==0&&t.push([i,n[r+1]])}),t}var f=n("flatten"),r=n("turf-featurecollection"),u=n("turf-point");t.exports=function(n){var f,t,e,o;if("FeatureCollection"===n.type){for(f in n.features){switch(n.features[f].geometry.type){case"Point":t=[n.features[f].geometry.coordinates];break;case"LineString":t=n.features[f].geometry.coordinates;break;case"Polygon":t=n.features[f].geometry.coordinates;t=i(t);break;case"MultiPoint":t=n.features[f].geometry.coordinates;break;case"MultiLineString":t=n.features[f].geometry.coordinates;t=i(t);break;case"MultiPolygon":t=n.features[f].geometry.coordinates;t=i(t)}if(!n.features[f].geometry&&n.features[f].properties)return new Error("Unknown Geometry Type")}return o=r([]),t.forEach(function(n){o.features.push(u(n[0],n[1]))}),o}switch(e="Feature"===n.type?n.geometry:n,e.type){case"Point":t=[e.coordinates];break;case"LineString":t=e.coordinates;break;case"Polygon":t=e.coordinates;t=i(t);break;case"MultiPoint":t=e.coordinates;break;case"MultiLineString":t=e.coordinates;t=i(t);break;case"MultiPolygon":t=e.coordinates;t=i(t)}return e?(o=r([]),t.forEach(function(n){o.features.push(u(n[0],n[1]))}),o):new Error("No Geometry Found")}},{flatten:62,"turf-featurecollection":63,"turf-point":64}],62:[function(n,t){t.exports=n(55)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-envelope/node_modules/turf-extent/node_modules/flatten/index.js":55}],63:[function(n,t){t.exports=function(n){return{type:"FeatureCollection",features:n}}},{}],64:[function(n,t){t.exports=function(n,t,i){if(isNaN(n)||isNaN(t))throw new Error("Invalid coordinates");return{type:"Feature",geometry:{type:"Point",coordinates:[n,t]},properties:i||{}}}},{}],65:[function(n,t){function i(n){var t=[];return n=r(n),n.forEach(function(i,r){r%2==0&&t.push([i,n[r+1]])}),t}var r=n("flatten");t.exports=function(n){var e=1/0,o=1/0,s=-1/0,h=-1/0,u,t,f,r,c;if("FeatureCollection"===n.type){for(u in n.features){switch(n.features[u].geometry.type){case"Point":t=[n.features[u].geometry.coordinates];break;case"LineString":t=n.features[u].geometry.coordinates;break;case"Polygon":t=n.features[u].geometry.coordinates;t=i(t);break;case"MultiPoint":t=n.features[u].geometry.coordinates;break;case"MultiLineString":t=n.features[u].geometry.coordinates;t=i(t);break;case"MultiPolygon":t=n.features[u].geometry.coordinates;t=i(t)}if(!n.features[u].geometry&&n.features[u].properties)return new Error("Unknown Geometry Type");for(r in t)e>t[r][0]&&(e=t[r][0]),o>t[r][1]&&(o=t[r][1]),s<t[r][0]&&(s=t[r][0]),h<t[r][1]&&(h=t[r][1])}return[e,o,s,h]}switch(f="Feature"===n.type?n.geometry:n,f.type){case"Point":t=[f.coordinates];break;case"LineString":t=f.coordinates;break;case"Polygon":t=f.coordinates;t=i(t);break;case"MultiPoint":t=f.coordinates;break;case"MultiLineString":t=f.coordinates;t=i(t);break;case"MultiPolygon":t=f.coordinates;t=i(t)}if(!f)return new Error("No Geometry Found");for(r in t)e>t[r][0]&&(e=t[r][0]),o>t[r][1]&&(o=t[r][1]),s<t[r][0]&&(s=t[r][0]),h<t[r][1]&&(h=t[r][1]);return[e,o,s,h]}},{flatten:66}],66:[function(n,t){t.exports=n(55)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-envelope/node_modules/turf-extent/node_modules/flatten/index.js":55}],67:[function(n,t){t.exports=function(n){return{type:"FeatureCollection",features:n}}},{}],68:[function(n,t){var i=n("turf-featurecollection");t.exports=function(n,t,r){for(var f=i([]),u=0;u<n.features.length;u++)n.features[u].properties[t]===r&&f.features.push(n.features[u]);return f}},{"turf-featurecollection":67}],69:[function(n,t){function i(n){return[n[1],n[0]]}t.exports=function(n){if("Feature"!==n.type){if("FeatureCollection"===n.type)return n.features.forEach(function(n){switch(n.geometry.type){case"Point":n.geometry.coordinates=i(n.geometry.coordinates);break;case"LineString":n.geometry.coordinates.forEach(function(t,r){t=i(t);n.geometry.coordinates[r]=t});break;case"Polygon":n.geometry.coordinates.forEach(function(t,r){t.forEach(function(t,u){t=i(t);n.geometry.coordinates[r][u]=t})})}}),n;return new Error("Unknown geometry type")}switch(n.geometry.type){case"Point":return n.geometry.coordinates=i(n.geometry.coordinates),n;case"LineString":return n.geometry.coordinates.forEach(function(t,r){t=i(t);n.geometry.coordinates[r]=t}),n;case"Polygon":return n.geometry.coordinates.forEach(function(t,r){t.forEach(function(t,u){t=i(t);n.geometry.coordinates[r][u]=t})}),n}}},{}],70:[function(n,t){var i=n("turf-point");t.exports=function(n,t){for(var r,f=n[0],s=n[1],h=n[2],e=(n[3],(h-f)/t),o={type:"FeatureCollection",features:[]},u=0;t>=u;u++)for(r=0;t>=r;r++)o.features.push(i(u*e+f,r*e+s));return o}},{"turf-point":114}],71:[function(n,t){function e(n,t){for(var e,o,i=[],r=0;6>r;r++)e=n[0]+t*u[r],o=n[1]+t*f[r],i.push([e,o]);return i.push(i[0]),s([i])}function o(n,t,i){var y=n[0],p=n[1],tt=n[2],it=n[3],s={type:"FeatureCollection",features:[]},h=2*t,r=Math.sqrt(3)/2*h,w=tt-y,c=it-p,b=.75*h,rt=r,k=w/(h-t/2),o=Math.ceil(k),f,u,a,nt,v;Math.round(k)===o&&o++;var ut=(o*b-t/2-w)/2-t/2,l=Math.ceil(c/r),d=(c-l*r)/2,g=l*r-c>r/2;for(g&&(d-=r/4),f=0;o>f;f++)for(u=0;l>=u;u++)a=f%2==1,0===u&&a||0===u&&g||(nt=f*b+y-ut,v=u*rt+p+d,a&&(v-=r/2),s.features.push(e([nt,v],t)));return i=i||function(){},i(null,s),s}var s=n("turf-polygon"),r;t.exports=o;for(var u=[],f=[],i=0;6>i;i++)r=Math.PI/3*i,u.push(Math.cos(r)),f.push(Math.sin(r))},{"turf-polygon":72}],72:[function(n,t){t.exports=n(31)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-bbox-polygon/node_modules/turf-polygon/index.js":31}],73:[function(n,t){function i(n,t){for(var r=!1,i=0,u=t.length-1;i<t.length;u=i++){var e=t[i][0],f=t[i][1],s=t[u][0],o=t[u][1],h=f>n[1]!=o>n[1]&&n[0]<(s-e)*(n[1]-f)/(o-f)+e;h&&(r=!r)}return r}t.exports=function(n,t){var r=t.geometry.coordinates,s=[n.geometry.coordinates[0],n.geometry.coordinates[1]],f,u,e,o;for("Polygon"===t.geometry.type&&(r=[r]),f=!1,u=0;u<r.length&&!f;){if(i(s,r[u][0])){for(e=!1,o=1;o<r[u].length&&!e;)i(s,r[u][o])&&(e=!0),o++;e||(f=!0)}u++}return f}},{}],74:[function(n,t){var i=n("jsts");n("turf-featurecollection");t.exports=function(n,t){"Feature"!==n.type&&(n={type:"Feature",geometry:n});"Feature"!==t.type&&(t={type:"Feature",geometry:t});var u=new i.io.GeoJSONReader,f=u.read(JSON.stringify(n.geometry)),e=u.read(JSON.stringify(t.geometry)),r=f.intersection(e),o=new i.io.GeoJSONParser;return r=o.write(r),"GeometryCollection"===r.type&&0===r.geometries.length?void 0:{type:"Feature",properties:{},geometry:r}}},{jsts:75,"turf-featurecollection":67}],75:[function(n,t){t.exports=n(36)},{"./lib/jsts":76,"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-buffer/node_modules/jsts/index.js":36,"javascript.util":78}],76:[function(n,t){t.exports=n(37)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-buffer/node_modules/jsts/lib/jsts.js":37}],77:[function(n,t){t.exports=n(38)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-buffer/node_modules/jsts/node_modules/javascript.util/dist/javascript.util-node.min.js":38}],78:[function(n,t){t.exports=n(39)},{"./dist/javascript.util-node.min.js":77,"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-buffer/node_modules/jsts/node_modules/javascript.util/index.js":39}],79:[function(n,t){t.exports=function(n){for(var i,t,u=0,r=1,f=n.length;f>r;)i=t||n[0],t=n[r],u+=(t[0]-i[0])*(t[1]+i[1]),r++;return u>0}},{}],80:[function(n,t,i){function l(n,t,i){var e,s=h(n),f,r;if("Error"==typeof s)return s;if(e=c(s),"Error"==typeof e)return e;if(sizeBBox=d(e,.35),"Error"==typeof sizeBBox)return sizeBBox;for(var v=sizeBBox[2]-sizeBBox[0],o=v/i,l=sizeBBox[0],a=sizeBBox[1],y=sizeBBox[2],p=sizeBBox[3],f=0;i>=f;f++)r=u(l,a+o*f),r.properties={},r.properties[t]=-100,n.features.push(r);for(f=0;i>=f;f++)r=u(l+o*f,a),r.properties={},r.properties[t]=-100,n.features.push(r);for(f=0;i>=f;f++)r=u(y,a+o*f),r.properties={},r.properties[t]=-100,n.features.push(r);for(f=0;i>=f;f++)r=u(l+o*f,p),r.properties={},r.properties[t]=-100,n.features.push(r);return n}function a(n){return n.reduce(function(n,t){return n.indexOf(t)<0&&n.push(t),n},[])}function r(n,t){var i=n.x-t.x,r=n.y-t.y;return f>i*i+r*r}function s(n){for(var i,t=n.head;t;)i=t.next,t.next=t.prev,t.prev=i,t=i;i=n.head;n.head=n.tail;n.tail=i}function e(n){this.level=n;this.s=null;this.count=0}function o(n){if(n)this.drawContour=n;else{var t=this;t.contours={};this.drawContour=function(n,i,r,u,f,o){var s=t.contours[o];s||(s=t.contours[o]=new e(f));s.addSegment({x:n,y:i},{x:r,y:u})};this.contourList=function(){var f=[],e=t.contours,u,i,o,n,r;for(u in e)for(i=e[u].s,o=e[u].level;i;){for(n=i.head,r=[],r.level=o,r.k=u;n&&n.p;)r.push(n.p),n=n.next;f.push(r);i=i.next}return f.sort(function(n,t){return n.k-t.k}),f}}this.h=new Array(5);this.sh=new Array(5);this.xh=new Array(5);this.yh=new Array(5)}var v=n("turf-tin"),y=n("turf-inside"),p=n("turf-grid"),h=n("turf-extent"),w=n("turf-planepoint"),b=n("turf-featurecollection"),k=(n("turf-linestring"),n("turf-polygon")),u=n("turf-point"),c=n("turf-square"),d=n("turf-size"),f;t.exports=function(n,t,i,r){var ot=(l(n,t,i),v(n,t)),st=h(n),e=c(st),s=p(e,i),tt=[],f,u,it,d,g,et,nt;for(s.features.forEach(function(n){ot.features.forEach(function(i){y(n,i)&&(n.properties={},n.properties[t]=w(n,i))});n.properties||(n.properties={},n.properties[t]=-100)}),f=Math.sqrt(s.features.length),u=0;f>u;u++)it=s.features.slice(u*f,(u+1)*f),d=[],it.forEach(function(n){d.push(n.properties?n.properties[t]:0)}),tt.push(d);for(var rt=(e[2]-e[0])/f,ut=[],ft=[],u=0;f>u;u++)ut.push(u*rt+e[0]),ft.push(u*rt+e[1]);return r=r.map(function(n){return 0===n?.01:n}),r=a(r),g=new o,g.contour(tt,0,i,0,i,ut,ft,r.length,r),et=g.contourList(),nt=b([]),et.forEach(function(n){var r,i;n.length>2&&(r=[],n.forEach(function(n){r.push([n.x,n.y])}),i=k([r]),i.properties={},i.properties[t]=n.level,nt.features.push(i))}),nt};i.Conrec=o;f=1e-10;e.prototype.remove_seq=function(n){n.prev?n.prev.next=n.next:this.s=n.next;n.next&&(n.next.prev=n.prev);--this.count};e.prototype.addSegment=function(n,t){for(var a,o,h,u,e=this.s,i=null,f=null,c=!1,l=!1;e&&(null==i&&(r(n,e.head.p)?(i=e,c=!0):r(n,e.tail.p)&&(i=e)),null==f&&(r(t,e.head.p)?(f=e,l=!0):r(t,e.tail.p)&&(f=e)),null==f||null==i);)e=e.next;a=(null!=i?1:0)|(null!=f?2:0);switch(a){case 0:o={p:n,prev:null};h={p:t,next:null};o.next=h;h.prev=o;i={head:o,tail:h,next:this.s,prev:null,closed:!1};this.s&&(this.s.prev=i);this.s=i;++this.count;break;case 1:u={p:t};c?(u.next=i.head,u.prev=null,i.head.prev=u,i.head=u):(u.next=null,u.prev=i.tail,i.tail.next=u,i.tail=u);break;case 2:u={p:n};l?(u.next=f.head,u.prev=null,f.head.prev=u,f.head=u):(u.next=null,u.prev=f.tail,f.tail.next=u,f.tail=u);break;case 3:if(i===f){u={p:i.tail.p,next:i.head,prev:null};i.head.prev=u;i.head=u;i.closed=!0;break}switch((c?1:0)|(l?2:0)){case 0:s(i);case 1:f.tail.next=i.head;i.head.prev=f.tail;f.tail=i.tail;this.remove_seq(i);break;case 3:s(i);case 2:i.tail.next=f.head;f.head.prev=i.tail;i.tail=f.tail;this.remove_seq(f)}}};o.prototype.contour=function(n,t,i,r,u,e,o,s,h){var y=this.h,ft=this.sh,b=this.xh,k=this.yh,vt=this.drawContour,p,et,ot,ut,v;this.contours={};for(var c,l,a,st,ht,ct,it=function(n,t){return(y[t]*b[n]-y[n]*b[t])/(y[t]-y[n])},rt=function(n,t){return(y[t]*k[n]-y[n]*k[t])/(y[t]-y[n])},d=0,g=0,nt=0,tt=0,lt=[0,1,1,0],at=[0,0,1,1],yt=[[[0,0,8],[0,2,5],[7,6,9]],[[0,3,4],[1,3,1],[4,3,0]],[[9,6,7],[5,2,0],[8,0,0]]],w=u-1;w>=r;w--)for(p=t;i-1>=p;p++)if(et=Math.min(n[p][w],n[p][w+1]),ot=Math.min(n[p+1][w],n[p+1][w+1]),ht=Math.min(et,ot),et=Math.max(n[p][w],n[p][w+1]),ot=Math.max(n[p+1][w],n[p+1][w+1]),ct=Math.max(et,ot),ct>=h[0]&&ht<=h[s-1])for(ut=0;s>ut;ut++)if(h[ut]>=ht&&h[ut]<=ct){for(v=4;v>=0;v--)v>0?(y[v]=n[p+lt[v-1]][w+at[v-1]]-h[ut],b[v]=e[p+lt[v-1]],k[v]=o[w+at[v-1]]):(y[0]=.25*(y[1]+y[2]+y[3]+y[4]),b[0]=.5*(e[p]+e[p+1]),k[0]=.5*(o[w]+o[w+1])),ft[v]=y[v]>f?1:y[v]<-f?-1:0;for(v=1;4>=v;v++)if(c=v,l=0,a=4!=v?v+1:1,st=yt[ft[c]+1][ft[l]+1][ft[a]+1],0!=st){switch(st){case 1:d=b[c];nt=k[c];g=b[l];tt=k[l];break;case 2:d=b[l];nt=k[l];g=b[a];tt=k[a];break;case 3:d=b[a];nt=k[a];g=b[c];tt=k[c];break;case 4:d=b[c];nt=k[c];g=it(l,a);tt=rt(l,a);break;case 5:d=b[l];nt=k[l];g=it(a,c);tt=rt(a,c);break;case 6:d=b[a];nt=k[a];g=it(c,l);tt=rt(c,l);break;case 7:d=it(c,l);nt=rt(c,l);g=it(l,a);tt=rt(l,a);break;case 8:d=it(l,a);nt=rt(l,a);g=it(a,c);tt=rt(a,c);break;case 9:d=it(a,c);nt=rt(a,c);g=it(c,l);tt=rt(c,l)}vt(d,nt,g,tt,h[ut],ut)}}}},{"turf-extent":65,"turf-featurecollection":67,"turf-grid":81,"turf-inside":73,"turf-linestring":101,"turf-planepoint":83,"turf-point":114,"turf-polygon":115,"turf-size":123,"turf-square":124,"turf-tin":84}],81:[function(n,t){var i=n("turf-point");t.exports=function(n,t,r){var o=n[0],h=n[1],c=n[2],s=(n[3],(c-o)/t),e={type:"FeatureCollection",features:[]},u,f;for(r=r||function(){},u=0;t>=u;u++)for(f=0;t>=f;f++)e.features.push(i(u*s+o,f*s+h));return r(null,e),e}},{"turf-point":82}],82:[function(n,t){t.exports=n(64)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-explode/node_modules/turf-point/index.js":64}],83:[function(n,t){t.exports=function(n,t){var i=n.geometry.coordinates[0];return y=n.geometry.coordinates[1],x1=t.geometry.coordinates[0][0][0],y1=t.geometry.coordinates[0][0][1],z1=t.properties.a,x2=t.geometry.coordinates[0][1][0],y2=t.geometry.coordinates[0][1][1],z2=t.properties.b,x3=t.geometry.coordinates[0][2][0],y3=t.geometry.coordinates[0][2][1],z3=t.properties.c,(z3*(i-x1)*(y-y2)+z1*(i-x2)*(y-y3)+z2*(i-x3)*(y-y1)-z2*(i-x1)*(y-y3)-z3*(i-x2)*(y-y1)-z1*(i-x3)*(y-y2))/((i-x1)*(y-y2)+(i-x2)*(y-y3)+(i-x3)*(y-y1)-(i-x1)*(y-y3)-(i-x2)*(y-y1)-(i-x3)*(y-y2))}},{}],84:[function(n,t){function r(n){return n.geometry.coordinates.forEach(function(n){var t=n[0]===n.slice(-1)[0];t||n.push(n[0])}),n}function i(n,t,i){this.a=n;this.b=t;this.c=i;var f,e,r,u,o=t.x-n.x,s=t.y-n.y,c=i.x-n.x,l=i.y-n.y,a=o*(n.x+t.x)+s*(n.y+t.y),v=c*(n.x+i.x)+l*(n.y+i.y),h=2*(o*(i.y-t.y)-s*(i.x-t.x));Math.abs(h)<1e-6?(f=Math.min(n.x,t.x,i.x),e=Math.min(n.y,t.y,i.y),r=.5*(Math.max(n.x,t.x,i.x)-f),u=.5*(Math.max(n.y,t.y,i.y)-e),this.x=f+r,this.y=e+u,this.r=r*r+u*u):(this.x=(l*a-s*v)/h,this.y=(o*v-c*a)/h,r=this.x-n.x,u=this.y-n.y,this.r=r*r+u*u)}function u(n,t){return t.x-n.x}function f(n){var r,u,i,f,e,t=n.length;n:for(;t;)for(u=n[--t],r=n[--t],i=t;i;)if(e=n[--i],f=n[--i],r===f&&u===e||r===e&&u===f){n.splice(t,2);n.splice(i,2);t-=2;continue n}}function e(n){if(n.length<3)return[];n.sort(u);for(var r=n.length-1,w=n[r].x,b=n[0].x,c=n[r].y,v=c;r--;)n[r].y<c&&(c=n[r].y),n[r].y>v&&(v=n[r].y);var t,k,d,o=b-w,l=v-c,a=o>l?o:l,y=.5*(b+w),p=.5*(v+c),e=[new i({x:y-20*a,y:p-a,__sentinel:!0},{x:y,y:p+20*a,__sentinel:!0},{x:y+20*a,y:p-a,__sentinel:!0})],s=[],h=[];for(r=n.length;r--;){for(h.length=0,t=e.length;t--;)o=n[r].x-e[t].x,o>0&&o*o>e[t].r?(s.push(e[t]),e.splice(t,1)):(l=n[r].y-e[t].y,o*o+l*l>e[t].r||(h.push(e[t].a,e[t].b,e[t].b,e[t].c,e[t].c,e[t].a),e.splice(t,1)));for(f(h),t=h.length;t;)d=h[--t],k=h[--t],e.push(new i(k,d,n[r]))}for(Array.prototype.push.apply(s,e),r=s.length;r--;)(s[r].a.__sentinel||s[r].b.__sentinel||s[r].c.__sentinel)&&s.splice(r,1);return s}var o=n("turf-polygon"),s=n("turf-nearest"),h=n("turf-point");t.exports=function(n,t,i){var f=[],c,u;return n.features.forEach(function(n){f.push({x:n.geometry.coordinates[0],y:n.geometry.coordinates[1]})}),c=e(f),u={type:"FeatureCollection",features:[]},i=i||function(){},c.forEach(function(n){var t=[[[n.a.x,n.a.y],[n.b.x,n.b.y],[n.c.x,n.c.y]]],i=o(t,{a:null,b:null,c:null});u.features.push(i)}),t&&u.features.forEach(function(i){var r=1;i.geometry.coordinates[0].forEach(function(u){var f=s(h(u[0],u[1]),n);1===r?i.properties.a=f.properties[t]:2===r?i.properties.b=f.properties[t]:3===r&&(i.properties.c=f.properties[t]);r++})}),u.features.forEach(function(n){n=r(n)}),i(null,u),u};i.prototype.draw=function(n){n.beginPath();n.moveTo(this.a.x,this.a.y);n.lineTo(this.b.x,this.b.y);n.lineTo(this.c.x,this.c.y);n.closePath();n.stroke()}},{"turf-nearest":85,"turf-point":87,"turf-polygon":88}],85:[function(n,t){distance=n("turf-distance");t.exports=function(n,t){var i;return t.features.forEach(function(t){var r;i?(r=distance(n,t,"miles"),r<i.properties.distance&&(i=t,i.properties.distance=r)):(i=t,r=distance(n,t,"miles"),i.properties.distance=r)}),delete i.properties.distance,i}},{"turf-distance":86}],86:[function(n,t){function i(n){return n*Math.PI/180}t.exports=function(n,t,r){var f=n.geometry.coordinates,e=t.geometry.coordinates,o=i(e[1]-f[1]),s=i(e[0]-f[0]),c=i(f[1]),l=i(e[1]),h=Math.sin(o/2)*Math.sin(o/2)+Math.sin(s/2)*Math.sin(s/2)*Math.cos(c)*Math.cos(l),a=2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),u=0;switch(r){case"miles":u=3960;break;case"kilometers":u=6373;break;case"degrees":u=57.2957795;break;case"radians":u=1}return u*a}},{}],87:[function(n,t){t.exports=n(64)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-explode/node_modules/turf-point/index.js":64}],88:[function(n,t){t.exports=n(31)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-bbox-polygon/node_modules/turf-polygon/index.js":31}],89:[function(n,t,i){function r(n,t){var i=n.x-t.x,r=n.y-t.y;return u>i*i+r*r}function o(n){for(var i,t=n.head;t;)i=t.next,t.next=t.prev,t.prev=i,t=i;i=n.head;n.head=n.tail;n.tail=i}function f(n){this.level=n;this.s=null;this.count=0}function e(n){if(n)this.drawContour=n;else{var t=this;t.contours={};this.drawContour=function(n,i,r,u,e,o){var s=t.contours[o];s||(s=t.contours[o]=new f(e));s.addSegment({x:n,y:i},{x:r,y:u})};this.contourList=function(){var f=[],e=t.contours,u,i,o,n,r;for(u in e)for(i=e[u].s,o=e[u].level;i;){for(n=i.head,r=[],r.level=o,r.k=u;n&&n.p;)r.push(n.p),n=n.next;f.push(r);i=i.next}return f.sort(function(n,t){return n.k-t.k}),f}}this.h=new Array(5);this.sh=new Array(5);this.xh=new Array(5);this.yh=new Array(5)}var s=n("turf-tin"),h=n("turf-inside"),c=n("turf-grid"),l=n("turf-extent"),a=n("turf-planepoint"),v=n("turf-featurecollection"),y=n("turf-linestring"),p=n("turf-square"),u;t.exports=function(n,t,i,r){var ft=s(n,t),et=l(n),o=p(et),w=c(o,i),g=[],f,u,nt,b,k,ut,d;for(w.features.forEach(function(n){ft.features.forEach(function(i){h(n,i)&&(n.properties={},n.properties[t]=a(n,i))})}),f=Math.sqrt(w.features.length),u=0;f>u;u++)nt=w.features.slice(u*f,(u+1)*f),b=[],nt.forEach(function(n){b.push(n.properties?n.properties[t]:0)}),g.push(b);for(var tt=(o[2]-o[0])/f,it=[],rt=[],u=0;f>u;u++)it.push(u*tt+o[0]),rt.push(u*tt+o[1]);return k=new e,k.contour(g,0,i,0,i,it,rt,r.length,r),ut=k.contourList(),d=v([]),ut.forEach(function(n){var r,i;n.length>2&&(r=[],n.forEach(function(n){r.push([n.x,n.y])}),i=y(r),i.properties={},i.properties[t]=n.level,d.features.push(i))}),d};i.Conrec=e;u=1e-10;f.prototype.remove_seq=function(n){n.prev?n.prev.next=n.next:this.s=n.next;n.next&&(n.next.prev=n.prev);--this.count};f.prototype.addSegment=function(n,t){for(var a,s,h,u,e=this.s,i=null,f=null,c=!1,l=!1;e&&(null==i&&(r(n,e.head.p)?(i=e,c=!0):r(n,e.tail.p)&&(i=e)),null==f&&(r(t,e.head.p)?(f=e,l=!0):r(t,e.tail.p)&&(f=e)),null==f||null==i);)e=e.next;a=(null!=i?1:0)|(null!=f?2:0);switch(a){case 0:s={p:n,prev:null};h={p:t,next:null};s.next=h;h.prev=s;i={head:s,tail:h,next:this.s,prev:null,closed:!1};this.s&&(this.s.prev=i);this.s=i;++this.count;break;case 1:u={p:t};c?(u.next=i.head,u.prev=null,i.head.prev=u,i.head=u):(u.next=null,u.prev=i.tail,i.tail.next=u,i.tail=u);break;case 2:u={p:n};l?(u.next=f.head,u.prev=null,f.head.prev=u,f.head=u):(u.next=null,u.prev=f.tail,f.tail.next=u,f.tail=u);break;case 3:if(i===f){u={p:i.tail.p,next:i.head,prev:null};i.head.prev=u;i.head=u;i.closed=!0;break}switch((c?1:0)|(l?2:0)){case 0:o(i);case 1:f.tail.next=i.head;i.head.prev=f.tail;f.tail=i.tail;this.remove_seq(i);break;case 3:o(i);case 2:i.tail.next=f.head;f.head.prev=i.tail;i.tail=f.tail;this.remove_seq(f)}}};e.prototype.contour=function(n,t,i,r,f,e,o,s,h){var y=this.h,ft=this.sh,b=this.xh,k=this.yh,vt=this.drawContour,p,et,ot,ut,v;this.contours={};for(var c,l,a,st,ht,ct,it=function(n,t){return(y[t]*b[n]-y[n]*b[t])/(y[t]-y[n])},rt=function(n,t){return(y[t]*k[n]-y[n]*k[t])/(y[t]-y[n])},d=0,g=0,nt=0,tt=0,lt=[0,1,1,0],at=[0,0,1,1],yt=[[[0,0,8],[0,2,5],[7,6,9]],[[0,3,4],[1,3,1],[4,3,0]],[[9,6,7],[5,2,0],[8,0,0]]],w=f-1;w>=r;w--)for(p=t;i-1>=p;p++)if(et=Math.min(n[p][w],n[p][w+1]),ot=Math.min(n[p+1][w],n[p+1][w+1]),ht=Math.min(et,ot),et=Math.max(n[p][w],n[p][w+1]),ot=Math.max(n[p+1][w],n[p+1][w+1]),ct=Math.max(et,ot),ct>=h[0]&&ht<=h[s-1])for(ut=0;s>ut;ut++)if(h[ut]>=ht&&h[ut]<=ct){for(v=4;v>=0;v--)v>0?(y[v]=n[p+lt[v-1]][w+at[v-1]]-h[ut],b[v]=e[p+lt[v-1]],k[v]=o[w+at[v-1]]):(y[0]=.25*(y[1]+y[2]+y[3]+y[4]),b[0]=.5*(e[p]+e[p+1]),k[0]=.5*(o[w]+o[w+1])),ft[v]=y[v]>u?1:y[v]<-u?-1:0;for(v=1;4>=v;v++)if(c=v,l=0,a=4!=v?v+1:1,st=yt[ft[c]+1][ft[l]+1][ft[a]+1],0!=st){switch(st){case 1:d=b[c];nt=k[c];g=b[l];tt=k[l];break;case 2:d=b[l];nt=k[l];g=b[a];tt=k[a];break;case 3:d=b[a];nt=k[a];g=b[c];tt=k[c];break;case 4:d=b[c];nt=k[c];g=it(l,a);tt=rt(l,a);break;case 5:d=b[l];nt=k[l];g=it(a,c);tt=rt(a,c);break;case 6:d=b[a];nt=k[a];g=it(c,l);tt=rt(c,l);break;case 7:d=it(c,l);nt=rt(c,l);g=it(l,a);tt=rt(l,a);break;case 8:d=it(l,a);nt=rt(l,a);g=it(a,c);tt=rt(a,c);break;case 9:d=it(a,c);nt=rt(a,c);g=it(c,l);tt=rt(c,l)}vt(d,nt,g,tt,h[ut],ut)}}}},{"turf-extent":65,"turf-featurecollection":67,"turf-grid":90,"turf-inside":73,"turf-linestring":101,"turf-planepoint":92,"turf-square":124,"turf-tin":93}],90:[function(n,t){t.exports=n(81)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-isobands/node_modules/turf-grid/index.js":81,"turf-point":91}],91:[function(n,t){t.exports=n(64)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-explode/node_modules/turf-point/index.js":64}],92:[function(n,t){t.exports=n(83)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-isobands/node_modules/turf-planepoint/index.js":83}],93:[function(n,t){function r(n){return n.geometry.coordinates.forEach(function(n){var t=n[0]===n.slice(-1)[0];t||n.push(n[0])}),n}function i(n,t,i){this.a=n;this.b=t;this.c=i;var f,e,r,u,o=t.x-n.x,s=t.y-n.y,c=i.x-n.x,l=i.y-n.y,a=o*(n.x+t.x)+s*(n.y+t.y),v=c*(n.x+i.x)+l*(n.y+i.y),h=2*(o*(i.y-t.y)-s*(i.x-t.x));Math.abs(h)<1e-6?(f=Math.min(n.x,t.x,i.x),e=Math.min(n.y,t.y,i.y),r=.5*(Math.max(n.x,t.x,i.x)-f),u=.5*(Math.max(n.y,t.y,i.y)-e),this.x=f+r,this.y=e+u,this.r=r*r+u*u):(this.x=(l*a-s*v)/h,this.y=(o*v-c*a)/h,r=this.x-n.x,u=this.y-n.y,this.r=r*r+u*u)}function u(n,t){return t.x-n.x}function f(n){var r,u,i,f,e,t=n.length;n:for(;t;)for(u=n[--t],r=n[--t],i=t;i;)if(e=n[--i],f=n[--i],r===f&&u===e||r===e&&u===f){n.splice(t,2);n.splice(i,2);t-=2;continue n}}function e(n){if(n.length<3)return[];n.sort(u);for(var r=n.length-1,w=n[r].x,b=n[0].x,c=n[r].y,v=c;r--;)n[r].y<c&&(c=n[r].y),n[r].y>v&&(v=n[r].y);var t,k,d,o=b-w,l=v-c,a=o>l?o:l,y=.5*(b+w),p=.5*(v+c),e=[new i({x:y-20*a,y:p-a,__sentinel:!0},{x:y,y:p+20*a,__sentinel:!0},{x:y+20*a,y:p-a,__sentinel:!0})],s=[],h=[];for(r=n.length;r--;){for(h.length=0,t=e.length;t--;)o=n[r].x-e[t].x,o>0&&o*o>e[t].r?(s.push(e[t]),e.splice(t,1)):(l=n[r].y-e[t].y,o*o+l*l>e[t].r||(h.push(e[t].a,e[t].b,e[t].b,e[t].c,e[t].c,e[t].a),e.splice(t,1)));for(f(h),t=h.length;t;)d=h[--t],k=h[--t],e.push(new i(k,d,n[r]))}for(Array.prototype.push.apply(s,e),r=s.length;r--;)(s[r].a.__sentinel||s[r].b.__sentinel||s[r].c.__sentinel)&&s.splice(r,1);return s}var o=n("turf-polygon"),s=n("turf-nearest"),h=n("turf-point");t.exports=function(n,t){var u=[],f,i;return n.features.forEach(function(n){u.push({x:n.geometry.coordinates[0],y:n.geometry.coordinates[1]})}),f=e(u),i={type:"FeatureCollection",features:[]},f.forEach(function(n){var t=[[[n.a.x,n.a.y],[n.b.x,n.b.y],[n.c.x,n.c.y]]],r=o(t,{a:null,b:null,c:null});i.features.push(r)}),t&&i.features.forEach(function(i){var r=1;i.geometry.coordinates[0].forEach(function(u){var f=s(h(u[0],u[1]),n);1===r?i.properties.a=f.properties[t]:2===r?i.properties.b=f.properties[t]:3===r&&(i.properties.c=f.properties[t]);r++})}),i.features.forEach(function(n){n=r(n)}),i};i.prototype.draw=function(n){n.beginPath();n.moveTo(this.a.x,this.a.y);n.lineTo(this.b.x,this.b.y);n.lineTo(this.c.x,this.c.y);n.closePath();n.stroke()}},{"turf-nearest":94,"turf-point":96,"turf-polygon":97}],94:[function(n,t){t.exports=n(85)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-isobands/node_modules/turf-tin/node_modules/turf-nearest/index.js":85,"turf-distance":95}],95:[function(n,t){t.exports=n(86)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-isobands/node_modules/turf-tin/node_modules/turf-nearest/node_modules/turf-distance/index.js":86}],96:[function(n,t){t.exports=n(64)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-explode/node_modules/turf-point/index.js":64}],97:[function(n,t){t.exports=n(31)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-bbox-polygon/node_modules/turf-polygon/index.js":31}],98:[function(n,t){var i=n("simple-statistics");t.exports=function(n,t,r){var u=[],f=[];return n.features.forEach(function(n){void 0!==n.properties[t]&&u.push(n.properties[t])}),f=i.jenks(u,r)}},{"simple-statistics":99}],99:[function(n,t){t.exports=n(12)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-aggregate/node_modules/turf-deviation/node_modules/simple-statistics/src/simple_statistics.js":12}],100:[function(n,t){function i(n,t,i,r,u,f,e,o){var l,h,c,a,v,s={x:null,y:null,onLine1:!1,onLine2:!1};return l=(o-f)*(i-n)-(e-u)*(r-t),0==l?null!=s.x&&null!=s.y?s:!1:(h=t-f,c=n-u,a=(e-u)*h-(o-f)*c,v=(i-n)*h-(r-t)*c,h=a/l,c=v/l,s.x=n+h*(i-n),s.y=t+h*(r-t),h>0&&1>h&&(s.onLine1=!0),c>0&&1>c&&(s.onLine2=!0),s.onLine1&&s.onLine2?[s.x,s.y]:!1)}var r=n("turf-polygon"),u=n("turf-point"),f=n("turf-featurecollection");t.exports=function(n){var t,e={intersections:f([]),fixed:null};return t="Feature"===r.type?n.geometry:n,t.coordinates.forEach(function(n){t.coordinates.forEach(function(t){for(var f,o,r=0;r<n.length-1;r++)for(f=0;f<t.length-1;f++)o=i(n[r][0],n[r][1],n[r+1][0],n[r+1][1],t[f][0],t[f][1],t[f+1][0],t[f+1][1]),o&&e.intersections.features.push(u(o[0],o[1]))})}),e}},{"turf-featurecollection":67,"turf-point":114,"turf-polygon":115}],101:[function(n,t){t.exports=n(34)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-bezier/node_modules/turf-linestring/index.js":34}],102:[function(n,t){var i=n("simple-statistics"),r=n("turf-inside");t.exports=function(n,t,u,f){return n.features.forEach(function(n){n.properties||(n.properties={});var e=[];t.features.forEach(function(t){r(t,n)&&e.push(t.properties[u])});n.properties[f]=i.max(e)}),n}},{"simple-statistics":103,"turf-inside":73}],103:[function(n,t){t.exports=n(49)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-deviation/node_modules/simple-statistics/src/simple_statistics.js":49}],104:[function(n,t){var i=n("simple-statistics"),r=n("turf-inside");t.exports=function(n,t,u,f){return n.features.forEach(function(n){n.properties||(n.properties={});var e=[];t.features.forEach(function(t){r(t,n)&&e.push(t.properties[u])});n.properties[f]=i.median(e)}),n}},{"simple-statistics":105,"turf-inside":73}],105:[function(n,t){t.exports=n(49)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-deviation/node_modules/simple-statistics/src/simple_statistics.js":49}],106:[function(n,t){var i=n("clone"),r=n("turf-union");t.exports=function(n){for(var f,t=i(n.features[0]),e=n.features,u=0,o=e.length;o>u;u++)f=e[u],f.geometry&&(t=r(t,f));return t}},{clone:107,"turf-union":133}],107:[function(n,t){(function(n){"use strict";function r(n){return Object.prototype.toString.call(n)}function u(t,r,u,f){function e(t,u){var c,l,v,a,y;if(null===t)return null;if(0==u||"object"!=typeof t)return t;if(i.isArray(t))c=[];else if(i.isRegExp(t))c=new RegExp(t.source,i.getRegExpFlags(t)),t.lastIndex&&(c.lastIndex=t.lastIndex);else if(i.isDate(t))c=new Date(t.getTime());else{if(h&&n.isBuffer(t))return c=new n(t.length),t.copy(c),c;"undefined"==typeof f?(l=Object.getPrototypeOf(t),c=Object.create(l)):(c=Object.create(f),l=f)}if(r){if(v=o.indexOf(t),-1!=v)return s[v];o.push(t);s.push(c)}for(a in t)l&&(y=Object.getOwnPropertyDescriptor(l,a)),y&&null==y.set||(c[a]=e(t[a],u-1));return c}var o=[],s=[],h="undefined"!=typeof n;return"undefined"==typeof r&&(r=!0),"undefined"==typeof u&&(u=1/0),e(t,u)}var i={isArray:function(n){return Array.isArray(n)||"object"==typeof n&&"[object Array]"===r(n)},isDate:function(n){return"object"==typeof n&&"[object Date]"===r(n)},isRegExp:function(n){return"object"==typeof n&&"[object RegExp]"===r(n)},getRegExpFlags:function(n){var t="";return n.global&&(t+="g"),n.ignoreCase&&(t+="i"),n.multiline&&(t+="m"),t}};"object"==typeof t&&(t.exports=u);u.clonePrototype=function(n){if(null===n)return null;var t=function(){};return t.prototype=n,new t}}).call(this,n("buffer").Buffer)},{buffer:2}],108:[function(n,t){var i=n("turf-point");t.exports=function(n,t){if(null===n||null===t||n&&null===t)return new Error("Less than two points passed.");var r=n.geometry.coordinates[0],u=t.geometry.coordinates[0],f=n.geometry.coordinates[1],e=t.geometry.coordinates[1],o=r+u,s=o/2,h=f+e,c=h/2;return i(s,c)}},{"turf-point":114}],109:[function(n,t){var i=n("simple-statistics"),r=n("turf-inside");t.exports=function(n,t,u,f){return n.features.forEach(function(n){n.properties||(n.properties={});var e=[];t.features.forEach(function(t){r(t,n)&&e.push(t.properties[u])});n.properties[f]=i.min(e)}),n}},{"simple-statistics":110,"turf-inside":73}],110:[function(n,t){t.exports=n(49)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-deviation/node_modules/simple-statistics/src/simple_statistics.js":49}],111:[function(n,t){distance=n("turf-distance");t.exports=function(n,t){var i;return t.features.forEach(function(t){var r;i?(r=distance(n,t,"miles"),r<i.properties.distance&&(i=t,i.properties.distance=r)):(i=t,r=distance(n,t,"miles"),i.properties.distance=r)}),delete i.properties.distance,i}},{"turf-distance":50}],112:[function(n,t){t.exports=function(n,t){var i=n.geometry.coordinates[0],r=n.geometry.coordinates[1],u=t.geometry.coordinates[0][0][0],f=t.geometry.coordinates[0][0][1],c=t.properties.a,e=t.geometry.coordinates[0][1][0],o=t.geometry.coordinates[0][1][1],l=t.properties.b,s=t.geometry.coordinates[0][2][0],h=t.geometry.coordinates[0][2][1],a=t.properties.c;return(a*(i-u)*(r-o)+c*(i-e)*(r-h)+l*(i-s)*(r-f)-l*(i-u)*(r-h)-a*(i-e)*(r-f)-c*(i-s)*(r-o))/((i-u)*(r-o)+(i-e)*(r-h)+(i-s)*(r-f)-(i-u)*(r-h)-(i-e)*(r-f)-(i-s)*(r-o))}},{}],113:[function(n,t){function i(n,t,i,r,u,f){var e=Math.sqrt((u-i)*(u-i)+(f-r)*(f-r)),o=Math.sqrt((n-i)*(n-i)+(t-r)*(t-r)),s=Math.sqrt((u-n)*(u-n)+(f-t)*(f-t));if(e===o+s)return!0}var r=n("turf-featurecollection"),u=n("turf-center"),f=n("turf-distance"),e=n("turf-inside"),o=n("turf-explode");t.exports=function(n){var t,w,v,s,ut,p,ft,a,et,b,h,k;"FeatureCollection"!=n.type&&("Feature"!=n.type&&(n={type:"Feature",geometry:n}),n=r([n]));for(var c=u(n),l=!1,h=0;!l&&h<n.features.length;){if(t=n.features[h].geometry,"Point"===t.type)c.geometry.coordinates[0]===t.coordinates[0]&&c.geometry.coordinates[1]===t.coordinates[1]&&(l=!0);else if("MultiPoint"===t.type)for(w=!1,s=0;!w&&s<t.coordinates.length;)c.geometry.coordinates[0]===t.coordinates[s][0]&&c.geometry.coordinates[1]===t.coordinates[s][1]&&(l=!0,w=!0),s++;else if("LineString"===t.type)for(v=!1,s=0;!v&&s<t.coordinates.length-1;){var d=c.geometry.coordinates[0],g=c.geometry.coordinates[1],nt=t.coordinates[s][0],tt=t.coordinates[s][1],it=t.coordinates[s+1][0],rt=t.coordinates[s+1][1];i(d,g,nt,tt,it,rt)&&(v=!0,l=!0);s++}else if("MultiLineString"===t.type)for(ut=!1,p=0;!ut&&p<t.coordinates.length;){for(var v=!1,s=0,y=t.coordinates[p];!v&&s<y.length-1;){var d=c.geometry.coordinates[0],g=c.geometry.coordinates[1],nt=y[s][0],tt=y[s][1],it=y[s+1][0],rt=y[s+1][1];i(d,g,nt,tt,it,rt)&&(v=!0,l=!0);s++}p++}else("Polygon"===t.type||"MultiPolygon"===t.type)&&(ft={type:"Feature",geometry:t},e(c,ft)&&(l=!0));h++}if(l)return c;for(a=r([]),h=0;h<n.features.length;h++)a.features=a.features.concat(o(n.features[h]).features);for(b=1/0,h=0;h<a.features.length;h++)k=f(c,a.features[h],"miles"),b>k&&(b=k,et=a.features[h]);return et}},{"turf-center":40,"turf-distance":50,"turf-explode":61,"turf-featurecollection":67,"turf-inside":73}],114:[function(n,t){t.exports=function(n,t,i){if(n instanceof Array)i=t,t=n[1],n=n[0];else if(isNaN(n)||isNaN(t))throw new Error("Invalid coordinates");return{type:"Feature",geometry:{type:"Point",coordinates:[n,t]},properties:i||{}}}},{}],115:[function(n,t){t.exports=function(n,t){if(null===n)return new Error("No coordinates passed");var i={type:"Feature",geometry:{type:"Polygon",coordinates:n},properties:t};return i.properties||(i.properties={}),i}},{}],116:[function(n,t){var i=n("simple-statistics");t.exports=function(n,t,r){var u=[],f=[];return n.features.forEach(function(n){u.push(n.properties[t])}),r.forEach(function(n){f.push(i.quantile(u,.01*n))}),f}},{"simple-statistics":117}],117:[function(n,t){t.exports=n(12)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-aggregate/node_modules/turf-deviation/node_modules/simple-statistics/src/simple_statistics.js":12}],118:[function(n,t){var i=n("turf-featurecollection");n("./index.js");t.exports=function(n,t,r,u){var f=i([]);return n.features.forEach(function(n){for(var i=0;i<u.length;i++)n.properties[t]>=u[i][0]&&n.properties[t]<=u[i][1]&&(n.properties[r]=u[i][2]);f.features.push(n)}),f}},{"./index.js":118,"turf-featurecollection":67}],119:[function(n,t){var i=n("turf-featurecollection");t.exports=function(n,t,r){for(var f=i([]),u=0;u<n.features.length;u++)n.features[u].properties[t]!=r&&f.features.push(n.features[u]);return f}},{"turf-featurecollection":67}],120:[function(n,t){function i(n,t){for(var f,u,i=n.slice(0),r=n.length,e=r-t;r-->e;)u=Math.floor((r+1)*Math.random()),f=i[u],i[u]=i[r],i[r]=f;return i.slice(e)}featureCollection=n("turf-featurecollection");t.exports=function(n,t){return featureCollection(i(n.features,t))}},{"turf-featurecollection":67}],121:[function(n,t){function i(n,t){return{type:"Feature",geometry:n,properties:t}}var r=n("simplify-js");t.exports=function(n,t,u){var f,o,e;return"LineString"===n.geometry.type?(f={type:"LineString",coordinates:[]},o=n.geometry.coordinates.map(function(n){return{x:n[0],y:n[1]}}),f.coordinates=r(o,t,u).map(function(n){return[n.x,n.y]}),i(f,n.properties)):"Polygon"===n.geometry.type?(e={type:"Polygon",coordinates:[]},n.geometry.coordinates.forEach(function(n){var i=n.map(function(n){return{x:n[0],y:n[1]}}),f=r(i,t,u).map(function(n){return[n.x,n.y]});e.coordinates.push(f)}),i(e,n.properties)):void 0}},{"simplify-js":122}],122:[function(t,i){!function(){"use strict";function r(n,t){var i=n.x-t.x,r=n.y-t.y;return i*i+r*r}function u(n,t,i){var f=t.x,e=t.y,r=i.x-f,u=i.y-e,o;return(0!==r||0!==u)&&(o=((n.x-f)*r+(n.y-e)*u)/(r*r+u*u),o>1?(f=i.x,e=i.y):o>0&&(f+=r*o,e+=u*o)),r=n.x-f,u=n.y-e,r*r+u*u}function f(n,t){for(var i,u=n[0],f=[u],e=1,o=n.length;o>e;e++)i=n[e],r(i,u)>t&&(f.push(i),u=i);return u!==i&&f.push(i),f}function e(n,t){var i,e,h,o,c=n.length,v="undefined"!=typeof Uint8Array?Uint8Array:Array,s=new v(c),f=0,r=c-1,l=[],a=[];for(s[f]=s[r]=1;r;){for(e=0,i=f+1;r>i;i++)h=u(n[i],n[f],n[r]),h>e&&(o=i,e=h);e>t&&(s[o]=1,l.push(f,o,o,r));r=l.pop();f=l.pop()}for(i=0;c>i;i++)s[i]&&a.push(n[i]);return a}function t(n,t,i){var r=void 0!==t?t*t:1;return n=i?n:f(n,r),n=e(n,r)}"function"==typeof n&&n.amd?n(function(){return t}):"undefined"!=typeof i?i.exports=t:"undefined"!=typeof self?self.simplify=t:window.simplify=t}()},{}],123:[function(n,t){t.exports=function(n,t){var i=n[2]-n[0],r=n[3]-n[1],e=i*t,o=r*t,u=e-i,f=o-r,s=n[0]-u/2,h=n[1]-f/2,c=u/2+n[2],l=f/2+n[3];return[s,h,c,l]}},{}],124:[function(n,t){var r=n("turf-midpoint"),i=n("turf-point"),u=n("turf-distance");t.exports=function(n){var t=[0,0,0,0],f=i(n[0],n[1]),s=i(n[0],n[3]),h=(i(n[2],n[3]),i(n[2],n[1])),c=u(f,h,"miles"),l=u(f,s,"miles"),e,o;return c>=l?(t[0]=n[0],t[2]=n[2],e=r(f,s),t[1]=e.geometry.coordinates[1]-(n[2]-n[0])/2,t[3]=e.geometry.coordinates[1]+(n[2]-n[0])/2,t):(t[1]=n[1],t[3]=n[3],o=r(f,h),t[0]=o.geometry.coordinates[0]-(n[3]-n[1])/2,t[2]=o.geometry.coordinates[0]+(n[3]-n[1])/2,t)}},{"turf-distance":125,"turf-midpoint":126,"turf-point":114}],125:[function(n,t){t.exports=n(86)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-isobands/node_modules/turf-tin/node_modules/turf-nearest/node_modules/turf-distance/index.js":86}],126:[function(n,t){var i=n("turf-point");t.exports=function(n,t){if(null===n||null===t||n&&null===t)return new Error("Less than two points passed.");var r=n.geometry.coordinates[0],u=t.geometry.coordinates[0],f=n.geometry.coordinates[1],e=t.geometry.coordinates[1],o=r+u,s=o/2,h=f+e,c=h/2;return i(s,c)}},{"turf-point":127}],127:[function(n,t){t.exports=n(64)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-explode/node_modules/turf-point/index.js":64}],128:[function(n,t){var i=n("simple-statistics"),r=n("turf-inside");t.exports=function(n,t,u,f){return n.features.forEach(function(n){n.properties||(n.properties={});var e=[];t.features.forEach(function(t){r(t,n)&&e.push(t.properties[u])});n.properties[f]=i.sum(e)}),n}},{"simple-statistics":129,"turf-inside":130}],129:[function(n,t){t.exports=n(12)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-aggregate/node_modules/turf-deviation/node_modules/simple-statistics/src/simple_statistics.js":12}],130:[function(n,t){t.exports=n(8)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-aggregate/node_modules/turf-average/node_modules/turf-inside/index.js":8}],131:[function(n,t){inside=n("turf-inside");t.exports=function(n,t,i,r){return n.features.forEach(function(n){n.properties||(n.properties={});t.features.forEach(function(t){if(!n.properties[r]){var u=inside(n,t);n.properties[r]=u?t.properties[i]:null}})}),n}},{"turf-inside":73}],132:[function(n,t,i){arguments[4][93][0].apply(i,arguments)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-isolines/node_modules/turf-tin/index.js":93,"turf-nearest":111,"turf-point":114,"turf-polygon":115}],133:[function(n,t){var i=n("jsts");t.exports=function(n,t){var u=new i.io.GeoJSONReader,f=u.read(JSON.stringify(n.geometry)),e=u.read(JSON.stringify(t.geometry)),r=f.union(e),o=new i.io.GeoJSONParser;return r=o.write(r),{type:"Feature",geometry:r,properties:n.properties}}},{jsts:134}],134:[function(n,t){t.exports=n(36)},{"./lib/jsts":135,"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-buffer/node_modules/jsts/index.js":36,"javascript.util":137}],135:[function(n,t){t.exports=n(37)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-buffer/node_modules/jsts/lib/jsts.js":37}],136:[function(n,t){t.exports=n(38)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-buffer/node_modules/jsts/node_modules/javascript.util/dist/javascript.util-node.min.js":38}],137:[function(n,t){t.exports=n(39)},{"./dist/javascript.util-node.min.js":136,"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-buffer/node_modules/jsts/node_modules/javascript.util/index.js":39}],138:[function(n,t){var i=n("simple-statistics"),r=n("turf-inside");t.exports=function(n,t,u,f){return n.features.forEach(function(n){n.properties||(n.properties={});var e=[];t.features.forEach(function(t){r(t,n)&&e.push(t.properties[u])});n.properties[f]=i.variance(e)}),n}},{"simple-statistics":139,"turf-inside":73}],139:[function(n,t){t.exports=n(49)},{"/Users/morgan/Documents/projects/turfjs/turf/node_modules/turf-deviation/node_modules/simple-statistics/src/simple_statistics.js":49}],140:[function(n,t){var i=n("turf-inside"),r=n("turf-featurecollection");t.exports=function(n,t){return pointsWithin=r([]),t.features.forEach(function(t){n.features.forEach(function(n){var r=i(n,t);r&&pointsWithin.features.push(n)})}),pointsWithin}},{"turf-featurecollection":67,"turf-inside":73}]},{},[1])(1)});"use strict";var Geohash={};Geohash.base32="0123456789bcdefghjkmnpqrstuvwxyz";Geohash.encode=function(n,t,i){var u,o,s,f,e;if(typeof i=="undefined"){for(u=1;u<=12;u++)if(o=Geohash.encode(n,t,u),s=Geohash.decode(o),s.lat==n&&s.lon==t)return o;i=12}if(n=Number(n),t=Number(t),i=Number(i),isNaN(n)||isNaN(t)||isNaN(i))throw new Error("Invalid geohash");for(var r=0,l=0,h=!0,c="",a=-90,v=90,y=-180,p=180;c.length<i;)h?(f=(y+p)/2,t>f?(r=r*2+1,y=f):(r=r*2,p=f)):(e=(a+v)/2,n>e?(r=r*2+1,a=e):(r=r*2,v=e)),h=!h,++l==5&&(c+=Geohash.base32.charAt(r),l=0,r=0);return c};Geohash.decode=function(n){var t=Geohash.bounds(n),u=t.sw.lat,f=t.sw.lon,e=t.ne.lat,o=t.ne.lon,i=(u+e)/2,r=(f+o)/2;return i=i.toFixed(Math.floor(2-Math.log(e-u)/Math.LN10)),r=r.toFixed(Math.floor(2-Math.log(o-f)/Math.LN10)),{lat:Number(i),lon:Number(r)}};Geohash.bounds=function(n){var t,a,s,i,h,c,l;if(n.length===0)throw new Error("Invalid geohash");n=n.toLowerCase();var r=!0,u=-90,f=90,e=-180,o=180;for(t=0;t<n.length;t++){if(a=n.charAt(t),s=Geohash.base32.indexOf(a),s==-1)throw new Error("Invalid geohash");for(i=4;i>=0;i--)h=s>>i&1,r?(c=(e+o)/2,h==1?e=c:o=c):(l=(u+f)/2,h==1?u=l:f=l),r=!r}return{sw:{lat:u,lon:e},ne:{lat:f,lon:o}}};Geohash.adjacent=function(n,t){if(n=n.toLowerCase(),t=t.toLowerCase(),n.length===0)throw new Error("Invalid geohash");if("nsew".indexOf(t)==-1)throw new Error("Invalid direction");var r=n.slice(-1),i=n.slice(0,-1),u=n.length%2;return{n:["prxz","bcfguvyz"],s:["028b","0145hjnp"],e:["bcfguvyz","prxz"],w:["0145hjnp","028b"]}[t][u].indexOf(r)!=-1&&i!==""&&(i=Geohash.adjacent(i,t)),i+Geohash.base32.charAt({n:["p0r21436x8zb9dcf5h7kjnmqesgutwvy","bc01fg45238967deuvhjyznpkmstqrwx"],s:["14365h7k9dcfesgujnmqp0r2twvyx8zb","238967debc01fg45kmstqrwxuvhjyznp"],e:["bc01fg45238967deuvhjyznpkmstqrwx","p0r21436x8zb9dcf5h7kjnmqesgutwvy"],w:["238967debc01fg45kmstqrwxuvhjyznp","14365h7k9dcfesgujnmqp0r2twvyx8zb"]}[t][u].indexOf(r))};Geohash.neighbours=function(n){return{n:Geohash.adjacent(n,"n"),ne:Geohash.adjacent(Geohash.adjacent(n,"n"),"e"),e:Geohash.adjacent(n,"e"),se:Geohash.adjacent(Geohash.adjacent(n,"s"),"e"),s:Geohash.adjacent(n,"s"),sw:Geohash.adjacent(Geohash.adjacent(n,"s"),"w"),w:Geohash.adjacent(n,"w"),nw:Geohash.adjacent(Geohash.adjacent(n,"n"),"w")}};typeof module!="undefined"&&module.exports&&(module.exports=Geohash);typeof define=="function"&&define.amd&&define([],function(){return Geohash});